import{a as Jt,b as ei}from"./chunk-KQ4GIYBB.js";import{a as ze}from"./chunk-3BGI723A.js";import{a as Xt}from"./chunk-V2YMYHBE.js";import{a as Zt,b as _e,c as Ge}from"./chunk-J3BBHJKJ.js";import{j as Gt,k as Ht,l as Yt,m as Kt}from"./chunk-4O7HA775.js";import{k as Ut}from"./chunk-FOTOXJIA.js";import{$ as gt,$a as O,$b as Dt,Aa as u,Ab as wt,B as ht,Bd as $t,C as j,Ca as et,Cd as $e,D as w,Da as Ct,Dd as Z,Eb as Tt,F as Je,Fa as _,Fb as We,Fc as jt,Ga as oe,Gb as Mt,Gc as Rt,H as Me,Ha as G,I as P,Ia as H,J as Ve,Ja as s,Jb as se,K as Fe,Ka as c,Kb as Vt,La as C,Lb as K,M as b,Mb as De,Md as Nt,Nb as je,Ob as Ft,P as B,Pa as S,Pb as At,Q as Ae,Qa as St,Qd as Bt,R as Le,Rb as de,Rd as J,Sa as k,Sb as Lt,Ua as d,Ub as x,V as bt,Va as Ee,Vb as Et,Vd as he,W as g,Wa as ne,Wb as me,Wd as be,X as y,Xa as tt,Xb as Ot,Xd as zt,Y as ft,Yb as Pt,Yd as Ne,Z as _t,Zb as qt,Zd as Be,_a as it,_b as Wt,_d as Ue,ab as A,ac as Re,ae as fe,ba as R,bb as L,bc as pe,be as ee,ca as yt,cb as Qe,cc as X,ce as q,db as m,ea as Ce,eb as re,fb as Q,ga as kt,gb as at,hb as lt,i as ae,j as M,k as V,ka as xt,la as r,lb as Oe,ld as rt,m as D,ma as E,mb as Y,nb as ot,p as v,pb as Qt,q as Te,qb as It,rb as Pe,sb as qe,sd as ct,tb as $,ua as vt,ub as N,v as z,va as f,vb as nt,w as le,x as pt,xb as ce,xd as ue,z as ut,za as Se,zb as ie}from"./chunk-KBA6ML62.js";var fi=["input"],_i=["label"],gi=["*"],yi=new Fe("mat-checkbox-default-options",{providedIn:"root",factory:ii});function ii(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var F=function(a){return a[a.Init=0]="Init",a[a.Checked=1]="Checked",a[a.Unchecked=2]="Unchecked",a[a.Indeterminate=3]="Indeterminate",a}(F||{}),ki={provide:De,useExisting:Me(()=>ge),multi:!0},st=class{},xi=0,ti=ii(),ge=(()=>{class a{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let t=new st;return t.source=this,t.checked=e,t}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,t,i,l,o,p){this._elementRef=e,this._changeDetectorRef=t,this._ngZone=i,this._animationMode=o,this._options=p,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new R,this.indeterminateChange=new R,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=F.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||ti,this.color=this._options.color||ti.color,this.tabIndex=parseInt(l)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++xi}`,this.disabledInteractive=p?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){let t=e!=this._indeterminate;this._indeterminate=e,t&&(this._indeterminate?this._transitionCheckState(F.Indeterminate):this._transitionCheckState(this.checked?F.Checked:F.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let t=this._currentCheckState,i=this._getAnimationTargetElement();if(!(t===e||!i)&&(this._currentAnimationClass&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);let l=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(l)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?F.Checked:F.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&e==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,t){if(this._animationMode==="NoopAnimations")return"";switch(e){case F.Init:if(t===F.Checked)return this._animationClasses.uncheckedToChecked;if(t==F.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case F.Unchecked:return t===F.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case F.Checked:return t===F.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case F.Indeterminate:return t===F.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static{this.\u0275fac=function(t){return new(t||a)(E(Ce),E(ce),E(yt),gt("tabindex"),E(kt,8),E(yi,8))}}static{this.\u0275cmp=B({type:a,selectors:[["mat-checkbox"]],viewQuery:function(t,i){if(t&1&&(O(fi,5),O(_i,5),O(ct,5)),t&2){let l;A(l=L())&&(i._inputElement=l.first),A(l=L())&&(i._labelElement=l.first),A(l=L())&&(i.ripple=l.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(t,i){t&2&&(St("id",i.id),Se("tabindex",null)("aria-label",null)("aria-labelledby",null),Ct(i.color?"mat-"+i.color:"mat-accent"),et("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mdc-checkbox--disabled",i.disabled)("mat-mdc-checkbox-disabled",i.disabled)("mat-mdc-checkbox-checked",i.checked)("mat-mdc-checkbox-disabled-interactive",i.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",ie],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",ie],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:wt(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",ie],checked:[2,"checked","checked",ie],disabled:[2,"disabled","disabled",ie],indeterminate:[2,"indeterminate","indeterminate",ie]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[Oe([ki,{provide:Ft,useExisting:a,multi:!0}]),vt,bt,Y],ngContentSelectors:gi,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(t,i){if(t&1){let l=S();Ee(),s(0,"div",3),k("click",function(p){return g(l),y(i._preventBubblingFromLabel(p))}),s(1,"div",4,0)(3,"div",5),k("click",function(){return g(l),y(i._onTouchTargetClick())}),c(),s(4,"input",6,1),k("blur",function(){return g(l),y(i._onBlur())})("click",function(){return g(l),y(i._onInputClick())})("change",function(p){return g(l),y(i._onInteractionEvent(p))}),c(),C(6,"div",7),s(7,"div",8),ft(),s(8,"svg",9),C(9,"path",10),c(),_t(),C(10,"div",11),c(),C(11,"div",12),c(),s(12,"label",13,2),ne(14),c()()}if(t&2){let l=Qe(2);u("labelPosition",i.labelPosition),r(4),et("mdc-checkbox--selected",i.checked),u("checked",i.checked)("indeterminate",i.indeterminate)("disabled",i.disabled&&!i.disabledInteractive)("id",i.inputId)("required",i.required)("tabIndex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex),Se("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("aria-checked",i.indeterminate?"mixed":null)("aria-disabled",i.disabled&&i.disabledInteractive?!0:null)("name",i.name)("value",i.value),r(7),u("matRippleTrigger",l)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),r(),u("for",i.inputId)}},dependencies:[ct,$t],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return a})();var He=(()=>{class a{static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275mod=Ae({type:a})}static{this.\u0275inj=Ve({imports:[ge,rt,rt]})}}return a})();var Ci=["searchSelectInput"],Si=["innerSelectSearch"],Qi=[[["",8,"mat-select-search-custom-header-content"]],[["","ngxMatSelectSearchClear",""]],[["","ngxMatSelectNoEntriesFound",""]]],Ii=[".mat-select-search-custom-header-content","[ngxMatSelectSearchClear]","[ngxMatSelectNoEntriesFound]"],wi=(a,n)=>({"mat-select-search-inner-multiple":a,"mat-select-search-inner-toggle-all":n});function Ti(a,n){if(a&1){let e=S();s(0,"mat-checkbox",12),k("change",function(i){g(e);let l=d();return y(l._emitSelectAllBooleanToParent(i.checked))}),c()}if(a&2){let e=d();u("color",e.matFormField==null?null:e.matFormField.color)("checked",e.toggleAllCheckboxChecked)("indeterminate",e.toggleAllCheckboxIndeterminate)("matTooltip",e.toggleAllCheckboxTooltipMessage)("matTooltipPosition",e.toggleAllCheckboxTooltipPosition)}}function Mi(a,n){a&1&&C(0,"mat-spinner",13)}function Vi(a,n){a&1&&ne(0,1,["*ngIf","clearIcon; else defaultIcon"])}function Fi(a,n){if(a&1&&(s(0,"mat-icon",16),m(1),c()),a&2){let e=d(2);u("svgIcon",e.closeSvgIcon),r(),Q(" ",e.closeSvgIcon?null:e.closeIcon," ")}}function Ai(a,n){if(a&1){let e=S();s(0,"button",14),k("click",function(){g(e);let i=d();return y(i._reset(!0))}),f(1,Vi,1,0,"ng-content",15)(2,Fi,2,2,"ng-template",null,2,nt),c()}if(a&2){let e=Qe(3),t=d();r(),u("ngIf",t.clearIcon)("ngIfElse",e)}}function Li(a,n){a&1&&ne(0,2,["*ngIf","noEntriesFound; else defaultNoEntriesFound"])}function Ei(a,n){if(a&1&&m(0),a&2){let e=d(2);re(e.noEntriesFoundLabel)}}function Oi(a,n){if(a&1&&(s(0,"div",17),f(1,Li,1,0,"ng-content",15)(2,Ei,1,1,"ng-template",null,3,nt),c()),a&2){let e=Qe(3),t=d();r(),u("ngIf",t.noEntriesFound)("ngIfElse",e)}}var Pi=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275dir=Le({type:a,selectors:[["","ngxMatSelectSearchClear",""]]}),a})(),qi=["ariaLabel","clearSearchInput","closeIcon","closeSvgIcon","disableInitialFocus","disableScrollToActiveOnOptionsChanged","enableClearOnEscapePressed","hideClearSearchButton","noEntriesFoundLabel","placeholderLabel","preventHomeEndKeyPropagation","searching"],Wi=new Fe("mat-selectsearch-default-options"),Di=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275dir=Le({type:a,selectors:[["","ngxMatSelectNoEntriesFound",""]]}),a})(),Ye=(()=>{class a{constructor(e,t,i,l,o,p){this.matSelect=e,this.changeDetectorRef=t,this._viewportRuler=i,this.matOption=l,this.matFormField=o,this.placeholderLabel="Suche",this.type="text",this.closeIcon="close",this.noEntriesFoundLabel="Keine Optionen gefunden",this.clearSearchInput=!0,this.searching=!1,this.disableInitialFocus=!1,this.enableClearOnEscapePressed=!1,this.preventHomeEndKeyPropagation=!1,this.disableScrollToActiveOnOptionsChanged=!1,this.ariaLabel="dropdown search",this.showToggleAllCheckbox=!1,this.toggleAllCheckboxChecked=!1,this.toggleAllCheckboxIndeterminate=!1,this.toggleAllCheckboxTooltipMessage="",this.toggleAllCheckboxTooltipPosition="below",this.hideClearSearchButton=!1,this.alwaysRestoreSelectedOptionsMulti=!1,this.toggleAll=new R,this.onTouched=h=>{},this._options$=new M(null),this.optionsList$=this._options$.pipe(j(h=>h?h.changes.pipe(v(I=>I.toArray()),ht(h.toArray())):D(null))),this.optionsLength$=this.optionsList$.pipe(v(h=>h?h.length:0)),this._formControl=new x("",{nonNullable:!0}),this._showNoEntriesFound$=Te([this._formControl.valueChanges,this.optionsLength$]).pipe(v(([h,I])=>!!(this.noEntriesFoundLabel&&h&&I===this.getOptionsLengthOffset()))),this._onDestroy=new ae,this.applyDefaultOptions(p)}get value(){return this._formControl.value}set _options(e){this._options$.next(e)}get _options(){return this._options$.getValue()}applyDefaultOptions(e){if(e)for(let t of qi)e.hasOwnProperty(t)&&(this[t]=e[t])}ngOnInit(){this.matOption?(this.matOption.disabled=!0,this.matOption._getHostElement().classList.add("contains-mat-select-search"),this.matOption._getHostElement().setAttribute("role","presentation")):console.error("<ngx-mat-select-search> must be placed inside a <mat-option> element"),this.matSelect.openedChange.pipe(ut(1),w(this._onDestroy)).subscribe(e=>{e?(this.updateInputWidth(),this.disableInitialFocus||this._focus()):this.clearSearchInput&&this._reset()}),this.matSelect.openedChange.pipe(pt(1),j(e=>{this._options=this.matSelect.options;let t=this._options.toArray()[this.getOptionsLengthOffset()];return this._options.changes.pipe(Je(()=>{setTimeout(()=>{let i=this._options.toArray(),l=i[this.getOptionsLengthOffset()],o=this.matSelect._keyManager;o&&this.matSelect.panelOpen&&l&&((!t||!this.matSelect.compareWith(t.value,l.value)||!o.activeItem||!i.find(h=>this.matSelect.compareWith(h.value,o.activeItem?.value)))&&o.setActiveItem(this.getOptionsLengthOffset()),setTimeout(()=>{this.updateInputWidth()})),t=l})}))})).pipe(w(this._onDestroy)).subscribe(),this._showNoEntriesFound$.pipe(w(this._onDestroy)).subscribe(e=>{this.matOption&&(e?this.matOption._getHostElement().classList.add("mat-select-search-no-entries-found"):this.matOption._getHostElement().classList.remove("mat-select-search-no-entries-found"))}),this._viewportRuler.change().pipe(w(this._onDestroy)).subscribe(()=>{this.matSelect.panelOpen&&this.updateInputWidth()}),this.initMultipleHandling(),this.optionsList$.pipe(w(this._onDestroy)).subscribe(()=>{this.changeDetectorRef.markForCheck()})}_emitSelectAllBooleanToParent(e){this.toggleAll.emit(e)}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}_isToggleAllCheckboxVisible(){return this.matSelect.multiple&&this.showToggleAllCheckbox}_handleKeydown(e){(e.key&&e.key.length===1||e.keyCode>=65&&e.keyCode<=90||e.keyCode>=48&&e.keyCode<=57||e.keyCode===32||this.preventHomeEndKeyPropagation&&(e.keyCode===36||e.keyCode===35))&&e.stopPropagation(),this.matSelect.multiple&&e.key&&e.keyCode===13&&setTimeout(()=>this._focus()),this.enableClearOnEscapePressed===!0&&e.keyCode===27&&this.value&&(this._reset(!0),e.stopPropagation())}_handleKeyup(e){if(e.keyCode===38||e.keyCode===40){let t=this.matSelect._getAriaActiveDescendant(),i=this._options.toArray().findIndex(l=>l.id===t);i!==-1&&(this.unselectActiveDescendant(),this.activeDescendant=this._options.toArray()[i]._getHostElement(),this.activeDescendant.setAttribute("aria-selected","true"),this.searchSelectInput.nativeElement.setAttribute("aria-activedescendant",t))}}writeValue(e){this._lastExternalInputValue=e,this._formControl.setValue(e),this.changeDetectorRef.markForCheck()}onBlur(){this.unselectActiveDescendant(),this.onTouched()}registerOnChange(e){this._formControl.valueChanges.pipe(z(t=>t!==this._lastExternalInputValue),Je(()=>this._lastExternalInputValue=void 0),w(this._onDestroy)).subscribe(e)}registerOnTouched(e){this.onTouched=e}_focus(){if(!this.searchSelectInput||!this.matSelect.panel)return;let e=this.matSelect.panel.nativeElement,t=e.scrollTop;this.searchSelectInput.nativeElement.focus(),e.scrollTop=t}_reset(e){this._formControl.setValue(""),e&&this._focus()}initMultipleHandling(){if(!this.matSelect.ngControl){this.matSelect.multiple&&console.error("the mat-select containing ngx-mat-select-search must have a ngModel or formControl directive when multiple=true");return}this.previousSelectedValues=this.matSelect.ngControl.value,this.matSelect.ngControl.valueChanges&&this.matSelect.ngControl.valueChanges.pipe(w(this._onDestroy)).subscribe(e=>{let t=!1;if(this.matSelect.multiple&&(this.alwaysRestoreSelectedOptionsMulti||this._formControl.value&&this._formControl.value.length)&&this.previousSelectedValues&&Array.isArray(this.previousSelectedValues)){(!e||!Array.isArray(e))&&(e=[]);let i=this.matSelect.options.map(l=>l.value);this.previousSelectedValues.forEach(l=>{!e.some(o=>this.matSelect.compareWith(o,l))&&!i.some(o=>this.matSelect.compareWith(o,l))&&(e.push(l),t=!0)})}this.previousSelectedValues=e,t&&this.matSelect._onChange(e)})}updateInputWidth(){if(!this.innerSelectSearch||!this.innerSelectSearch.nativeElement)return;let e=this.innerSelectSearch.nativeElement,t=null;for(;e&&e.parentElement;)if(e=e.parentElement,e.classList.contains("mat-select-panel")){t=e;break}t&&(this.innerSelectSearch.nativeElement.style.width=t.clientWidth+"px")}getOptionsLengthOffset(){return this.matOption?1:0}unselectActiveDescendant(){this.activeDescendant?.removeAttribute("aria-selected"),this.searchSelectInput.nativeElement.removeAttribute("aria-activedescendant")}}return a.\u0275fac=function(e){return new(e||a)(E(_e),E(ce),E(Nt),E(ue,8),E(he,8),E(Wi,8))},a.\u0275cmp=B({type:a,selectors:[["ngx-mat-select-search"]],contentQueries:function(e,t,i){if(e&1&&(it(i,Pi,5),it(i,Di,5)),e&2){let l;A(l=L())&&(t.clearIcon=l.first),A(l=L())&&(t.noEntriesFound=l.first)}},viewQuery:function(e,t){if(e&1&&(O(Ci,7,Ce),O(Si,7,Ce)),e&2){let i;A(i=L())&&(t.searchSelectInput=i.first),A(i=L())&&(t.innerSelectSearch=i.first)}},inputs:{placeholderLabel:"placeholderLabel",type:"type",closeIcon:"closeIcon",closeSvgIcon:"closeSvgIcon",noEntriesFoundLabel:"noEntriesFoundLabel",clearSearchInput:"clearSearchInput",searching:"searching",disableInitialFocus:"disableInitialFocus",enableClearOnEscapePressed:"enableClearOnEscapePressed",preventHomeEndKeyPropagation:"preventHomeEndKeyPropagation",disableScrollToActiveOnOptionsChanged:"disableScrollToActiveOnOptionsChanged",ariaLabel:"ariaLabel",showToggleAllCheckbox:"showToggleAllCheckbox",toggleAllCheckboxChecked:"toggleAllCheckboxChecked",toggleAllCheckboxIndeterminate:"toggleAllCheckboxIndeterminate",toggleAllCheckboxTooltipMessage:"toggleAllCheckboxTooltipMessage",toggleAllCheckboxTooltipPosition:"toggleAllCheckboxTooltipPosition",hideClearSearchButton:"hideClearSearchButton",alwaysRestoreSelectedOptionsMulti:"alwaysRestoreSelectedOptionsMulti"},outputs:{toggleAll:"toggleAll"},features:[Oe([{provide:De,useExisting:Me(()=>a),multi:!0}])],ngContentSelectors:Ii,decls:13,vars:14,consts:[["innerSelectSearch",""],["searchSelectInput",""],["defaultIcon",""],["defaultNoEntriesFound",""],["matInput","",1,"mat-select-search-input","mat-select-search-hidden"],[1,"mat-select-search-inner","mat-typography","mat-datepicker-content","mat-tab-header",3,"ngClass"],[1,"mat-select-search-inner-row"],["class","mat-select-search-toggle-all-checkbox","matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",3,"color","checked","indeterminate","matTooltip","matTooltipPosition","change",4,"ngIf"],["autocomplete","off",1,"mat-select-search-input",3,"keydown","keyup","blur","type","formControl","placeholder"],["class","mat-select-search-spinner","diameter","16",4,"ngIf"],["mat-icon-button","","aria-label","Clear","class","mat-select-search-clear",3,"click",4,"ngIf"],["class","mat-select-search-no-entries-found",4,"ngIf"],["matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",1,"mat-select-search-toggle-all-checkbox",3,"change","color","checked","indeterminate","matTooltip","matTooltipPosition"],["diameter","16",1,"mat-select-search-spinner"],["mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear",3,"click"],[4,"ngIf","ngIfElse"],[3,"svgIcon"],[1,"mat-select-search-no-entries-found"]],template:function(e,t){if(e&1){let i=S();Ee(Qi),C(0,"input",4),s(1,"div",5,0)(3,"div",6),f(4,Ti,1,5,"mat-checkbox",7),s(5,"input",8,1),k("keydown",function(o){return g(i),y(t._handleKeydown(o))})("keyup",function(o){return g(i),y(t._handleKeyup(o))})("blur",function(){return g(i),y(t.onBlur())}),c(),f(7,Mi,1,0,"mat-spinner",9)(8,Ai,4,2,"button",10),ne(9),c(),C(10,"mat-divider"),c(),f(11,Oi,4,2,"div",11),$(12,"async")}e&2&&(r(),u("ngClass",Qt(11,wi,t.matSelect.multiple,t._isToggleAllCheckboxVisible())),r(3),u("ngIf",t._isToggleAllCheckboxVisible()),r(),u("type",t.type)("formControl",t._formControl)("placeholder",t.placeholderLabel),Se("aria-label",t.ariaLabel),r(2),u("ngIf",t.searching),r(),u("ngIf",!t.hideClearSearchButton&&t.value&&!t.searching),r(3),u("ngIf",N(12,9,t._showNoEntriesFound$)))},dependencies:[Tt,Mt,je,de,me,Bt,ge,$e,Yt,Gt,Jt,se],styles:[".mat-select-search-hidden[_ngcontent-%COMP%]{visibility:hidden}.mat-select-search-inner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;z-index:100;font-size:inherit;box-shadow:none;background-color:var(--mat-select-panel-background-color)}.mat-select-search-inner.mat-select-search-inner-multiple.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]   .mat-select-search-inner-row[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-select-search-input[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;border:none;font-family:inherit;font-size:inherit;color:currentColor;outline:none;background-color:var(--mat-select-panel-background-color);padding:0 44px 0 16px;height:calc(3em - 1px);line-height:calc(3em - 1px)}[dir=rtl][_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-right:16px;padding-left:44px}.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-left:5px}.mat-select-search-no-entries-found[_ngcontent-%COMP%]{padding-top:8px}.mat-select-search-clear[_ngcontent-%COMP%]{position:absolute;right:4px;top:0}[dir=rtl][_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{right:auto;left:4px}.mat-select-search-spinner[_ngcontent-%COMP%]{position:absolute;right:16px;top:calc(50% - 8px)}[dir=rtl][_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%]{right:auto;left:16px}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search{position:sticky;top:-8px;z-index:1;opacity:1;margin-top:-8px;pointer-events:all}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search .mat-icon{margin-right:0;margin-left:0}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search mat-pseudo-checkbox{display:none}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search .mdc-list-item__primary-text{opacity:1}.mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:5px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:0;padding-right:5px}"],changeDetection:0}),a})();var ye=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=Ae({type:a}),a.\u0275inj=Ve({imports:[K,X,J,He,Z,Kt,Ht,ei]}),a})();var ri=(()=>{class a{constructor(){this.request=b(ee),this.lang=b(q),this.langService="%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22"+this.lang.selectedLang+"%22%2C%22en%22.%20%7D%0A"}projectsListBuilding(e){let o=this.newSparqlAddress("https://database.factgrid.de/query/#SELECT%20DISTINCT%20%3Fitem%20%3FitemLabel%20WHERE%20%7B"+this.langService+"%3Fitem%20wdt%3AP2%20wd%3A"+e+".%7D%0A");return this.request.getList(o).pipe(v(p=>this.listFromSparql(p)))}listFromSparql(e){if(e!==void 0&&e.results!==void 0){let t=e.results.bindings;for(let i=0;i<t.length;i++)t[i].item.id=t[i].item.value.replace("https://database.factgrid.de/entity/","");t.sort((i,l)=>i.itemLabel.value.toUpperCase()<l.itemLabel.value.toUpperCase()?-1:l.itemLabel.value.toUpperCase()>l.itemLabel.value.toUpperCase()?1:0)}return e.results.bindings}newSparqlAddress(e){let t="https://database.factgrid.de/sparql?query=",i="https://database.factgrid.de/query/#";return e.includes("embed.html")&&(i="https://database.factgrid.de/query/embed.html#"),e!==void 0&&(e=e.replace(i,t)),e}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275prov=P({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var Ke=(()=>{class a{constructor(){this.request=b(ee),this.lang=b(q),this.langService="%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22"+this.lang.selectedLang+"%22%2C%22en%22.%20%7D%0A"}propertiesListBuilding(e){let o="https://database.factgrid.de/query/#SELECT%20DISTINCT%20%3Fitem%20%3FitemLabel%20%3FpropertyType%20WHERE%20%7B"+this.langService+"VALUES%20%3Fproperties%20%7B%20wd%3A"+e+"%20wd%3AQ1089730%7D%20%3Fitem%20wdt%3AP8%20%3Fproperties%3B%20wikibase%3ApropertyType%20%3FpropertyType%20MINUS%20%7B%20%3Fproperty%20wikibase%3ApropertyType%20wikibase%3AUrl%20%7D%20MINUS%20%7B%20%3Fitem%20wikibase%3ApropertyType%20wikibase%3AExternalId%20%7D%20MINUS%20%7B%20%3Fitem%20wikibase%3ApropertyType%20wikibase%3AUrl%20%7D%20MINUS%20%7B%20%3Fitem%20wikibase%3ApropertyType%20wikibase%3AGlobeCoordinate%20%7D%20MINUS%20%7B%20%3Fitem%20wikibase%3ApropertyType%20wikibase%3AGeoShape%20%7D%20MINUS%20%7B%20%3Fitem%20wikibase%3ApropertyType%20wikibase%3ACommonsMedia%20%7D%20%7D%20ORDER%20BY%20%3FitemLabel%0A";console.log(o);let p=this.newSparqlAddress(o);return console.log(p),this.request.getList(p).pipe(v(h=>this.transformListFromSparql(h)))}propertiesList2Building(e){let t="https://database.factgrid.de/query/#SELECT%20DISTINCT%20%3Fitem%20%3FitemLabel%20WHERE%20%7B",i="%3Fitem%20wdt%3AP2%20wd%3A",l=".%7D%0A";console.log(t+this.langService+i+e+l);let o=this.newSparqlAddress(t+this.langService+i+e+l);return this.request.getList(o).pipe(v(p=>this.listFromSparql(p)))}get qualifierPropertiesListBuilding(){let e="https://database.factgrid.de/query/#SELECT%20DISTINCT%20%3Fitem%20%3FitemLabel%20%3FpropertyType%20%20WHERE%20%7B%20",t="%20VALUES%20%3Fqualifier%20%7B%20wd%3AQ514317%20wd%3AQ21403%20%7D%0A%20%3Fitem%20wikibase%3ApropertyType%20%3FpropertyType%3B%0A%20%20%20%20%20%20%20%20%20%20%20wdt%3AP8%20%3Fqualifier.%0A%7D%0AORDER%20BY%20%3FitemLabel",i,l=this.newSparqlAddress(e+this.langService+t);return this.request.getList(l).pipe(v(o=>this.listFromSparql(o)),v(o=>this.transformListFromSparql(o)))}listFromSparql(e){if(e!==void 0&&e.results!==void 0){let t=e.results.bindings;for(let i=0;i<t.length;i++)t[i].item.id=t[i].item.value.replace("https://database.factgrid.de/entity/","");t.sort((i,l)=>i.itemLabel.value.toUpperCase()<l.itemLabel.value.toUpperCase()?-1:l.itemLabel.value.toUpperCase()>l.itemLabel.value.toUpperCase()?1:0)}return e.results.bindings}newSparqlAddress(e){let t="https://database.factgrid.de/sparql?query=",i="https://database.factgrid.de/query/#";return e.includes("embed.html")&&(i="https://database.factgrid.de/query/embed.html#"),e!==void 0&&(e=e.replace(i,t)),e}deepNatureOf(){let e="Instance of (deep search)";return this.lang.selectedLang==="de"&&(e="Ist ein(e) (vertiefte Suche)"),this.lang.selectedLang==="fr"&&(e="Nature de l'\xE9l\xE9ment (recherche approfondie)"),this.lang.selectedLang==="es"&&(e="Instancia de (investigaci\xF3n en profundidad)"),this.lang.selectedLang==="it"&&(e="\xC8 (ricerca approfondita)"),e}changeList(e){if(e!==void 0)for(let t=0;t<e.length;t++){let i=this.removeSubstring(e[t].propertyType.value,"http://wikiba.se/ontology#");e[t].itemLabel.label=e[t].itemLabel.value+" ("+i+")"}return e}transformListFromSparql(e){return e!==void 0&&e.results!==void 0?e.results.bindings.map(i=>{let l=i.itemLabel.value,o=i.propertyType.value.replace("http://wikiba.se/ontology#","");return{value:l,id:i.item.value.replace("https://database.factgrid.de/entity/",""),type:o,label:`${l} (${o})`}}).sort((i,l)=>i.value.toUpperCase()<l.value.toUpperCase()?-1:i.value.toUpperCase()>l.value.toUpperCase()?1:0):[]}removeSubstring(e,t){let i=new RegExp(t,"g");return e.replace(i,"")}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275prov=P({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var Ri=["multiSelect"];function $i(a,n){if(a&1&&(s(0,"mat-option",6),m(1),c()),a&2){let e=n.$implicit;u("value",e.item.id),r(),Q(" ",e.itemLabel.value," ")}}var ci=(()=>{class a{constructor(){this.setLanguage=b(ze),this.lang=b(q),this.formBuilder=b(Re),this.placeholderLabel="Search",this.projectSearchInput=new x,this.projectMultiFilterCtrl=new x(""),this.filteredProjectMulti=new V(1),this.selectionChange=new R,this._onDestroy=new ae}set data(e){this._data=e,this.filteredProjectMulti.next(this.data.slice())}get data(){return this._data}ngOnInit(){this.projectMultiFilterCtrl.valueChanges.pipe(w(this._onDestroy)).subscribe(()=>{this.filterProjectMulti()})}ngAfterViewInit(){this.setInitialValue()}setInitialValue(){this.filteredProjectMulti}onSelectChange(e){}filterProjectMulti(){if(!this.data)return;let e=this.projectMultiFilterCtrl.value;if(e)e=e.toLowerCase();else{this.filteredProjectMulti.next(this.data.slice());return}this.filteredProjectMulti.next(this.data.filter(t=>t.itemLabel.value.toLowerCase().indexOf(e)>-1))}onSelection(e){this.selectionChange.emit(new Zt(this.multiSelect,e.value))}ngOnDestroy(){}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275cmp=B({type:a,selectors:[["app-project-select"]],viewQuery:function(t,i){if(t&1&&O(Ri,7),t&2){let l;A(l=L())&&(i.multiSelect=l.first)}},inputs:{placeholderLabel:"placeholderLabel",data:"data"},outputs:{selectionChange:"selectionChange"},standalone:!0,features:[Y],decls:9,vars:6,consts:[["multiSelect",""],[1,"cardBackground"],["id","projects",1,"search-center2"],["placeholder","Projects",3,"selectionChange","formControl","multiple"],["placeholderLabel","Search","noEntriesFoundLabel","Not found",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,i){if(t&1){let l=S();s(0,"div",1)(1,"div",2)(2,"mat-form-field")(3,"mat-select",3,0),k("selectionChange",function(p){return g(l),y(i.onSelection(p))}),s(5,"mat-option"),C(6,"ngx-mat-select-search",4),c(),f(7,$i,2,2,"mat-option",5),$(8,"async"),c()()()()}t&2&&(r(3),u("formControl",i.projectSearchInput)("multiple",!0),r(3),u("formControl",i.projectMultiFilterCtrl),r(),u("ngForOf",N(8,4,i.filteredProjectMulti)))},dependencies:[K,We,se,X,de,me,pe,fe,Z,J,Ge,he,_e,ue,be,ye,Ye],styles:[".search-center2[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center}#projects[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:60vw}@media (max-width: 959.98px){#projects[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:90vw}}"]})}}return a})();var si=(()=>{class a{constructor(){this.request=b(ee),this.lang=b(q),this.baseGetURL="https://database.factgrid.de//w/api.php?action=wbgetentities&ids=",this.getUrlSuffix="&format=json&origin=*"}input(e){e.pipe(le(400),j(t=>this.request.searchItem(t,this.lang.selectedLang)),v(t=>this.createList(t)),v(t=>t=="https://database.factgrid.de//w/api.php?action=wbgetentities&ids=&format=json&origin=*"?"https://database.factgrid.de//w/api.php?action=wbgetentities&ids=Q220375&format=json&origin=*":t),le(200),j(t=>this.request.getItem(t)),z(t=>t!==void 0))}createList(e){let t="",i="",l=e.search;l===void 0?l=[]:l=l;for(let o=0;o<l.length;o++)t=t+"|"+l[o].id;return t=t.slice(1),i=this.baseGetURL+t+this.getUrlSuffix,i}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275prov=P({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var W=[{label:"?activity",id:"Q256699",order:0},{label:"?archive",id:"Q21870",order:0},{label:"?artefact",id:"Q101755",order:0},{label:"?book",id:"Q100626",order:0},{label:"?career",id:"Q77493",order:0},{label:"?city",id:"Q77500",order:0},{label:"?context",id:"Q77500",order:0},{label:"?country",id:"Q77500",order:0},{label:"?date",id:"Q77483",order:0},{label:"?document",id:"Q21870",order:0},{label:"?education",id:"Q100631",order:0},{label:"?event",id:"Q77499",order:0},{label:"?freemasonry",id:"Q23197",order:0},{label:"?group",id:"Q77498",order:0},{label:"?human",id:"Q77478",order:0},{label:"?human work",id:"Q77495",order:0},{label:"?name",id:"Q77488",order:0},{label:"?object",id:"Q101755",order:0},{label:"?organisation",id:"Q77501",order:0},{label:"?person",id:"Q77478",order:0},{label:"?people",id:"Q77478",order:0},{label:"?place",id:"Q77500",order:0},{label:"?printed document",id:"Q100626",order:0},{label:"?profession",id:"Q256699",order:0},{label:"?publication",id:"Q77502",order:0}],di=[{label:"write literal string",type:"String",col:0},{label:"write date : YYYY-MM-DD",type:"Time",col:0},{label:"write number",type:"Quantity",col:0},{label:"None",type:"Any",col:2},{label:"None",type:"Any",col:3},{label:"None",type:"Any",col:4},{label:"?date",type:"Time",col:0},{label:"?date1",type:"Time",col:1},{label:"?date2",type:"Time",col:2},{label:"?date3",type:"Time",col:3},{label:"?date4",type:"Time",col:4},{label:"?date5",type:"Time",col:5},{label:"?string",type:"String",col:0},{label:"?string1",type:"String",col:1},{label:"?string2",type:"String",col:2},{label:"?string3",type:"String",col:3},{label:"?string4",type:"String",col:4},{label:"?amount",type:"Quantity",col:0},{label:"?amount1",type:"Quantity",col:1},{label:"?amount2",type:"Quantity",col:2},{label:"?amount3",type:"Quantity",col:3},{label:"?number",type:"Quantity",col:0},{label:"?number1",type:"Quantity",col:1},{label:"?number2",type:"Quantity",col:2},{label:"?number3",type:"Quantity",col:3}],mi=[1,5,6,8,10,13,16,17,19,20,21,23],ke=[[{label:"?activity",id:"Q256699",col:0},{label:"?archive",id:"Q21870",col:1},{label:"?artefact",id:"Q101755",col:2},{label:"?book",id:"Q100626",col:3},{label:"?career",id:"Q77493",col:4},{label:"?city",id:"Q77500",col:5},{label:"?country",id:"Q77500",col:6},{label:"?date",id:"Q77483",col:7},{label:"?document",id:"Q21870",col:8},{label:"?education",id:"Q100631",col:9},{label:"?event",id:"Q77499",col:10},{label:"?freemasonry",id:"Q23197",col:11},{label:"?group",id:"Q77498",col:12},{label:"?human",id:"Q77478",col:13},{label:"?human work",id:"Q77495",col:14},{label:"?name",id:"Q77488",col:15},{label:"?object",id:"Q101755",col:16},{label:"?organisation",id:"Q77501",col:17},{label:"?people",id:"Q77478",col:18},{label:"?person",id:"Q77478",col:19},{label:"?place",id:"Q77500",col:20},{label:"?printed document",id:"Q100626",col:21},{label:"?profession",id:"Q256699",col:22},{label:"?publication",id:"Q77502",col:23}],[{label:"?activity1",id:"Q256699",col:0},{label:"?archive1",id:"Q21870",col:1},{label:"?artefact1",id:"Q101755",col:2},{label:"?book1",id:"Q100626",col:3},{label:"?career1",id:"Q77493",col:4},{label:"?city1",id:"Q77500",col:5},{label:"?country1",id:"Q77500",col:6},{label:"?date1",id:"Q77483",col:7},{label:"?document1",id:"Q21870",col:8},{label:"?education1",id:"Q100631",col:9},{label:"?event1",id:"Q77499",col:10},{label:"?freemasonry1",id:"Q23197",col:11},{label:"?group1",id:"Q77498",col:12},{label:"?human1",id:"Q77478",col:13},{label:"?human work1",id:"Q77495",col:14},{label:"?name1",id:"Q77488",col:15},{label:"?object1",id:"Q101755",col:16},{label:"?organisation1",id:"Q77501",col:17},{label:"?people1",id:"Q77478",col:18},{label:"?person1",id:"Q77478",col:19},{label:"?place1",id:"Q77500",col:20},{label:"?printed document1",id:"Q100626",col:21},{label:"?profession1",id:"Q256699",col:22},{label:"?publication1",id:"Q77502",col:23}],[{label:"?activity2",id:"Q256699",col:0},{label:"?archive2",id:"Q21870",col:1},{label:"?artefact2",id:"Q101755",col:2},{label:"?book2",id:"Q100626",col:3},{label:"?career2",id:"Q77493",col:4},{label:"?city2",id:"Q77500",col:5},{label:"?country2",id:"Q77500",col:6},{label:"?date2",id:"Q77483",col:7},{label:"?document2",id:"Q21870",col:8},{label:"?education2",id:"Q100631",col:9},{label:"?event2",id:"Q77499",col:10},{label:"?freemasonry2",id:"Q23197",col:11},{label:"?group2",id:"Q77498",col:12},{label:"?human2",id:"Q77478",col:13},{label:"?human work2",id:"Q77495",col:14},{label:"?name2",id:"Q77488",col:15},{label:"?object2",id:"Q101755",col:16},{label:"?organisation2",id:"Q77501",col:17},{label:"?people2",id:"Q77478",col:18},{label:"?person2",id:"Q77478",col:19},{label:"?place2",id:"Q77500",col:20},{label:"?printed document2",id:"Q100626",col:21},{label:"?profession2",id:"Q256699",col:22},{label:"?publication2",id:"Q77502",col:23}],[{label:"?activity3",id:"Q256699",col:0},{label:"?archive3",id:"Q21870",col:1},{label:"?artefact3",id:"Q101755",col:2},{label:"?book3",id:"Q100626",col:3},{label:"?career3",id:"Q77493",col:4},{label:"?city3",id:"Q77500",col:5},{label:"?country3",id:"Q77500",col:6},{label:"?date3",id:"Q77483",col:7},{label:"?document3",id:"Q21870",col:8},{label:"?education3",id:"Q100631",col:9},{label:"?event3",id:"Q77499",col:10},{label:"?freemasonry3",id:"Q23197",col:11},{label:"?group3",id:"Q77498",col:12},{label:"?human3",id:"Q77478",col:13},{label:"?human work3",id:"Q77495",col:14},{label:"?name3",id:"Q77488",col:15},{label:"?object3",id:"Q101755",col:16},{label:"?organisation3",id:"Q77501",col:17},{label:"?people3",id:"Q77478",col:18},{label:"?person3",id:"Q77478",col:19},{label:"?place3",id:"Q77500",col:20},{label:"?printed document3",id:"Q100626",col:21},{label:"?profession3",id:"Q256699",col:22},{label:"?publication3",id:"Q77502",col:23}],[{label:"?activity4",id:"Q256699",col:0},{label:"?archive4",id:"Q21870",col:1},{label:"?artefact4",id:"Q101755",col:2},{label:"?book4",id:"Q100626",col:3},{label:"?career4",id:"Q77493",col:4},{label:"?city4",id:"Q77500",col:5},{label:"?country4",id:"Q77500",col:6},{label:"?date4",id:"Q77483",col:7},{label:"?document4",id:"Q21870",col:8},{label:"?education4",id:"Q100631",col:9},{label:"?event4",id:"Q77499",col:10},{label:"?freemasonry4",id:"Q23197",col:11},{label:"?group4",id:"Q77498",col:12},{label:"?human4",id:"Q77478",col:13},{label:"?human work4",id:"Q77495",col:14},{label:"?name4",id:"Q77488",col:15},{label:"?object4",id:"Q101755",col:16},{label:"?organisation4",id:"Q77501",col:17},{label:"?people4",id:"Q77478",col:18},{label:"?person4",id:"Q77478",col:19},{label:"?place4",id:"Q77500",col:20},{label:"?printed document4",id:"Q100626",col:21},{label:"?profession4",id:"Q256699",col:22},{label:"?publication4",id:"Q77502",col:23}],[{label:"?activity5",id:"Q256699",col:0},{label:"?archive5",id:"Q21870",col:1},{label:"?artefact5",id:"Q101755",col:2},{label:"?book5",id:"Q100626",col:3},{label:"?career5",id:"Q77493",col:4},{label:"?city5",id:"Q77500",col:5},{label:"?country5",id:"Q77500",col:6},{label:"?date5",id:"Q77483",col:7},{label:"?document5",id:"Q21870",col:8},{label:"?education5",id:"Q100631",col:9},{label:"?event5",id:"Q77499",col:10},{label:"?freemasonry5",id:"Q23197",col:11},{label:"?group5",id:"Q77498",col:12},{label:"?human5",id:"Q77478",col:13},{label:"?human work5",id:"Q77495",col:14},{label:"?name5",id:"Q77488",col:15},{label:"?object5",id:"Q101755",col:16},{label:"?organisation5",id:"Q77501",col:17},{label:"?people5",id:"Q77478",col:18},{label:"?person5",id:"Q77478",col:19},{label:"?place5",id:"Q77500",col:20},{label:"?printed document5",id:"Q100626",col:21},{label:"?profession5",id:"Q256699",col:22},{label:"?publication5",id:"Q77502",col:23}]];var xe=(()=>{class a{constructor(){this.mutator=new M(ke),this.mutator$=this.mutator.asObservable(),this.mutatorForItemValue=new M(ke),this.mutatorForItemValue$=this.mutator.asObservable(),this.mutatorForNextStatement=new M(ke),this.mutatorForNextStatement$=this.mutatorForNextStatement.asObservable(),this.itemTypes=new M(W),this.itemTypes$=this.itemTypes.asObservable(),this.itemTypes1=new M([]),this.itemTypes1$=this.itemTypes1.asObservable(),this.itemTypes2=new M([]),this.itemTypes2$=this.itemTypes2.asObservable(),this.formerItemTypes=new M([W]),this.formerItemTypes$=this.formerItemTypes.asObservable(),this.propertiesList=new M([]),this.propertiesList$=this.propertiesList.asObservable(),this.currentStatement=new M(0),this.currentStatement$=this.currentStatement.asObservable()}updateMutator(e){this.mutator.next(e)}updateMutatorForItemValue(e){this.mutatorForItemValue.next(e)}updateMutatorForNextStatement(e){this.mutatorForNextStatement.next(e)}lastItemTypes$(e){return e.pipe(v(t=>t[t.length-1]))}updateItemTypes(e){this.itemTypes.next(e)}updateItemTypes1(e){this.itemTypes1.next(e)}updateItemTypes2(e){this.itemTypes2.next(e)}updateFormerItemTypes(e){this.formerItemTypes.next(e)}updatePropertiesList(e){this.propertiesList.next(e)}updateCurrentStatement(e){this.currentStatement.next(e)}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275prov=P({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var pi=(()=>{class a{constructor(){}itemType(e,t){return e&&e.length>t?e.at(t).get("value.itemType"):null}itemValue(e,t){return e.at(t).get("value.itemValue")}propertyValues(e,t){return e.at(t).get("properties")}literalValue(e,t){return e.at(t).get("value.literalValue")}literalString(e,t){return e.at(t).get("value.literalString")}qualifiers(e,t){return e.at(t).get("qualifiers")}qualifierProperty(e,t){return e.at(t).get("qualifierProperty")}qualifierValue(e,t){return e.at(t).controls.value.get("qualifierValue")}qualifierLiteralValue(e,t){return e.at(t).controls.value.get("qualifierLiteralValue")}qualifierLiteralString(e,t){return e.at(t).controls.value.get("qualifierLiteralString")}patchQualifierValue(e,t,i){return this.qualifierValue(t,i).patchValue("value")}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275prov=P({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var Bi=["matRef"],Ui=["singleSelect"],zi=["multiSelect"],Gi=(a,n)=>n.itemType,Hi=(a,n)=>n.qualifierProperty[1],dt=(a,n,e,t,i)=>[a,n,e,t,i],mt=(a,n,e,t)=>[a,n,e,t],Yi=(a,n,e)=>[a,n,e];function Ki(a,n){a&1&&m(0," (optional) ")}function Xi(a,n){if(a&1&&m(0),a&2){let e=d().$implicit;at(" statement ",e.itemType[0]+1," : subject: ",e.itemType[1]," ")}}function Zi(a,n){if(a&1&&m(0),a&2){let e=n.$implicit;re(e[3])}}function Ji(a,n){if(a&1&&(m(0," -> property: "),G(1,Zi,1,1,null,null,oe)),a&2){let e=d().$implicit;r(),H(e.properties)}}function ea(a,n){if(a&1&&m(0),a&2){let e=d(2).$implicit;Q(" ",e.value.itemValue[1]," ")}}function ta(a,n){if(a&1&&m(0),a&2){let e=d(2).$implicit;Q(" ",e.value.literalValue[1]," ")}}function ia(a,n){if(a&1&&m(0),a&2){let e=d(2).$implicit;Q(" ",e.value.literalString," ")}}function aa(a,n){if(a&1&&(m(0," -> object: "),f(1,ea,1,1)(2,ta,1,1)(3,ia,1,1)),a&2){let e=d().$implicit;r(),_(e.value.itemValue?1:-1),r(),_(e.value.literalValue?2:-1),r(),_(e.value.literalString?3:-1)}}function la(a,n){if(a&1&&m(0),a&2){let e=d().$implicit;at(" qualifier ",e.qualifierProperty[1]+1," : property: ",e.qualifierProperty[4],"")}}function oa(a,n){if(a&1&&m(0),a&2){let e=d(2).$implicit;Q(" -> object: ",e.value.qualifierValue[2],"")}}function na(a,n){if(a&1&&m(0),a&2){let e=d(2).$implicit;Q(" -> object: ",e.value.qualifierLiteralValue[2],"")}}function ra(a,n){if(a&1&&m(0),a&2){let e=d(2).$implicit;Q(" -> object: ",e.value.qualifierLiteralString,"")}}function ca(a,n){if(a&1&&f(0,oa,1,1)(1,na,1,1)(2,ra,1,1),a&2){let e=d().$implicit;_(e.value.qualifierValue?0:-1),r(),_(e.value.qualifierLiteralValue?1:-1),r(),_(e.value.qualifierLiteralString?2:-1)}}function sa(a,n){if(a&1&&(s(0,"div",8),f(1,la,1,2)(2,ca,3,3),c()),a&2){let e=n.$implicit;r(),_(e.qualifierProperty?1:-1),r(),_(e.value?2:-1)}}function da(a,n){if(a&1&&(s(0,"div",2),G(1,sa,3,2,"div",8,Hi),c()),a&2){let e=d().$implicit;r(),H(e.qualifiers)}}function ma(a,n){if(a&1&&(s(0,"div",8),f(1,Ki,1,0)(2,Xi,1,2)(3,Ji,3,0)(4,aa,4,3),c(),f(5,da,3,0,"div",2)),a&2){let e=n.$implicit;r(),_(e.optional?1:-1),r(),_(e.itemType?2:-1),r(),_(e.properties?3:-1),r(),_(e.value?4:-1),r(),_(e.qualifiers?5:-1)}}function pa(a,n){if(a&1&&G(0,ma,6,5,null,null,Gi),a&2){let e=d();H(e.query.value.statements)}}function ua(a,n){if(a&1&&(s(0,"mat-option",19),m(1),c()),a&2){let e=n.$implicit,t=d().$index;u("value",qe(2,dt,t,e.label,e.value,e.id,e.order)),r(),Q(" ",e.label," ")}}function ha(a,n){if(a&1&&(s(0,"mat-option",19),m(1),c()),a&2){let e=n.$implicit,t=d().$index;u("value",Pe(2,mt,t,e.value,e.id,e.type)),r(),Q(" ",e.label," ")}}function ba(a,n){a&1&&(s(0,"div",17),m(1," Select several properties only if they have the same type "),c())}function fa(a,n){if(a&1&&(s(0,"mat-option",19),m(1),c()),a&2){let e=n.$implicit,t=d(2).$index;u("value",Pe(4,mt,t,e.label,e.col,e.id)),r(),lt(" ",e.label,"",e.separator,"",e.description," ")}}function _a(a,n){if(a&1){let e=S();s(0,"mat-form-field",11)(1,"mat-select",20,0),k("selectionChange",function(i){g(e);let l=d(2);return y(l.onValueSelect(i))}),s(3,"mat-option"),C(4,"ngx-mat-select-search",16),c(),f(5,fa,2,9,"mat-option",14),$(6,"async"),c()()}if(a&2){let e=d().$index,t=d();r(4),u("formControl",t.itemValueFilterCtrl),r(),u("ngForOf",N(6,2,t.filteredItemValuesArray[e]))}}function ga(a,n){if(a&1&&(s(0,"mat-option",19),m(1),c()),a&2){let e=n.$implicit,t=d(2).$index;u("value",It(2,Yi,t,e.label,e.col)),r(),Q(" ",e.label," ")}}function ya(a,n){if(a&1){let e=S();s(0,"mat-form-field",11)(1,"mat-select",21,0),k("selectionChange",function(i){g(e);let l=d(2);return y(l.onLiteralValueSelect(i))}),G(3,ga,2,6,"mat-option",19,oe),c()(),s(5,"mat-form-field",11),C(6,"input",22),c()}if(a&2){let e=d(2);r(),tt("placeholder",e.placeholderForLiteralValue),r(2),H(e.literalVariables),r(3),tt("placeholder",e.placeholderForLiteralString)}}function ka(a,n){if(a&1&&(s(0,"mat-option",19),m(1),c()),a&2){let e=n.$implicit,t=d(2).$index,i=d(2).$index;u("value",qe(2,dt,i,t,e.id,e.propertyType.id,e.itemLabel.value)),r(),Q(" ",e.itemLabel.label," ")}}function xa(a,n){if(a&1&&(s(0,"mat-option",19),m(1),c()),a&2){let e=n.$implicit,t=d(3).$index,i=d(2).$index;u("value",qe(4,dt,i,t,e.label,e.col,e.id)),r(),lt(" ",e.label,"",e.separator,"",e.description," ")}}function va(a,n){if(a&1){let e=S();s(0,"mat-form-field",11)(1,"mat-select",25,0),k("selectionChange",function(i){g(e);let l=d(5);return y(l.onQualifierValueSelect(i))}),s(3,"mat-option"),C(4,"ngx-mat-select-search",16),c(),f(5,xa,2,10,"mat-option",14),$(6,"async"),c()()}if(a&2){let e=d(5);r(4),u("formControl",e.qualifierValueFilterCtrl),r(),u("ngForOf",N(6,2,e.filteredQualifierValues))}}function Ca(a,n){if(a&1&&(s(0,"mat-option",19),m(1),c()),a&2){let e=n.$implicit,t=d(3).$index,i=d(2).$index;u("value",Pe(2,mt,i,t,e.label,e.col)),r(),Q(" ",e.label," ")}}function Sa(a,n){a&1&&(s(0,"mat-form-field",11),C(1,"input",27),c())}function Qa(a,n){if(a&1){let e=S();s(0,"mat-form-field",11)(1,"mat-select",26,0),k("selectionChange",function(i){g(e);let l=d(5);return y(l.onQualifierLiteralValueSelect(i))}),G(3,Ca,2,7,"mat-option",19,oe),c()(),f(5,Sa,2,0,"mat-form-field",11)}if(a&2){let e=d(5);r(3),H(e.qualifierLiteralVariables),r(2),_(e.isLiteralStringOnQualifier?5:-1)}}function Ia(a,n){if(a&1){let e=S();s(0,"div",2),m(1),s(2,"span"),m(3,"\xA0\xA0\xA0\xA0\xA0\xA0"),s(4,"mat-checkbox",10),m(5,"Optional"),c()(),m(6,":"),c(),s(7,"mat-form-field",11)(8,"mat-select",24),k("selectionChange",function(i){g(e);let l=d(4);return y(l.onQualifierPropertySelect(i))}),s(9,"mat-option"),C(10,"ngx-mat-select-search",16),c(),f(11,ka,2,8,"mat-option",14),$(12,"async"),c()(),s(13,"div",18),f(14,va,7,4,"mat-form-field",11)(15,Qa,6,1),c()}if(a&2){let e=d().$index,t=d(3);r(),Q("Qualifier ",e+1," "),r(9),u("formControl",t.qualifierPropertyFilterCtrl),r(),u("ngForOf",N(12,5,t.filteredQualifierProperties)),r(3),_(t.isWikibaseItemOnQualifier===!0?14:-1),r(),_(t.isLiteralOnQualifier===!0?15:-1)}}function wa(a,n){if(a&1&&(s(0,"div",9),f(1,Ia,16,7),c()),a&2){let e=n.$index,t=d(2).$index,i=d();u("formGroupName",e),r(),_(e===i.qualifiers(t).length-1?1:-1)}}function Ta(a,n){if(a&1){let e=S();s(0,"div",4)(1,"button",28),k("click",function(){g(e);let i=d(2).$index,l=d();return y(l.removeQualifiers(i,l.j))}),m(2,"Remove qualifier"),c()()}}function Ma(a,n){if(a&1&&(s(0,"div",23),G(1,wa,2,2,"div",9,oe),c(),f(3,Ta,3,0,"div",4)),a&2){let e=d().$index,t=d();r(),H(t.qualifiers(e).controls),r(2),_(t.isRemoveQualifier?3:-1)}}function Va(a,n){if(a&1){let e=S();s(0,"div",4)(1,"button",28),k("click",function(){g(e);let i=d().$index,l=d();return y(l.addQualifiers(i))}),m(2,"Add qualifier"),c()()}}function Fa(a,n){if(a&1){let e=S();s(0,"div",4)(1,"button",28),k("click",function(){g(e);let i=d().$index,l=d();return y(l.removeStatements(i))}),m(2,"Remove statement"),c()()}}function Aa(a,n){if(a&1){let e=S();s(0,"div",4)(1,"button",28),k("click",function(){g(e);let i=d(2);return y(i.addStatements())}),m(2,"Add Statement"),c()()}}function La(a,n){if(a&1){let e=S();s(0,"div",9)(1,"div",2),m(2),s(3,"span"),m(4,"\xA0\xA0\xA0\xA0\xA0\xA0"),s(5,"mat-checkbox",10),m(6,"Optional"),c()(),m(7,":"),c(),s(8,"mat-form-field",11)(9,"mat-select",12,0),k("selectionChange",function(i){g(e);let l=d();return y(l.onItemTypeSelect(i))}),s(11,"mat-option"),C(12,"ngx-mat-select-search",13),c(),f(13,ua,2,8,"mat-option",14),$(14,"async"),c()(),s(15,"mat-form-field",11)(16,"mat-select",15),k("selectionChange",function(i){g(e);let l=d();return y(l.onPropertySelect(i))}),s(17,"mat-option"),C(18,"ngx-mat-select-search",16),c(),f(19,ha,2,7,"mat-option",14),$(20,"async"),c(),f(21,ba,2,0,"div",17),c(),s(22,"div",18),f(23,_a,7,4,"mat-form-field",11)(24,ya,7,2),c(),f(25,Ma,4,1)(26,Va,3,0,"div",4),c(),f(27,Fa,3,0,"div",4)(28,Aa,3,0,"div",4)}if(a&2){let e=n.$index,t=d();u("formGroupName",e),r(2),Q("Statement ",e+1," "),r(10),u("formControl",t.itemTypeFilterCtrl)("noEntriesFoundLabel",t.noDataFoundLabel),r(),u("ngForOf",N(14,15,t.filteredItemTypesArray[e])),r(3),u("multiple",!0),r(2),u("formControl",t.propertytMultiFilterCtrl),r(),u("ngForOf",N(20,17,t.filteredPropertyMultiArray[e])),r(2),_(t.statements.at(e).get("properties").hasError("differentDatatype")?21:-1),r(2),_(t.isWikibaseItemOnStatement===!0?23:-1),r(),_(t.isLiteralOnStatement===!0?24:-1),r(),_(t.isQualifier===!0?25:-1),r(),_(t.isAddQualifier?26:-1),r(),_(t.isRemoveStatement?27:-1),r(),_(t.isAddStatement?28:-1)}}var ui=(()=>{class a{constructor(){this.changeDetector=b(ce),this.request=b(ee),this.setLanguage=b(ze),this.lang=b(q),this.propertyList=b(Ke),this.fb=b(Re),this.searchEngine=b(si),this.data=b(xe),this.controls=b(pi),this.selectedItemType=new R,this.currentItemTypes=[],this.currentItemTypesArray=[],this.statementOptions=[],this.entityValues=[],this.currentMutator=ke,this.selectedLiteralVariables=[],this.isWikibaseItemOnStatement=!0,this.isLiteralOnStatement=!1,this.isLiteralStringOnStatement=!1,this.isWikibaseItemOnQualifier=!0,this.isLiteralOnQualifier=!1,this.isLiteralStringOnQualifier=!1,this.isLastStatement=!1,this.isAddStatement=!1,this.isRemoveStatement=!1,this.isAddQualifier=!1,this.isRemoveQualifier=!1,this.isQualifier=!1,this.isItemValue=!0,this.isLiteralVariableSelected=!0,this.selectedItemTypes=[],this.placeholderForLiteralValue="literal value?",this.placeholderForLiteralString="write string? | date? | number?",this.query=this.fb.group({statements:this.fb.array([this.statement])}),this.itemTypeFilterCtrl=new x(""),this.filteredItemTypesArray=[],this.propertytMultiFilterCtrl=new x(""),this.filteredPropertyMultiArray=[],this.itemValueFilterCtrl=new x(""),this.filteredItemValuesArray=[],this.literalFilterCtrl=new x(""),this.filteredLiteralVariables=new V(1),this.qualifierPropertyFilterCtrl=new x(""),this.filteredQualifierProperties=new V(1),this.qualifierValueFilterCtrl=new x(""),this.filteredQualifierValues=new V(1),this.qualifierLiteralFilterCtrl=new x(""),this.filteredQualifierLiteralVariables=new V(1),this.items=[],this.isQualifier2Display=!1,this.selectionChange=new R,this.propertySelectionChange=new R,this._onDestroy=new ae}set literalVariables(e){this._literalVariables=e,this.literalVariables&&this.filteredLiteralVariables.next(this.literalVariables.slice())}set qualifierLiteralVariables(e){this._qualifierLiteralVariables=e,this.qualifierLiteralVariables&&this.filteredQualifierLiteralVariables.next(this.qualifierLiteralVariables.slice())}get literalVariables(){return this._literalVariables}get qualifierLiteralVariables(){return this._qualifierLiteralVariables}get statements(){return this.query.get("statements")}qualifiers(e){return this.statements.at(e).get("qualifiers")}get lastStatementIndex(){let e=this.statements.length>0?this.statements.length-1:0;return console.log("lastStatementIndex:",e),e}get statement(){return this.fb.group({itemType:new x({value:"",disabled:!1}),properties:new x({value:[],disabled:!0},[At.required,this.datatypeValidator]),value:this.value,optional:new x({value:!1,disabled:!1}),qualifiers:this.fb.array([this.qualifier])})}get value(){return this.fb.group({itemValue:new x({value:"",disabled:!0}),literalValue:new x({value:"",disabled:!0}),literalString:new x({value:"",disabled:!0})})}get qualifier(){return this.fb.group({qualifierProperty:new x({value:"",disabled:!1}),value:this.qualifierValue,optional:new x({value:!1,disabled:!1})})}get qualifierValue(){return this.fb.group({qualifierValue:new x({value:"",disabled:!0}),qualifierLiteralValue:new x({value:"",disabled:!0}),qualifierLiteralString:new x({value:"",disabled:!0})})}isPropertiesInvalid(e){return this.statements.at(e).get("properties").invalid}addStatements(){this.statements.push(this.statement),console.log("Added statement, new statements length:",this.statements.length),this.isRemoveStatement=!0,this.filteredItemTypesArray.push(new V(1)),this.filteredItemValuesArray.push(new V(1)),this.filteredPropertyMultiArray.push(new V(1)),this.statementOptions.push(new M([])),this.filteredItemTypesArray[this.lastStatementIndex].next([]),this.filteredItemValuesArray[this.lastStatementIndex].next([]),this.filteredPropertyMultiArray[this.lastStatementIndex].next([]),this.setCurrentItemTypes(this.lastStatementIndex),this.filterItemTypes(this.lastStatementIndex),this.filterItemValues(this.lastStatementIndex),this.filterPropertyMulti(this.lastStatementIndex,D([]))}removeStatements(e){this.statements.removeAt(e),console.log("Removed statement at index",e,"new statements length:",this.statements.length),this.currentItemTypesArray.splice(e,1),this.filteredItemTypesArray.splice(e,1),this.setCurrentItemTypes(this.lastStatementIndex),this.filterItemTypes(this.lastStatementIndex)}addQualifiers(e){let t=this.qualifiers(e).controls.length-1;this.qualifiers(e).pristine&&this.qualifiers(e).removeAt(t),this.isQualifier=!0,this.qualifiers(e).push(this.qualifier);let i=this.controls.qualifiers(this.statements,e);this.isQualifier=!0}addFirstQualifier(e){this.controls.qualifiers(this.statements,e).enable(),e===0&&(this.isQualifier=!0)}removeQualifiers(e,t){this.qualifiers(e).removeAt(t)}statementControllerDisplay(e,t){let i=this.statements.at(t),l=i.get("value.itemValue");e==="WikibaseItem"?(this.isWikibaseItemOnStatement=!0,this.isLiteralOnStatement=!1,l.enable(),i.get("value.literalValue").disable(),i.get("value.literalString").disable()):(e==="String"||e==="MonolingualText"||e==="Time"||e==="Quantity")&&(console.log(e),l.disable(),i.get("value.literalValue").enable(),i.get("value.literalString").enable(),this.isWikibaseItemOnStatement=!1,this.isLiteralStringOnStatement=!1,this.isLiteralOnStatement=!0)}literalControllerDisplay(e,t){e==="write literal string"||e==="write date : YYYY-MM-DD"||e==="write number"?(this.controls.literalValue(this.statements,t).enable(),this.controls.literalString(this.statements,t).enable(),this.controls.literalValue(this.statements,t).patchValue(""),this.isLiteralStringOnStatement=!0,this.placeholderForLiteralString="write below"):(this.controls.literalValue(this.statements,t).enable(),this.controls.literalString(this.statements,t).disable(),this.isLiteralStringOnStatement=!1,this.placeholderForLiteralString="disabled")}qualifierControllerDisplay(e,t,i){console.log(e);let l=this.controls.qualifiers(this.statements,t);if(e==="WikibaseItem"){let o=this.controls.qualifierValue(l,i);console.log(o),this.isWikibaseItemOnQualifier=!0,this.isLiteralOnQualifier=!1,this.controls.qualifierValue(l,i).enable(),this.controls.qualifierLiteralValue(l,i).disable(),this.controls.qualifierLiteralString(l,i).disable()}else(e==="String"||e==="MonolingualText"||e==="Time"||e==="Quantity")&&(this.controls.qualifierLiteralValue(l,i).enable(),this.controls.qualifierLiteralString(l,i).enable(),this.isWikibaseItemOnQualifier=!1,this.isLiteralOnQualifier=!0)}qualifierLiteralControllerDisplay(e,t,i){let l=this.controls.qualifiers(this.statements,t);e==="write literal string"||e==="write date : YYYY-MM-DD"||e==="write number"?(this.controls.qualifierLiteralValue(l,i).enable(),this.controls.qualifierLiteralString(l,i).enable(),this.isLiteralStringOnQualifier=!0):(this.controls.literalValue(l,i).enable(),this.controls.literalString(l,i).disable(),this.isLiteralStringOnQualifier=!1)}onItemTypeSelect(e){console.log(e.value),console.log("Selected itemType:",e.value);let t=e.value[0];this.controls.propertyValues(this.statements,t).enable();let i=this.propertyList.propertiesListBuilding(e.value[3]);this.filterPropertyMulti(t,i),this.selectedItemType.emit(e.value),this.statements.at(t).get("itemType").setValue(e.value,{emitEvent:!1}),console.log("Updated itemType control value:",this.statements.at(t).get("itemType").value),this.changeDetector.detectChanges()}onPropertySelect(e){let t=[];console.log("Event value:",e.value);let i=e.value[0][0];console.log(i);for(let l=0;l<e.value.length;l++)if(e.value[l]!==void 0){let o=e.value[l][3];console.log(o),o?(this.statementControllerDisplay(o,i),this.controls.itemValue(this.statements,i).enable()):console.error("Property type is undefined or invalid:",e.value[l][1].propertyType)}else console.error("Event value["+l+"] is undefined:",e.value)}onValueSelect(e){let t=e.value[0],i=e.value[1],l=e.value[2];console.log(e.value);let o=this.statements.at(t).get("value.itemValue");this.changeDetector.detectChanges(),i.charAt(0),this.isAddQualifier=!0,this.isAddStatement=!0,this.resetPreviousItemValues(t),console.log(this.resetPreviousItemValues(t))}onLiteralValueSelect(e){let t=e.value[0],i=e.value[1];this.placeholderForLiteralString=i,this.literalControllerDisplay(i,t),i.charAt(0)==="?"&&console.log(i),this.isAddStatement=!0,this.isAddQualifier=!0}onQualifierPropertySelect(e){console.log(e.value);let t=e.value[0],i=e.value[1],l=e.value[3];this.qualifierControllerDisplay(l,t,i)}onQualifierValueSelect(e){console.log(e.value);let t=e.value[0],i=e.value[1],l=e.value[2],o=e.value[3],p=e.value[4],h=[t,l,o,p];l.charAt(0),this.isRemoveQualifier=!0;let I=this.controls.qualifiers(this.statements,t),T=this.controls.qualifierValue(I,i);console.log(T),this.controls.patchQualifierValue(T,I,i)}onQualifierLiteralValueSelect(e){console.log(e.value);let t=e.value[0];e.value[2].charAt(0)==="?"?this.isLiteralStringOnQualifier=!1:this.isLiteralStringOnQualifier=!0,this.isRemoveQualifier=!0}clear(){this.matRef.options.forEach(e=>e.deselect())}ngOnInit(){console.log("Initial statements length:",this.statements.length),this.propertyList.qualifierPropertiesListBuilding.subscribe(e=>this.qualifierPropertiesToSelect=e),this.itemTypeFilterCtrl.valueChanges.pipe(w(this._onDestroy)).subscribe(()=>{this.filterItemTypes(this.lastStatementIndex)}),this.propertytMultiFilterCtrl.valueChanges.pipe(w(this._onDestroy)).subscribe(()=>{this.filterPropertyMulti(this.lastStatementIndex,D([]))}),this.itemValueFilterCtrl.valueChanges.pipe(w(this._onDestroy)).subscribe(()=>{this.filterItemValues(this.lastStatementIndex)}),this.literalFilterCtrl.valueChanges.pipe(w(this._onDestroy)).subscribe(()=>{this.filterLiteralVariables()}),this.qualifierPropertyFilterCtrl.valueChanges.pipe(w(this._onDestroy)).subscribe(()=>{this.filterQualifierProperties()}),this.qualifierValueFilterCtrl.valueChanges.pipe(w(this._onDestroy)).subscribe(()=>{this.filterQualifierValues()}),this.qualifierLiteralFilterCtrl.valueChanges.pipe(w(this._onDestroy)).subscribe(()=>{this.filterQualifierValues()}),this.statementOptions[0]=new M([]),this.filteredItemTypesArray.push(new V(1)),this.filteredItemValuesArray.push(new V(1)),this.filteredPropertyMultiArray.push(new V(1)),this.setCurrentItemTypes(this.lastStatementIndex),this.filterItemTypes(this.lastStatementIndex),this.filterItemValues(this.lastStatementIndex),this.filterPropertyMulti(this.lastStatementIndex,D([]))}ngAfterViewInit(){console.log("Statements length after view init:",this.statements.length),this.setInitialLiteralVariable(),this.setInitialQualifierPropertyValue(),this.setInitialQualifierValueValue(),this.setInitialQualifierLiteralVariable()}setInitialItemTypeValue(){this.data.itemTypes$.subscribe(e=>{this.filteredItemTypesArray.forEach((t,i)=>{console.log(e),t.next(e),this.filterItemTypes(i)})})}setInitialPropertyValue(){this.filteredPropertyMultiArray.forEach((e,t)=>{})}setInitialItemValue(){this.filteredItemValuesArray.forEach((e,t)=>{})}setInitialLiteralVariable(){this.filteredLiteralVariables}setInitialQualifierPropertyValue(){this.filteredQualifierProperties}setInitialQualifierValueValue(){this.filteredQualifierValues}setInitialQualifierLiteralVariable(){this.filterQualifierLiteralVariables}filterItemTypes(e){console.log("Calling setCurrentItemTypes with index:",e),this.setCurrentItemTypes(e),console.log("currentItemTypes after setCurrentItemTypes:",this.currentItemTypesArray[e]);let t=this.itemTypeFilterCtrl.value;t?(t=t.toLowerCase(),this.filteredItemTypesArray[e].next(this.currentItemTypesArray[e].filter(i=>i.label.toLowerCase().indexOf(t)>-1))):this.filteredItemTypesArray[e].next(this.currentItemTypesArray[e].slice()),this.changeDetector.detectChanges()}setCurrentItemTypes(e){if(console.log("setCurrentItemTypes called with index:",e),e===0)!W||W.length===0?(console.error("ITEMTYPES is undefined or empty"),this.currentItemTypesArray[e]=[]):(this.currentItemTypesArray[e]=W,console.log("Updated currentItemTypes:",this.currentItemTypesArray[e]));else{let t=[];for(let l=0;l<e;l++){let o=this.statements.at(l).get("itemType"),p=this.statements.at(l).get("value.itemValue");if(console.log("itemTypeControl at index",l,":",o),console.log("itemValueControl at index",l,":",p),o&&o.value){let h=o.value[1];console.log(`itemTypeControl value at index ${l}:`,h),t.push({label:h})}if(p&&p.value){let h=p.value[1];typeof h=="string"&&h.startsWith("?")&&t.push({label:h})}}let i=Array.from(new Set(t.map(l=>JSON.stringify(l)))).map(l=>JSON.parse(l));this.currentItemTypesArray[e]=i.sort((l,o)=>l.label.localeCompare(o.label)),console.log("Updated currentItemTypes:",this.currentItemTypesArray[e])}}filterPropertyMulti(e,t){t.pipe(j(i=>{if(!i||i.length===0)return console.error("Les donn\xE9es ne sont pas correctement charg\xE9es dans options."),D([]);console.log(i);let l=this.propertytMultiFilterCtrl.value;return l?(l=l.toLowerCase(),D(i.filter(o=>o.value.toLowerCase().indexOf(l)>-1))):D(i.slice())})).subscribe(i=>{this.filteredPropertyMultiArray[e].next(i)})}filterItemValues(e){let t=this.getSelectedOptionsUpToIndex(e),l=this.getLabelsFromSelectedOptions(t).map(o=>({label:o,col:null,id:null,separator:""}));console.log(l),this.statementOptions[e]||(this.statementOptions[e]=new M([])),this.statementOptions[e].next(l),this.filteredItemValuesArray[e]||(this.filteredItemValuesArray[e]=new V(1)),this.filteredItemValuesArray[e].next(l),this.resetPreviousItemValues(e)}resetPreviousItemValues(e){for(let t=0;t<e;t++){let i=this.statements.at(t).get("value.itemValue");i&&i.value&&i.setValue(i.value,{emitEvent:!1})}}getSelectedOptionsUpToIndex(e){let t=[],i=this.statements.at(e).get("itemType"),l=i?i.value[1]:null;for(let o=0;o<=e;o++){let p=this.statements.at(o).get("itemType"),h=this.statements.at(o).get("value.itemValue");if(p&&p.value){let I=[...p.value],T=I[1];if(h&&h.value){let te=h.value[1].match(/^\?(.+?)(\d+)$/);if(te){let Ie=te[1],Ze=parseInt(te[2]),we=p.value[1].slice(0,-1);Ie===we&&(T=Ie+(Ze+1))}}let ve=T.charAt(T.length-1);if(/[a-zA-Z]$/.test(ve))T+="1";else if(/[0-9]$/.test(ve)){let Xe=parseInt(ve);T=T.slice(0,-1)+(Xe+1)}if(I[1]=T,o<e&&T===l)continue;if(o<e&&h&&h.value){let te=h.value[1].match(/^\?(.+?)(\d+)$/);if(te){let Ie=te[1],Ze=parseInt(te[2]),we=Ie+(Ze+1);t.some(bi=>bi[1]===we)||t.push([p.value[0],we])}}t.push(I)}}return t}getLabelsFromSelectedOptions(e){return e.map(t=>t[1])}itemValuesList1(e){return this.data.mutator$.pipe(v(t=>t[0]))}itemValuesList2(e,t,i){let l=[];return this.request.searchItem(e,t).pipe(v(o=>this.createList(o)),j(o=>this.request.getItem(o)),z(o=>o!=null),z(o=>o.entities!==void 0&&o.entities!==null),v(o=>Object.values(o.entities)),v(o=>this.setLanguage.item(o,this.lang.selectedLang)))}filterLiteralVariables(){if(this.literalVariables===void 0)return;let e=this.literalFilterCtrl.value;if(e)e=e.toLowerCase();else{this.filteredLiteralVariables.next(this.literalVariables.slice());return}this.filteredLiteralVariables.next(this.literalVariables.filter(t=>t.label.toLowerCase().indexOf(e)>-1))}filterQualifierProperties(){if(!this.qualifierPropertiesToSelect)return;let e=this.qualifierPropertyFilterCtrl.value;if(e)e=e.toLowerCase();else{this.filteredQualifierProperties.next(this.qualifierPropertiesToSelect.slice());return}this.filteredQualifierProperties.next(this.qualifierPropertiesToSelect.filter(t=>t.itemLabel.label.toLowerCase().indexOf(e)>-1))}filterQualifierValues(){let e=this.qualifierValueFilterCtrl.value,t=e.charAt(0);if(e)t!=="?"?(e=e.toLowerCase(),this.qualifierValueFilterCtrl.valueChanges.pipe(le(400),j(i=>this.request.searchItem(i,this.lang.selectedLang)),v(i=>this.createList(i)),le(400),j(i=>this.request.getItem(i)),z(i=>i!=null),z(i=>i.entities!==void 0&&i.entities!==null),v(i=>Object.values(i.entities))).subscribe(i=>{this.entityValues=this.setLanguage.item(i,this.lang.selectedLang),this.setSeparator(this.entityValues),this.filteredQualifierValues.next(this.entityValues.filter(l=>l.label.toLowerCase().indexOf(e)>-1))})):this.data.mutator$.subscribe(i=>{this.entityValues=i[0];let l=[];l=this.entityValues.filter(o=>mi.includes(o.col)),e==="?*"?this.filteredQualifierValues.next(l):(e=e.slice(1),this.filteredQualifierValues.next(l.filter(o=>o.label.toLowerCase().indexOf(e)>-1)))});else{this.filteredQualifierValues.next(this.entityValues.slice());return}}filterQualifierLiteralVariables(){if(console.log(this.qualifierLiteralVariables),this.qualifierLiteralVariables===void 0)return;let e=this.qualifierLiteralFilterCtrl.value;if(console.log(e),e)e=e.toLowerCase();else{console.log(this.qualifierLiteralVariables),this.filteredQualifierLiteralVariables.next(this.qualifierLiteralVariables.slice());return}this.filteredQualifierLiteralVariables.next(this.qualifierLiteralVariables.filter(t=>t.label.toLowerCase().indexOf(e)>-1))}setSeparator(e){for(let t=0;t<e.length;t++)e[t].description&&(e[t].separator=", ")}selectedProperties(e){this.selectedPropertiesList=e.value}datatypeValidator(e){if(e.value&&e.value.length>1){let t=e.value[0][3];if(!e.value.every(l=>l[3]===t))return{differentDatatype:!0}}return null}notFound(e){return e=="https://database.factgrid.de//w/api.php?action=wbgetentities&ids=&format=json&origin=*"&&(e="https://database.factgrid.de//w/api.php?action=wbgetentities&ids=Q220375&format=json&origin=*"),e}createList(e){let t="https://database.factgrid.de//w/api.php?action=wbgetentities&ids=",i="&format=json&origin=*",l="",o="",p=e.search;p===void 0?p=[]:p=p;for(let h=0;h<p.length;h++)l=l+"|"+p[h].id;return l=l.slice(1),o=t+l+i,o}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275cmp=B({type:a,selectors:[["app-statement-search"]],viewQuery:function(t,i){if(t&1&&(O(Bi,5),O(Ui,7),O(zi,7)),t&2){let l;A(l=L())&&(i.matRef=l.first),A(l=L())&&(i.singleSelect=l.first),A(l=L())&&(i.multiSelect=l.first)}},inputs:{literalVariables:"literalVariables",qualifierLiteralVariables:"qualifierLiteralVariables"},outputs:{datatype:"datatype",selectedItemType:"selectedItemType",selectionChange:"selectionChange",propertySelectionChange:"propertySelectionChange"},standalone:!0,features:[Y],decls:18,vars:5,consts:[["singleSelect",""],["appearance","outlined",1,"mat-elevation-z12"],[1,"listStyle"],["id","statements",1,"whiteBackGround"],[1,"search-center"],[3,"formGroup"],[1,"formPadding"],["formArrayName","statements"],[1,"statementStyle"],[1,"search-center3","cardGreyBackground",3,"formGroupName"],["formControlName","optional"],["appearance","fill"],["placeholder","subject?","formControlName","itemType","required","",3,"selectionChange"],["placeholderLabel","Search",3,"formControl","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","properties?","formControlName","properties","required","",3,"selectionChange","multiple"],["placeholderLabel","Search","noEntriesFoundLabel","Not found",3,"formControl"],[1,"validatorWarning"],["formGroupName","value",1,"search-center3"],[3,"value"],["placeholder","value?","formControlName","itemValue","required","",3,"selectionChange"],["formControlName","literalValue","required","",3,"selectionChange","placeholder"],["matInput","","formControlName","literalString",3,"placeholder"],["formArrayName","qualifiers"],["placeholder","property?","formControlName","qualifierProperty","required","",3,"selectionChange"],["placeholder","value?","formControlName","qualifierValue","required","",3,"selectionChange"],["placeholder","literal value?","formControlName","qualifierLiteralValue","required","",3,"selectionChange"],["matInput","","value","string?","formControlName","qualifierLiteralString"],["type","button",3,"click"]],template:function(t,i){t&1&&(s(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div"),m(4,"Query:"),c(),f(5,pa,2,0),c()(),s(6,"mat-card-content",3)(7,"p",4),m(8,"Statement:"),c(),s(9,"form",5)(10,"div",6)(11,"div",7),G(12,La,29,19,null,null,oe),c()()(),s(14,"div")(15,"p",4),m(16),$(17,"json"),c()()()()),t&2&&(r(5),_(i.query.value.statements?5:-1),r(4),u("formGroup",i.query),r(3),H(i.statements.controls),r(4),Q(" ",N(17,3,i.query.value),""))},dependencies:[K,We,se,Vt,X,Et,je,de,Lt,Dt,me,Ot,Wt,Pt,qt,pe,Ne,zt,he,fe,Be,Ue,Z,J,be,ye,Ye,_e,He,ge,ue,Xt],styles:[".validatorWarning[_ngcontent-%COMP%]{color:#ad1457;font-style:italic}mat-button-toggle-group[_ngcontent-%COMP%]{margin-left:12px}.search-center2[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center}.search-center3[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}#itemType[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:30vw}@media (max-width: 959.98px){#itemType[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:80vw}}#statements[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{width:60vw}#statements[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:30vw}@media (max-width: 959.98px){#statements[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:90vw}}.search-form[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;flex-direction:column}.ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:50px}.arrow-icon[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0!important;justify-content:center}.icon-size[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px}.small-icon-button[_ngcontent-%COMP%]{width:24px!important;height:24px!important;padding:0!important;display:inline-flex!important;align-items:center;justify-content:center}.small-icon-button[_ngcontent-%COMP%] > *[role=img][_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px}.small-icon-button[_ngcontent-%COMP%] > *[role=img][_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.small-icon-button[_ngcontent-%COMP%]   .mat-mdc-button-touch-target[_ngcontent-%COMP%]{width:24px!important;height:24px!important}.search-center3[_ngcontent-%COMP%]{display:flex;justify-content:center}.list-search[_ngcontent-%COMP%]{display:flex;justify-content:left}.statement-search-form[_ngcontent-%COMP%]{margin-top:20px;gap:30px;display:flex;justify-content:center}.button-search-form[_ngcontent-%COMP%]{gap:30px;display:flex;justify-content:center}#projects[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:60vw}@media (max-width: 959.98px){#projects[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:90vw}}@media (max-width: 959.98px){.statement-search-form[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;flex-direction:column}}#sopi[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:60vw}@media (max-width: 959.98px){#sopi[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:90vw}}.button[_ngcontent-%COMP%]{text-align:start;background-color:transparent!important;border-color:transparent;font-size:12px}"]})}}return a})();var hi=(()=>{class a{constructor(){this.data=b(xe)}mutator(e){console.log(e);let t=[];this.data.mutator$.subscribe(ve=>{t=ve});let i=this.transpose(t),l=e[1],o=e[3],p=e[2],h=i[p],I=this.circularPermutation(h);i[p]=I;let T=this.transpose(i);return console.log(T),T}transpose(e){return e[0].map((i,l)=>e.map(o=>o[l]))}circularPermutation(e){let t=[],i=e[0];for(let l=0;l<e.length-1;l++)t[l]=e[l+1];return t[5]=i,t}circularInversePermutation(e){let t=e[5];for(let i=0;i<e.length-1;i++)e[5-i]=e[5-(i+1)];return e[0]=t,e}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275prov=P({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var Ea=()=>[""],Oa=()=>["/harmonia_universalis"],Ln=(()=>{class a{constructor(){this.lang=b(q),this.projectList=b(ri),this.propertyList=b(Ke),this.data=b(xe),this.mutator=b(hi),this.title="factgrid",this.subtitle="a database for historians",this.basic_search="search",this.projects="research projects",this.fields="fields of reserach",this.isDisplay=!1,this.selections=[],this.statementSelection=[],this.formData=[{statement:0,types:{options:W,selections:[]},values:{options:W,selections:[]}}],this.literals=di,this.projectsList=[],this.propertiesList=[],this.replay=new V(1),this.lonos=[W.map(e=>e.order)]}ngOnInit(){this.subtitle=this.lang.subtitle(this.subtitle),this.projects=this.lang.projects(this.projects),this.fields=this.lang.fields(this.fields),this.projectList.projectsListBuilding("Q11295").subscribe(e=>this.projectsList=e)}selectedItemType(e){console.log(e);let t=e[0],i=W.findIndex(o=>o.id===e[3]),l={label:e[1],id:e[3]};console.log(e[3]),this.propertyList.propertiesListBuilding(e[3]).subscribe(o=>{console.log(o)})}propertyDatatype(e){return this.literalVariables=this.literals.filter(t=>(t.type===e[1]||t.type==="Any")&&t.col===e[0]),this.literalVariables}qualifierPropertyDatatype(e){return this.qualifierLiteralVariables=this.literals.filter(t=>(t.type===e[2]||t.type==="Any")&&t.col===e[0]),this.qualifierLiteralVariables}selectedProjects(e){console.log(e.value)}selectedValue(e){console.log(e),this.data.itemTypes1$.subscribe(I=>console.log(I));let t=e[0],i={variable:[e[0],this.updateValue(this.statementSelection[0].variable[2],e[2]),1],label:e[1],id:e[3]};this.statementSelection[1]?this.statementSelection.splice(1,1,i):this.statementSelection.push(i),this.selections.push(this.statementSelection);let l,o={label:e[1],col:e[2],id:e[3]},p=D(o);p.subscribe(I=>console.log(I)),Te([p,this.data.itemTypes1$]).subscribe(([I,T])=>{T.push(I),l=T}),this.data.updateItemTypes2(l);let h=this.mutator.mutator(e);this.data.updateMutatorForNextStatement(h)}selectedQualifierValue(e){let t=e[0],i=[e[1],e[2],e[3],""],l=this.mutator.mutator(i);console.log(l);let o={label:e[1],id:e[2],col:e[3]},p;this.data.itemTypes$.subscribe(h=>{p=h,t===0&&(p=[o])}),this.data.updateItemTypes(p),this.data.updateMutator(l),this.data.mutator$.subscribe(h=>console.log(h))}updateValue(e,t){let i;return(e=t)?i=t+1:i=t,i}findIndexById(e,t){return e.findIndex(i=>i.id===t)}incrementElement(e,t){if(e.length!==t.length)throw new Error("Les listes a et b doivent avoir la m\xEAme longueur");let i=[...t];for(let l=0;l<e.length;l++)if(e[l]===1){i[l]=t[l]+1;break}return i}ngOnDestroy(){}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275cmp=B({type:a,selectors:[["app-advanced-search"]],standalone:!0,features:[Y],decls:26,vars:8,consts:[["href",xt`https://fonts.googleapis.com/icon?family=Material+Icons`,"rel","stylesheet"],[1,"cardBackground"],[1,"FactGridTitle"],[1,"subTitle"],["appearance","outlined",1,"mat-elevation-z12"],[1,"search-container"],[1,"search-center"],[3,"routerLink"],["href","https://database.factgrid.de/query/#%23model%0A%0ASELECT%20%3Fitem%20%3Fviewer%20%3FitemLabel%20%20WHERE%20%7B%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22%5BAUTO_LANGUAGE%5D%2Cen%22.%20%7D%0A%20%20%3Fitem%20wdt%3AP2%20wd%3AQ7%3B%0A%20%20%20%20%20%20%20%20wdt%3AP247%20wd%3AQ24708.%0A%20%20BIND%28STRAFTER%28STR%28%3Fitem%29%2C%20STR%28wd%3A%29%29%20AS%20%3FitemId%29%0A%20%20BIND%28IRI%28CONCAT%28%22https%3A%2F%2Fdatabase.factgrid.de%2Fviewer%2Fitem%2F%22%2C%20%3FitemId%29%29%20AS%20%3Fviewer%29%0A%7D%0A"],["color","primary"],[3,"selectionChange","data"],[1,"child-container",3,"propertyDatatype","selectedQualifierValue","qualifierPropertyDatatype","selectedValue","selectedItemType","qualifierLiteralVariables","literalVariables"]],template:function(t,i){t&1&&(s(0,"head"),C(1,"link",0),c(),s(2,"body")(3,"div",1)(4,"div",2),m(5,"FactGrid"),c(),s(6,"div",3),m(7),c()(),s(8,"mat-card",4)(9,"mat-card-content",5)(10,"div",6)(11,"a",7),m(12,"FactGrid"),c(),s(13,"span"),m(14,"\xA0\xA0|\xA0\xA0"),c(),s(15,"a",8),m(16," sparql query "),c(),s(17,"span"),m(18,"\xA0\xA0|\xA0\xA0"),c(),s(19,"a",7),m(20,"Harmonia Universalis"),c()(),s(21,"div",6)(22,"mat-icon",9),m(23,"build"),c()(),s(24,"app-project-select",10),k("selectionChange",function(o){return i.selectedProjects(o)}),c(),s(25,"app-statement-search",11),k("propertyDatatype",function(o){return i.propertyDatatype(o)})("selectedQualifierValue",function(o){return i.selectedQualifierValue(o)})("qualifierPropertyDatatype",function(o){return i.qualifierPropertyDatatype(o)})("selectedValue",function(o){return i.selectedValue(o)})("selectedItemType",function(o){return i.selectedItemType(o)}),c()()()()),t&2&&(r(7),re(i.subtitle),r(4),u("routerLink",ot(6,Ea)),r(8),u("routerLink",ot(7,Oa)),r(5),u("data",i.projectsList),r(),u("qualifierLiteralVariables",i.qualifierLiteralVariables)("literalVariables",i.literalVariables))},dependencies:[K,Rt,jt,X,pe,Ne,be,Ut,Z,$e,J,fe,Be,Ue,Ge,ye,ci,ui],styles:[".child-container[_ngcontent-%COMP%]{width:70vw;justify-content:center;align-items:center;display:flex}.search-align[_ngcontent-%COMP%]{display:flex;flex-direction:row}.search-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.search-label[_ngcontent-%COMP%]{font-weight:700}.FactGrid-div[_ngcontent-%COMP%]{height:150px;display:flex;align-items:center;justify-content:center}.FactGridTitle-div[_ngcontent-%COMP%]{padding-left:10px;color:#ad1457;font-weight:600;font-size:60px}.search-itemSelected[_ngcontent-%COMP%]{margin-top:50px}#projects[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:60vw}@media (max-width: 959.98px){#projects[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:90vw}}.selectedItemSize[_ngcontent-%COMP%]{font-size:14px}.button[_ngcontent-%COMP%]{background-color:transparent!important;border-color:transparent;font-size:16px}a.button[_ngcontent-%COMP%]:hover{background:#383}"]})}}return a})();export{Ln as AdvancedSearchComponent};
