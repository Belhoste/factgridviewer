import{e as Kt}from"./chunk-LYZRU3VX.js";import"./chunk-F5X5MWHG.js";import{a as Ge}from"./chunk-PFGJUNXL.js";import{a as Ht}from"./chunk-KK3TRUZ6.js";import{a as Gt,b as fe,d as Yt,e as _e,f as He}from"./chunk-C2ZLFFTB.js";import{l as Bt,n as zt}from"./chunk-HKN5DPXQ.js";import{l as Nt}from"./chunk-JT7TL5MR.js";import{$a as tt,A as j,Aa as le,Ab as De,Ad as q,B as I,Ba as H,Ca as Y,D as Ze,Da as u,Ea as d,Eb as re,F as Me,Fa as s,Fb as St,G as E,Ga as S,Gb as ce,H as Fe,Hb as je,Hc as qt,I as Le,Ib as Re,Jb as Qt,K as h,Ka as w,Kb as wt,La as yt,Ma as x,Mb as se,N as g,Na as m,Nb as It,O as k,Oa as Oe,P as pt,Pa as oe,Pb as v,Q as ut,Qa as et,Qb as Tt,Qc as ot,Ra as P,Rb as de,Rc as Be,Sa as A,Sb as Vt,Sc as pe,Ta as O,Tb as Mt,Tc as Wt,U as ht,Ua as gt,Ub as Ft,Vb as Lt,Wa as Se,Wb as At,X as bt,Xa as kt,Xb as $e,Ya as p,Yb as me,Z as ve,Za as Ee,Zb as X,Zc as Dt,_a as Q,_c as jt,ab as it,da as ft,ea as c,eb as at,fd as Rt,hb as Pe,i as ie,ia as te,ib as lt,j as V,jd as $t,k as M,kb as xt,l as D,lb as qe,lc as Ot,ld as Z,mb as We,mc as Et,na as N,nb as $,o as C,oa as Ae,ob as B,p as Ve,pa as Je,pd as ue,rb as vt,sa as G,sd as he,ta as R,tb as ne,td as Ut,u as z,ua as _t,ud as Ne,v as ae,vb as K,vd as Ue,w as st,wb as Ct,wd as ze,xa as Ce,xc as Pt,y as dt,ya as f,yd as be,z as mt,za as _,zd as J}from"./chunk-342VWGRV.js";var mi=["input"],pi=["label"],ui=["*"],hi=new Le("mat-checkbox-default-options",{providedIn:"root",factory:Zt});function Zt(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var F=function(l){return l[l.Init=0]="Init",l[l.Checked=1]="Checked",l[l.Unchecked=2]="Unchecked",l[l.Indeterminate=3]="Indeterminate",l}(F||{}),nt=class{source;checked},Xt=Zt(),Qe=(()=>{class l{_elementRef=h(ve);_changeDetectorRef=h(ne);_ngZone=h(_t);_animationsDisabled=Dt();_options=h(hi,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(i){let e=new nt;return e.source=this,e.checked=i,e}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new R;indeterminateChange=new R;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=F.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){h(Pt).load(Wt);let i=h(new vt("tabindex"),{optional:!0});this._options=this._options||Xt,this.color=this._options.color||Xt.color,this.tabIndex=i==null?0:parseInt(i)||0,this.id=this._uniqueId=h(qt).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(i){i.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this.indeterminate)}get checked(){return this._checked}set checked(i){i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(i){i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate()}set indeterminate(i){let e=i!=this._indeterminate();this._indeterminate.set(i),e&&(i?this._transitionCheckState(F.Indeterminate):this._transitionCheckState(this.checked?F.Checked:F.Unchecked),this.indeterminateChange.emit(i)),this._syncIndeterminate(i)}_indeterminate=ht(!1);_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(i){this.checked=!!i}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}validate(i){return this.required&&i.value!==!0?{required:!0}:null}registerOnValidatorChange(i){this._validatorChangeFn=i}_transitionCheckState(i){let e=this._currentCheckState,t=this._getAnimationTargetElement();if(!(e===i||!t)&&(this._currentAnimationClass&&t.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,i),this._currentCheckState=i,this._currentAnimationClass.length>0)){t.classList.add(this._currentAnimationClass);let a=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{t.classList.remove(a)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let i=this._options?.clickAction;!this.disabled&&i!=="noop"?(this.indeterminate&&i!=="check"&&Promise.resolve().then(()=>{this._indeterminate.set(!1),this.indeterminateChange.emit(!1)}),this._checked=!this._checked,this._transitionCheckState(this._checked?F.Checked:F.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&i==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(i){i.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(i,e){if(this._animationsDisabled)return"";switch(i){case F.Init:if(e===F.Checked)return this._animationClasses.uncheckedToChecked;if(e==F.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case F.Unchecked:return e===F.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case F.Checked:return e===F.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case F.Indeterminate:return e===F.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(i){let e=this._inputElement;e&&(e.nativeElement.indeterminate=i)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(i){i.target&&this._labelElement.nativeElement.contains(i.target)&&i.stopPropagation()}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=N({type:l,selectors:[["mat-checkbox"]],viewQuery:function(e,t){if(e&1&&(P(mi,5),P(pi,5)),e&2){let a;A(a=O())&&(t._inputElement=a.first),A(a=O())&&(t._labelElement=a.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(e,t){e&2&&(yt("id",t.id),Ce("tabindex",null)("aria-label",null)("aria-labelledby",null),kt(t.color?"mat-"+t.color:"mat-accent"),Se("_mat-animation-noopable",t._animationsDisabled)("mdc-checkbox--disabled",t.disabled)("mat-mdc-checkbox-disabled",t.disabled)("mat-mdc-checkbox-checked",t.checked)("mat-mdc-checkbox-disabled-interactive",t.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",K],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",K],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",K],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?void 0:Ct(i)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",K],checked:[2,"checked","checked",K],disabled:[2,"disabled","disabled",K],indeterminate:[2,"indeterminate","indeterminate",K]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Pe([{provide:je,useExisting:Me(()=>l),multi:!0},{provide:Qt,useExisting:l,multi:!0}]),bt],ngContentSelectors:ui,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(e,t){if(e&1){let a=w();Oe(),d(0,"div",3),x("click",function(r){return g(a),k(t._preventBubblingFromLabel(r))}),d(1,"div",4,0)(3,"div",5),x("click",function(){return g(a),k(t._onTouchTargetClick())}),s(),d(4,"input",6,1),x("blur",function(){return g(a),k(t._onBlur())})("click",function(){return g(a),k(t._onInputClick())})("change",function(r){return g(a),k(t._onInteractionEvent(r))}),s(),S(6,"div",7),d(7,"div",8),pt(),d(8,"svg",9),S(9,"path",10),s(),ut(),S(10,"div",11),s(),S(11,"div",12),s(),d(12,"label",13,2),oe(14),s()()}if(e&2){let a=gt(2);u("labelPosition",t.labelPosition),c(4),Se("mdc-checkbox--selected",t.checked),u("checked",t.checked)("indeterminate",t.indeterminate)("disabled",t.disabled&&!t.disabledInteractive)("id",t.inputId)("required",t.required)("tabIndex",t.disabled&&!t.disabledInteractive?-1:t.tabIndex),Ce("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedby)("aria-checked",t.indeterminate?"mixed":null)("aria-controls",t.ariaControls)("aria-disabled",t.disabled&&t.disabledInteractive?!0:null)("aria-expanded",t.ariaExpanded)("aria-owns",t.ariaOwns)("name",t.name)("value",t.value),c(7),u("matRippleTrigger",a)("matRippleDisabled",t.disableRipple||t.disabled)("matRippleCentered",!0),c(),u("for",t.inputId)}},dependencies:[jt,Gt],styles:[`.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover>.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover>.mat-mdc-checkbox-ripple>.mat-ripple-element{background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mat-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mat-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mat-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mat-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mat-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control+.mdc-checkbox__ripple{background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mat-checkbox-state-layer-size, 40px);height:var(--mat-checkbox-state-layer-size, 40px);top:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);right:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mat-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox .mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return l})(),Jt=(()=>{class l{static \u0275fac=function(e){return new(e||l)};static \u0275mod=Ae({type:l});static \u0275inj=Fe({imports:[Qe,ot,ot]})}return l})();var fi=["searchSelectInput"],_i=["innerSelectSearch"],yi=[[["",8,"mat-select-search-custom-header-content"]],[["","ngxMatSelectSearchClear",""]],[["","ngxMatSelectNoEntriesFound",""]]],gi=[".mat-select-search-custom-header-content","[ngxMatSelectSearchClear]","[ngxMatSelectNoEntriesFound]"];function ki(l,n){if(l&1){let i=w();d(0,"mat-checkbox",10),x("change",function(t){g(i);let a=m();return k(a._emitSelectAllBooleanToParent(t.checked))}),s()}if(l&2){let i=m();u("color",i.matFormField==null?null:i.matFormField.color)("checked",i.toggleAllCheckboxChecked)("indeterminate",i.toggleAllCheckboxIndeterminate)("matTooltip",i.toggleAllCheckboxTooltipMessage)("matTooltipPosition",i.toggleAllCheckboxTooltipPosition)}}function xi(l,n){l&1&&S(0,"mat-spinner",7)}function vi(l,n){l&1&&oe(0,1)}function Ci(l,n){if(l&1&&S(0,"mat-icon",12),l&2){let i=m(2);u("svgIcon",i.closeSvgIcon)}}function Si(l,n){if(l&1&&(d(0,"mat-icon"),p(1),s()),l&2){let i=m(2);c(),Q(" ",i.closeIcon," ")}}function Qi(l,n){if(l&1){let i=w();d(0,"button",11),x("click",function(){g(i);let t=m();return k(t._reset(!0))}),f(1,vi,1,0)(2,Ci,1,1,"mat-icon",12)(3,Si,2,1,"mat-icon"),s()}if(l&2){let i=m();c(),_(i.clearIcon?1:i.closeSvgIcon?2:3)}}function wi(l,n){l&1&&oe(0,2)}function Ii(l,n){if(l&1&&p(0),l&2){let i=m(2);Q(" ",i.noEntriesFoundLabel," ")}}function Ti(l,n){if(l&1&&(d(0,"div",9),f(1,wi,1,0)(2,Ii,1,1),s()),l&2){let i=m();c(),_(i.noEntriesFound?1:2)}}var Vi=(()=>{class l{static \u0275fac=function(e){return new(e||l)};static \u0275dir=Je({type:l,selectors:[["","ngxMatSelectSearchClear",""]]})}return l})(),Mi=["ariaLabel","clearSearchInput","closeIcon","closeSvgIcon","disableInitialFocus","disableScrollToActiveOnOptionsChanged","enableClearOnEscapePressed","hideClearSearchButton","noEntriesFoundLabel","placeholderLabel","preventHomeEndKeyPropagation","searching"],Fi=new Le("mat-selectsearch-default-options"),Li=(()=>{class l{static \u0275fac=function(e){return new(e||l)};static \u0275dir=Je({type:l,selectors:[["","ngxMatSelectNoEntriesFound",""]]})}return l})(),we=(()=>{class l{matSelect;changeDetectorRef;_viewportRuler;matOption;matFormField;placeholderLabel="Suche";type="text";closeIcon="close";closeSvgIcon;noEntriesFoundLabel="Keine Optionen gefunden";clearSearchInput=!0;searching=!1;disableInitialFocus=!1;enableClearOnEscapePressed=!1;preventHomeEndKeyPropagation=!1;disableScrollToActiveOnOptionsChanged=!1;ariaLabel="dropdown search";showToggleAllCheckbox=!1;toggleAllCheckboxChecked=!1;toggleAllCheckboxIndeterminate=!1;toggleAllCheckboxTooltipMessage="";toggleAllCheckboxTooltipPosition="below";hideClearSearchButton=!1;alwaysRestoreSelectedOptionsMulti=!1;recreateValuesArray=!1;toggleAll=new R;searchSelectInput;innerSelectSearch;clearIcon;noEntriesFound;get value(){return this._formControl.value}_lastExternalInputValue;onTouched=()=>{};set _options(i){this._options$.next(i)}get _options(){return this._options$.getValue()}_options$=new V(null);optionsList$=this._options$.pipe(j(i=>i?i.changes.pipe(C(e=>e.toArray()),mt(i.toArray())):D(null)));optionsLength$=this.optionsList$.pipe(C(i=>i?i.length:0));previousSelectedValues;_formControl=new v("",{nonNullable:!0});_showNoEntriesFound$=Ve([this._formControl.valueChanges,this.optionsLength$]).pipe(C(([i,e])=>!!(this.noEntriesFoundLabel&&i&&e===this.getOptionsLengthOffset())));_onDestroy=new ie;activeDescendant;constructor(i,e,t,a,o,r){this.matSelect=i,this.changeDetectorRef=e,this._viewportRuler=t,this.matOption=a,this.matFormField=o,this.applyDefaultOptions(r)}applyDefaultOptions(i){if(i)for(let e of Mi)Object.prototype.hasOwnProperty.call(i,e)&&(this[e]=i[e])}ngOnInit(){this.matOption?(this.matOption.disabled=!0,this.matOption._getHostElement().classList.add("contains-mat-select-search"),this.matOption._getHostElement().setAttribute("role","presentation")):console.error("<ngx-mat-select-search> must be placed inside a <mat-option> element"),this.matSelect.openedChange.pipe(dt(1),I(this._onDestroy)).subscribe(i=>{i?(this.updateInputWidth(),this.disableInitialFocus||this._focus()):this.clearSearchInput&&this._reset()}),this.matSelect.openedChange.pipe(st(1),j(()=>{this._options=this.matSelect.options;let i=this._options.toArray()[this.getOptionsLengthOffset()];return this._options.changes.pipe(Ze(()=>{setTimeout(()=>{let e=this._options.toArray(),t=e[this.getOptionsLengthOffset()],a=this.matSelect._keyManager;a&&this.matSelect.panelOpen&&t&&((!i||!this.matSelect.compareWith(i.value,t.value)||!a.activeItem||!e.find(r=>this.matSelect.compareWith(r.value,a.activeItem?.value)))&&a.setActiveItem(this.getOptionsLengthOffset()),setTimeout(()=>{this.updateInputWidth()})),i=t})}))})).pipe(I(this._onDestroy)).subscribe(),this._showNoEntriesFound$.pipe(I(this._onDestroy)).subscribe(i=>{this.matOption&&(i?this.matOption._getHostElement().classList.add("mat-select-search-no-entries-found"):this.matOption._getHostElement().classList.remove("mat-select-search-no-entries-found"))}),this._viewportRuler.change().pipe(I(this._onDestroy)).subscribe(()=>{this.matSelect.panelOpen&&this.updateInputWidth()}),this.initMultipleHandling(),this.optionsList$.pipe(I(this._onDestroy)).subscribe(()=>{this.changeDetectorRef.markForCheck()})}_emitSelectAllBooleanToParent(i){this.toggleAll.emit(i)}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}_isToggleAllCheckboxVisible(){return this.matSelect.multiple&&this.showToggleAllCheckbox}_handleKeydown(i){(i.key&&i.key.length===1||this.preventHomeEndKeyPropagation&&(i.key==="Home"||i.key==="End"))&&i.stopPropagation(),this.matSelect.multiple&&i.key&&i.key==="Enter"&&setTimeout(()=>this._focus()),this.enableClearOnEscapePressed&&i.key==="Escape"&&this.value&&(this._reset(!0),i.stopPropagation())}_handleKeyup(i){if(i.key==="ArrowUp"||i.key==="ArrowDown"){let e=this.matSelect._getAriaActiveDescendant(),t=this._options.toArray().findIndex(a=>a.id===e);t!==-1&&(this.unselectActiveDescendant(),this.activeDescendant=this._options.toArray()[t]._getHostElement(),this.activeDescendant.setAttribute("aria-selected","true"),this.searchSelectInput.nativeElement.setAttribute("aria-activedescendant",e))}}writeValue(i){this._lastExternalInputValue=i,this._formControl.setValue(i),this.changeDetectorRef.markForCheck()}onBlur(){this.unselectActiveDescendant(),this.onTouched()}registerOnChange(i){this._formControl.valueChanges.pipe(z(e=>e!==this._lastExternalInputValue),Ze(()=>this._lastExternalInputValue=void 0),I(this._onDestroy)).subscribe(i)}registerOnTouched(i){this.onTouched=i}_focus(){if(!this.searchSelectInput||!this.matSelect.panel)return;let i=this.matSelect.panel.nativeElement,e=i.scrollTop;this.searchSelectInput.nativeElement.focus(),i.scrollTop=e}_reset(i){this._formControl.setValue(""),i&&this._focus()}initMultipleHandling(){if(!this.matSelect.ngControl){this.matSelect.multiple&&console.error("the mat-select containing ngx-mat-select-search must have a ngModel or formControl directive when multiple=true");return}this.previousSelectedValues=this.matSelect.ngControl.value,this.matSelect.ngControl.valueChanges&&this.matSelect.ngControl.valueChanges.pipe(I(this._onDestroy)).subscribe(i=>{let e=!1;if(this.matSelect.multiple&&(this.alwaysRestoreSelectedOptionsMulti||this._formControl.value&&this._formControl.value.length)&&this.previousSelectedValues&&Array.isArray(this.previousSelectedValues)){(!i||!Array.isArray(i))&&(i=[]);let t=this.matSelect.options.map(a=>a.value);this.previousSelectedValues.forEach(a=>{!i.some(o=>this.matSelect.compareWith(o,a))&&!t.some(o=>this.matSelect.compareWith(o,a))&&(this.recreateValuesArray?i=[...i,a]:i.push(a),e=!0)})}this.previousSelectedValues=i,e&&this.matSelect._onChange(i)})}updateInputWidth(){if(!this.innerSelectSearch||!this.innerSelectSearch.nativeElement)return;let i=this.innerSelectSearch.nativeElement,e=null;for(;i&&i.parentElement;)if(i=i.parentElement,i.classList.contains("mat-select-panel")){e=i;break}e&&(this.innerSelectSearch.nativeElement.style.width=e.clientWidth+"px")}getOptionsLengthOffset(){return this.matOption?1:0}unselectActiveDescendant(){this.activeDescendant?.removeAttribute("aria-selected"),this.searchSelectInput.nativeElement.removeAttribute("aria-activedescendant")}static \u0275fac=function(e){return new(e||l)(te(_e),te(ne),te(Rt),te(fe,8),te(ue,8),te(Fi,8))};static \u0275cmp=N({type:l,selectors:[["ngx-mat-select-search"]],contentQueries:function(e,t,a){if(e&1&&(et(a,Vi,5),et(a,Li,5)),e&2){let o;A(o=O())&&(t.clearIcon=o.first),A(o=O())&&(t.noEntriesFound=o.first)}},viewQuery:function(e,t){if(e&1&&(P(fi,7,ve),P(_i,7,ve)),e&2){let a;A(a=O())&&(t.searchSelectInput=a.first),A(a=O())&&(t.innerSelectSearch=a.first)}},inputs:{placeholderLabel:"placeholderLabel",type:"type",closeIcon:"closeIcon",closeSvgIcon:"closeSvgIcon",noEntriesFoundLabel:"noEntriesFoundLabel",clearSearchInput:"clearSearchInput",searching:"searching",disableInitialFocus:"disableInitialFocus",enableClearOnEscapePressed:"enableClearOnEscapePressed",preventHomeEndKeyPropagation:"preventHomeEndKeyPropagation",disableScrollToActiveOnOptionsChanged:"disableScrollToActiveOnOptionsChanged",ariaLabel:"ariaLabel",showToggleAllCheckbox:"showToggleAllCheckbox",toggleAllCheckboxChecked:"toggleAllCheckboxChecked",toggleAllCheckboxIndeterminate:"toggleAllCheckboxIndeterminate",toggleAllCheckboxTooltipMessage:"toggleAllCheckboxTooltipMessage",toggleAllCheckboxTooltipPosition:"toggleAllCheckboxTooltipPosition",hideClearSearchButton:"hideClearSearchButton",alwaysRestoreSelectedOptionsMulti:"alwaysRestoreSelectedOptionsMulti",recreateValuesArray:"recreateValuesArray"},outputs:{toggleAll:"toggleAll"},features:[Pe([{provide:je,useExisting:Me(()=>l),multi:!0}])],ngContentSelectors:gi,decls:13,vars:14,consts:[["innerSelectSearch",""],["searchSelectInput",""],["matInput","",1,"mat-select-search-input","mat-select-search-hidden"],[1,"mat-select-search-inner","mat-typography","mat-datepicker-content","mat-tab-header"],[1,"mat-select-search-inner-row"],["matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",1,"mat-select-search-toggle-all-checkbox",3,"color","checked","indeterminate","matTooltip","matTooltipPosition"],["autocomplete","off",1,"mat-select-search-input",3,"keydown","keyup","blur","type","formControl","placeholder"],["diameter","16",1,"mat-select-search-spinner"],["mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear"],[1,"mat-select-search-no-entries-found"],["matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",1,"mat-select-search-toggle-all-checkbox",3,"change","color","checked","indeterminate","matTooltip","matTooltipPosition"],["mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear",3,"click"],[3,"svgIcon"]],template:function(e,t){if(e&1){let a=w();Oe(yi),S(0,"input",2),d(1,"div",3,0)(3,"div",4),f(4,ki,1,5,"mat-checkbox",5),d(5,"input",6,1),x("keydown",function(r){return g(a),k(t._handleKeydown(r))})("keyup",function(r){return g(a),k(t._handleKeyup(r))})("blur",function(){return g(a),k(t.onBlur())}),s(),f(7,xi,1,0,"mat-spinner",7),f(8,Qi,4,1,"button",8),oe(9),s(),S(10,"mat-divider"),s(),f(11,Ti,3,1,"div",9),$(12,"async")}e&2&&(c(),Se("mat-select-search-inner-multiple",t.matSelect.multiple)("mat-select-search-inner-toggle-all",t._isToggleAllCheckboxVisible()),c(3),_(t._isToggleAllCheckboxVisible()?4:-1),c(),u("type",t.type)("formControl",t._formControl)("placeholder",t.placeholderLabel),Ce("aria-label",t.ariaLabel),c(2),_(t.searching?7:-1),c(),_(!t.hideClearSearchButton&&t.value&&!t.searching?8:-1),c(3),_(B(12,12,t._showNoEntriesFound$)?11:-1))},dependencies:[re,X,Re,se,de,Qe,Kt,Bt,zt,Be,Z,$t],styles:[".mat-select-search-hidden[_ngcontent-%COMP%]{visibility:hidden}.mat-select-search-inner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;z-index:100;font-size:inherit;box-shadow:none;background-color:var(--mat-sys-surface-container, var(--mat-select-panel-background-color, white))}.mat-select-search-inner.mat-select-search-inner-multiple.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]   .mat-select-search-inner-row[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-select-search-input[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;border:none;font-family:inherit;font-size:inherit;color:currentColor;outline:none;background-color:var(--mat-sys-surface-container, var(--mat-select-panel-background-color, white));padding:0 44px 0 16px;height:47px;line-height:47px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-right:16px;padding-left:44px}.mat-select-search-input[_ngcontent-%COMP%]::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-left:5px}.mat-select-search-no-entries-found[_ngcontent-%COMP%]{padding-top:8px}.mat-select-search-clear[_ngcontent-%COMP%]{position:absolute;right:4px;top:0}[dir=rtl][_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{right:auto;left:4px}.mat-select-search-spinner[_ngcontent-%COMP%]{position:absolute;right:16px;top:calc(50% - 8px)}[dir=rtl][_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%]{right:auto;left:16px}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search{position:sticky;top:-8px;z-index:1;opacity:1;margin-top:-8px;pointer-events:all}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search .mat-icon{margin-right:0;margin-left:0}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search mat-pseudo-checkbox{display:none}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search .mdc-list-item__primary-text{opacity:1}.mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:5px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:0;padding-right:5px}"],changeDetection:0})}return l})();var ye=(()=>{class l{static \u0275fac=function(e){return new(e||l)};static \u0275mod=Ae({type:l});static \u0275inj=Fe({imports:[we]})}return l})();var ii=(()=>{let n=class n{constructor(){this.request=h(J),this.lang=h(q),this.langService="%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22"+this.lang.selectedLang+"%22%2C%22en%22.%20%7D%0A"}projectsListBuilding(e){let r=this.newSparqlAddress("https://database.factgrid.de/query/#SELECT%20DISTINCT%20%3Fitem%20%3FitemLabel%20WHERE%20%7B"+this.langService+"%3Fitem%20wdt%3AP2%20wd%3A"+e+".%7D%0A");return this.request.getList(r).pipe(C(b=>this.listFromSparql(b)))}listFromSparql(e){if(e!==void 0&&e.results!==void 0){let t=e.results.bindings;for(let a=0;a<t.length;a++)t[a].item.id=t[a].item.value.replace("https://database.factgrid.de/entity/","");t.sort((a,o)=>a.itemLabel.value.toUpperCase()<o.itemLabel.value.toUpperCase()?-1:o.itemLabel.value.toUpperCase()>o.itemLabel.value.toUpperCase()?1:0)}return e.results.bindings}newSparqlAddress(e){let t="https://database.factgrid.de/sparql?query=",a="https://database.factgrid.de/query/#";return e.includes("embed.html")&&(a="https://database.factgrid.de/query/embed.html#"),e!==void 0&&(e=e.replace(a,t)),e}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"});let l=n;return l})();var Ye=(()=>{let n=class n{constructor(){this.request=h(J),this.lang=h(q),this.langService="%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22"+this.lang.selectedLang+"%22%2C%22en%22.%20%7D%0A"}propertiesListBuilding(e){let r="https://database.factgrid.de/query/#SELECT%20DISTINCT%20%3Fitem%20%3FitemLabel%20%3FpropertyType%20WHERE%20%7B"+this.langService+"VALUES%20%3Fproperties%20%7B%20wd%3A"+e+"%20wd%3AQ1089730%7D%20%3Fitem%20wdt%3AP8%20%3Fproperties%3B%20wikibase%3ApropertyType%20%3FpropertyType%20MINUS%20%7B%20%3Fproperty%20wikibase%3ApropertyType%20wikibase%3AUrl%20%7D%20MINUS%20%7B%20%3Fitem%20wikibase%3ApropertyType%20wikibase%3AExternalId%20%7D%20MINUS%20%7B%20%3Fitem%20wikibase%3ApropertyType%20wikibase%3AUrl%20%7D%20MINUS%20%7B%20%3Fitem%20wikibase%3ApropertyType%20wikibase%3AGlobeCoordinate%20%7D%20MINUS%20%7B%20%3Fitem%20wikibase%3ApropertyType%20wikibase%3AGeoShape%20%7D%20MINUS%20%7B%20%3Fitem%20wikibase%3ApropertyType%20wikibase%3ACommonsMedia%20%7D%20%7D%20ORDER%20BY%20%3FitemLabel%0A";console.log(r);let b=this.newSparqlAddress(r);return console.log(b),this.request.getList(b).pipe(C(y=>this.transformListFromSparql(y)))}propertiesList2Building(e){let t="https://database.factgrid.de/query/#SELECT%20DISTINCT%20%3Fitem%20%3FitemLabel%20WHERE%20%7B",a="%3Fitem%20wdt%3AP2%20wd%3A",o=".%7D%0A";console.log(t+this.langService+a+e+o);let r=this.newSparqlAddress(t+this.langService+a+e+o);return this.request.getList(r).pipe(C(b=>this.listFromSparql(b)))}get qualifierPropertiesListBuilding(){let e="https://database.factgrid.de/query/#SELECT%20DISTINCT%20%3Fitem%20%3FitemLabel%20%3FpropertyType%20%20WHERE%20%7B%20",t="%20VALUES%20%3Fqualifier%20%7B%20wd%3AQ514317%20wd%3AQ21403%20%7D%0A%20%3Fitem%20wikibase%3ApropertyType%20%3FpropertyType%3B%0A%20%20%20%20%20%20%20%20%20%20%20wdt%3AP8%20%3Fqualifier.%0A%7D%0AORDER%20BY%20%3FitemLabel",a,o=this.newSparqlAddress(e+this.langService+t);return this.request.getList(o).pipe(C(r=>this.listFromSparql(r)),C(r=>this.transformListFromSparql(r)))}listFromSparql(e){if(e!==void 0&&e.results!==void 0){let t=e.results.bindings;for(let a=0;a<t.length;a++)t[a].item.id=t[a].item.value.replace("https://database.factgrid.de/entity/","");t.sort((a,o)=>a.itemLabel.value.toUpperCase()<o.itemLabel.value.toUpperCase()?-1:o.itemLabel.value.toUpperCase()>o.itemLabel.value.toUpperCase()?1:0)}return e.results.bindings}newSparqlAddress(e){let t="https://database.factgrid.de/sparql?query=",a="https://database.factgrid.de/query/#";return e.includes("embed.html")&&(a="https://database.factgrid.de/query/embed.html#"),e!==void 0&&(e=e.replace(a,t)),e}deepNatureOf(){let e="Instance of (deep search)";return this.lang.selectedLang==="de"&&(e="Ist ein(e) (vertiefte Suche)"),this.lang.selectedLang==="fr"&&(e="Nature de l'\xE9l\xE9ment (recherche approfondie)"),this.lang.selectedLang==="es"&&(e="Instancia de (investigaci\xF3n en profundidad)"),this.lang.selectedLang==="it"&&(e="\xC8 (ricerca approfondita)"),e}changeList(e){if(e!==void 0)for(let t=0;t<e.length;t++){let a=this.removeSubstring(e[t].propertyType.value,"http://wikiba.se/ontology#");e[t].itemLabel.label=e[t].itemLabel.value+" ("+a+")"}return e}transformListFromSparql(e){return e!==void 0&&e.results!==void 0?e.results.bindings.map(a=>{let o=a.itemLabel.value,r=a.propertyType.value.replace("http://wikiba.se/ontology#","");return{value:o,id:a.item.value.replace("https://database.factgrid.de/entity/",""),type:r,label:`${o} (${r})`}}).sort((a,o)=>a.value.toUpperCase()<o.value.toUpperCase()?-1:a.value.toUpperCase()>o.value.toUpperCase()?1:0):[]}removeSubstring(e,t){let a=new RegExp(t,"g");return e.replace(a,"")}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"});let l=n;return l})();var Ei=["multiSelect"];function Pi(l,n){if(l&1&&(d(0,"mat-option",6),p(1),s()),l&2){let i=n.$implicit;u("value",i.item.id),c(),Q(" ",i.itemLabel.value," ")}}var ai=(()=>{let n=class n{constructor(){this.setLanguage=h(Ge),this.lang=h(q),this.formBuilder=h($e),this.placeholderLabel="Search",this.projectSearchInput=new v,this.projectMultiFilterCtrl=new v(""),this.filteredProjectMulti=new M(1),this.selectionChange=new R,this._onDestroy=new ie}set data(e){this._data=e,this.filteredProjectMulti.next(this.data.slice())}get data(){return this._data}ngOnInit(){this.projectMultiFilterCtrl.valueChanges.pipe(I(this._onDestroy)).subscribe(()=>{this.filterProjectMulti()})}ngAfterViewInit(){this.setInitialValue()}setInitialValue(){this.filteredProjectMulti}onSelectChange(e){}filterProjectMulti(){if(!this.data)return;let e=this.projectMultiFilterCtrl.value;if(e)e=e.toLowerCase();else{this.filteredProjectMulti.next(this.data.slice());return}this.filteredProjectMulti.next(this.data.filter(t=>t.itemLabel.value.toLowerCase().indexOf(e)>-1))}onSelection(e){this.selectionChange.emit(new Yt(this.multiSelect,e.value))}ngOnDestroy(){}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=N({type:n,selectors:[["app-project-select"]],viewQuery:function(t,a){if(t&1&&P(Ei,7),t&2){let o;A(o=O())&&(a.multiSelect=o.first)}},inputs:{placeholderLabel:"placeholderLabel",data:"data"},outputs:{selectionChange:"selectionChange"},decls:9,vars:6,consts:[["multiSelect",""],[1,"cardBackground"],["id","projects",1,"search-center2"],["placeholder","Projects",3,"selectionChange","formControl","multiple"],["placeholderLabel","Search","noEntriesFoundLabel","Not found",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,a){if(t&1){let o=w();d(0,"div",1)(1,"div",2)(2,"mat-form-field")(3,"mat-select",3,0),x("selectionChange",function(b){return g(o),k(a.onSelection(b))}),d(5,"mat-option"),S(6,"ngx-mat-select-search",4),s(),G(7,Pi,2,2,"mat-option",5),$(8,"async"),s()()()()}t&2&&(c(3),u("formControl",a.projectSearchInput)("multiple",!0),c(3),u("formControl",a.projectMultiFilterCtrl),c(),u("ngForOf",B(8,4,a.filteredProjectMulti)))},dependencies:[ce,De,re,X,se,de,me,be,pe,Z,He,ue,_e,fe,he,ye,we],styles:[".search-center2[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center}#projects[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:60vw}@media (max-width: 959.98px){#projects[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:90vw}}"]});let l=n;return l})();var li=(()=>{let n=class n{constructor(){this.request=h(J),this.lang=h(q),this.baseGetURL="https://database.factgrid.de//w/api.php?action=wbgetentities&ids=",this.getUrlSuffix="&format=json&origin=*"}input(e){e.pipe(ae(400),j(t=>this.request.searchItem(t,this.lang.selectedLang)),C(t=>this.createList(t)),C(t=>t=="https://database.factgrid.de//w/api.php?action=wbgetentities&ids=&format=json&origin=*"?"https://database.factgrid.de//w/api.php?action=wbgetentities&ids=Q220375&format=json&origin=*":t),ae(200),j(t=>this.request.getItem(t)),z(t=>t!==void 0))}createList(e){let t="",a="",o=e.search;o===void 0?o=[]:o=o;for(let r=0;r<o.length;r++)t=t+"|"+o[r].id;return t=t.slice(1),a=this.baseGetURL+t+this.getUrlSuffix,a}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"});let l=n;return l})();var W=[{label:"?activity",id:"Q256699",order:0},{label:"?archive",id:"Q21870",order:0},{label:"?artefact",id:"Q101755",order:0},{label:"?book",id:"Q100626",order:0},{label:"?career",id:"Q77493",order:0},{label:"?city",id:"Q77500",order:0},{label:"?context",id:"Q77500",order:0},{label:"?country",id:"Q77500",order:0},{label:"?date",id:"Q77483",order:0},{label:"?document",id:"Q21870",order:0},{label:"?education",id:"Q100631",order:0},{label:"?event",id:"Q77499",order:0},{label:"?freemasonry",id:"Q23197",order:0},{label:"?group",id:"Q77498",order:0},{label:"?human",id:"Q77478",order:0},{label:"?human work",id:"Q77495",order:0},{label:"?name",id:"Q77488",order:0},{label:"?object",id:"Q101755",order:0},{label:"?organisation",id:"Q77501",order:0},{label:"?person",id:"Q77478",order:0},{label:"?people",id:"Q77478",order:0},{label:"?place",id:"Q77500",order:0},{label:"?printed document",id:"Q100626",order:0},{label:"?profession",id:"Q256699",order:0},{label:"?publication",id:"Q77502",order:0}],oi=[{label:"write literal string",type:"String",col:0},{label:"write date : YYYY-MM-DD",type:"Time",col:0},{label:"write number",type:"Quantity",col:0},{label:"None",type:"Any",col:2},{label:"None",type:"Any",col:3},{label:"None",type:"Any",col:4},{label:"?date",type:"Time",col:0},{label:"?date1",type:"Time",col:1},{label:"?date2",type:"Time",col:2},{label:"?date3",type:"Time",col:3},{label:"?date4",type:"Time",col:4},{label:"?date5",type:"Time",col:5},{label:"?string",type:"String",col:0},{label:"?string1",type:"String",col:1},{label:"?string2",type:"String",col:2},{label:"?string3",type:"String",col:3},{label:"?string4",type:"String",col:4},{label:"?amount",type:"Quantity",col:0},{label:"?amount1",type:"Quantity",col:1},{label:"?amount2",type:"Quantity",col:2},{label:"?amount3",type:"Quantity",col:3},{label:"?number",type:"Quantity",col:0},{label:"?number1",type:"Quantity",col:1},{label:"?number2",type:"Quantity",col:2},{label:"?number3",type:"Quantity",col:3}],ni=[1,5,6,8,10,13,16,17,19,20,21,23],ge=[[{label:"?activity",id:"Q256699",col:0},{label:"?archive",id:"Q21870",col:1},{label:"?artefact",id:"Q101755",col:2},{label:"?book",id:"Q100626",col:3},{label:"?career",id:"Q77493",col:4},{label:"?city",id:"Q77500",col:5},{label:"?country",id:"Q77500",col:6},{label:"?date",id:"Q77483",col:7},{label:"?document",id:"Q21870",col:8},{label:"?education",id:"Q100631",col:9},{label:"?event",id:"Q77499",col:10},{label:"?freemasonry",id:"Q23197",col:11},{label:"?group",id:"Q77498",col:12},{label:"?human",id:"Q77478",col:13},{label:"?human work",id:"Q77495",col:14},{label:"?name",id:"Q77488",col:15},{label:"?object",id:"Q101755",col:16},{label:"?organisation",id:"Q77501",col:17},{label:"?people",id:"Q77478",col:18},{label:"?person",id:"Q77478",col:19},{label:"?place",id:"Q77500",col:20},{label:"?printed document",id:"Q100626",col:21},{label:"?profession",id:"Q256699",col:22},{label:"?publication",id:"Q77502",col:23}],[{label:"?activity1",id:"Q256699",col:0},{label:"?archive1",id:"Q21870",col:1},{label:"?artefact1",id:"Q101755",col:2},{label:"?book1",id:"Q100626",col:3},{label:"?career1",id:"Q77493",col:4},{label:"?city1",id:"Q77500",col:5},{label:"?country1",id:"Q77500",col:6},{label:"?date1",id:"Q77483",col:7},{label:"?document1",id:"Q21870",col:8},{label:"?education1",id:"Q100631",col:9},{label:"?event1",id:"Q77499",col:10},{label:"?freemasonry1",id:"Q23197",col:11},{label:"?group1",id:"Q77498",col:12},{label:"?human1",id:"Q77478",col:13},{label:"?human work1",id:"Q77495",col:14},{label:"?name1",id:"Q77488",col:15},{label:"?object1",id:"Q101755",col:16},{label:"?organisation1",id:"Q77501",col:17},{label:"?people1",id:"Q77478",col:18},{label:"?person1",id:"Q77478",col:19},{label:"?place1",id:"Q77500",col:20},{label:"?printed document1",id:"Q100626",col:21},{label:"?profession1",id:"Q256699",col:22},{label:"?publication1",id:"Q77502",col:23}],[{label:"?activity2",id:"Q256699",col:0},{label:"?archive2",id:"Q21870",col:1},{label:"?artefact2",id:"Q101755",col:2},{label:"?book2",id:"Q100626",col:3},{label:"?career2",id:"Q77493",col:4},{label:"?city2",id:"Q77500",col:5},{label:"?country2",id:"Q77500",col:6},{label:"?date2",id:"Q77483",col:7},{label:"?document2",id:"Q21870",col:8},{label:"?education2",id:"Q100631",col:9},{label:"?event2",id:"Q77499",col:10},{label:"?freemasonry2",id:"Q23197",col:11},{label:"?group2",id:"Q77498",col:12},{label:"?human2",id:"Q77478",col:13},{label:"?human work2",id:"Q77495",col:14},{label:"?name2",id:"Q77488",col:15},{label:"?object2",id:"Q101755",col:16},{label:"?organisation2",id:"Q77501",col:17},{label:"?people2",id:"Q77478",col:18},{label:"?person2",id:"Q77478",col:19},{label:"?place2",id:"Q77500",col:20},{label:"?printed document2",id:"Q100626",col:21},{label:"?profession2",id:"Q256699",col:22},{label:"?publication2",id:"Q77502",col:23}],[{label:"?activity3",id:"Q256699",col:0},{label:"?archive3",id:"Q21870",col:1},{label:"?artefact3",id:"Q101755",col:2},{label:"?book3",id:"Q100626",col:3},{label:"?career3",id:"Q77493",col:4},{label:"?city3",id:"Q77500",col:5},{label:"?country3",id:"Q77500",col:6},{label:"?date3",id:"Q77483",col:7},{label:"?document3",id:"Q21870",col:8},{label:"?education3",id:"Q100631",col:9},{label:"?event3",id:"Q77499",col:10},{label:"?freemasonry3",id:"Q23197",col:11},{label:"?group3",id:"Q77498",col:12},{label:"?human3",id:"Q77478",col:13},{label:"?human work3",id:"Q77495",col:14},{label:"?name3",id:"Q77488",col:15},{label:"?object3",id:"Q101755",col:16},{label:"?organisation3",id:"Q77501",col:17},{label:"?people3",id:"Q77478",col:18},{label:"?person3",id:"Q77478",col:19},{label:"?place3",id:"Q77500",col:20},{label:"?printed document3",id:"Q100626",col:21},{label:"?profession3",id:"Q256699",col:22},{label:"?publication3",id:"Q77502",col:23}],[{label:"?activity4",id:"Q256699",col:0},{label:"?archive4",id:"Q21870",col:1},{label:"?artefact4",id:"Q101755",col:2},{label:"?book4",id:"Q100626",col:3},{label:"?career4",id:"Q77493",col:4},{label:"?city4",id:"Q77500",col:5},{label:"?country4",id:"Q77500",col:6},{label:"?date4",id:"Q77483",col:7},{label:"?document4",id:"Q21870",col:8},{label:"?education4",id:"Q100631",col:9},{label:"?event4",id:"Q77499",col:10},{label:"?freemasonry4",id:"Q23197",col:11},{label:"?group4",id:"Q77498",col:12},{label:"?human4",id:"Q77478",col:13},{label:"?human work4",id:"Q77495",col:14},{label:"?name4",id:"Q77488",col:15},{label:"?object4",id:"Q101755",col:16},{label:"?organisation4",id:"Q77501",col:17},{label:"?people4",id:"Q77478",col:18},{label:"?person4",id:"Q77478",col:19},{label:"?place4",id:"Q77500",col:20},{label:"?printed document4",id:"Q100626",col:21},{label:"?profession4",id:"Q256699",col:22},{label:"?publication4",id:"Q77502",col:23}],[{label:"?activity5",id:"Q256699",col:0},{label:"?archive5",id:"Q21870",col:1},{label:"?artefact5",id:"Q101755",col:2},{label:"?book5",id:"Q100626",col:3},{label:"?career5",id:"Q77493",col:4},{label:"?city5",id:"Q77500",col:5},{label:"?country5",id:"Q77500",col:6},{label:"?date5",id:"Q77483",col:7},{label:"?document5",id:"Q21870",col:8},{label:"?education5",id:"Q100631",col:9},{label:"?event5",id:"Q77499",col:10},{label:"?freemasonry5",id:"Q23197",col:11},{label:"?group5",id:"Q77498",col:12},{label:"?human5",id:"Q77478",col:13},{label:"?human work5",id:"Q77495",col:14},{label:"?name5",id:"Q77488",col:15},{label:"?object5",id:"Q101755",col:16},{label:"?organisation5",id:"Q77501",col:17},{label:"?people5",id:"Q77478",col:18},{label:"?person5",id:"Q77478",col:19},{label:"?place5",id:"Q77500",col:20},{label:"?printed document5",id:"Q100626",col:21},{label:"?profession5",id:"Q256699",col:22},{label:"?publication5",id:"Q77502",col:23}]];var ke=(()=>{let n=class n{constructor(){this.mutator=new V(ge),this.mutator$=this.mutator.asObservable(),this.mutatorForItemValue=new V(ge),this.mutatorForItemValue$=this.mutator.asObservable(),this.mutatorForNextStatement=new V(ge),this.mutatorForNextStatement$=this.mutatorForNextStatement.asObservable(),this.itemTypes=new V(W),this.itemTypes$=this.itemTypes.asObservable(),this.itemTypes1=new V([]),this.itemTypes1$=this.itemTypes1.asObservable(),this.itemTypes2=new V([]),this.itemTypes2$=this.itemTypes2.asObservable(),this.formerItemTypes=new V([W]),this.formerItemTypes$=this.formerItemTypes.asObservable(),this.propertiesList=new V([]),this.propertiesList$=this.propertiesList.asObservable(),this.currentStatement=new V(0),this.currentStatement$=this.currentStatement.asObservable()}updateMutator(e){this.mutator.next(e)}updateMutatorForItemValue(e){this.mutatorForItemValue.next(e)}updateMutatorForNextStatement(e){this.mutatorForNextStatement.next(e)}lastItemTypes$(e){return e.pipe(C(t=>t[t.length-1]))}updateItemTypes(e){this.itemTypes.next(e)}updateItemTypes1(e){this.itemTypes1.next(e)}updateItemTypes2(e){this.itemTypes2.next(e)}updateFormerItemTypes(e){this.formerItemTypes.next(e)}updatePropertiesList(e){this.propertiesList.next(e)}updateCurrentStatement(e){this.currentStatement.next(e)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"});let l=n;return l})();var ri=(()=>{let n=class n{constructor(){}itemType(e,t){return e&&e.length>t?e.at(t).get("value.itemType"):null}itemValue(e,t){return e.at(t).get("value.itemValue")}propertyValues(e,t){return e.at(t).get("properties")}literalValue(e,t){return e.at(t).get("value.literalValue")}literalString(e,t){return e.at(t).get("value.literalString")}qualifiers(e,t){return e.at(t).get("qualifiers")}qualifierProperty(e,t){return e.at(t).get("qualifierProperty")}qualifierValue(e,t){return e.at(t).controls.value.get("qualifierValue")}qualifierLiteralValue(e,t){return e.at(t).controls.value.get("qualifierLiteralValue")}qualifierLiteralString(e,t){return e.at(t).controls.value.get("qualifierLiteralString")}patchQualifierValue(e,t,a){return this.qualifierValue(t,a).patchValue("value")}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"});let l=n;return l})();var Wi=["matRef"],Di=["singleSelect"],ji=["multiSelect"],rt=(l,n,i,e,t)=>[l,n,i,e,t],ct=(l,n,i,e)=>[l,n,i,e],Ri=(l,n,i)=>[l,n,i],$i=(l,n)=>n.itemType,Bi=(l,n)=>n.qualifierProperty[1];function Ni(l,n){l&1&&p(0," (optional) ")}function Ui(l,n){if(l&1&&p(0),l&2){let i=m().$implicit;tt(" statement ",i.itemType[0]+1," : subject: ",i.itemType[1]," ")}}function zi(l,n){if(l&1&&p(0),l&2){let i=n.$implicit;Ee(i[3])}}function Gi(l,n){if(l&1&&(p(0," -> property: "),H(1,zi,1,1,null,null,le)),l&2){let i=m().$implicit;c(),Y(i.properties)}}function Hi(l,n){if(l&1&&p(0),l&2){let i=m(2).$implicit;Q(" ",i.value.itemValue[1]," ")}}function Yi(l,n){if(l&1&&p(0),l&2){let i=m(2).$implicit;Q(" ",i.value.literalValue[1]," ")}}function Ki(l,n){if(l&1&&p(0),l&2){let i=m(2).$implicit;Q(" ",i.value.literalString," ")}}function Xi(l,n){if(l&1&&(p(0," -> object: "),f(1,Hi,1,1),f(2,Yi,1,1),f(3,Ki,1,1)),l&2){let i=m().$implicit;c(),_(i.value.itemValue?1:-1),c(),_(i.value.literalValue?2:-1),c(),_(i.value.literalString?3:-1)}}function Zi(l,n){if(l&1&&p(0),l&2){let i=m().$implicit;tt(" qualifier ",i.qualifierProperty[1]+1," : property: ",i.qualifierProperty[4])}}function Ji(l,n){if(l&1&&p(0),l&2){let i=m(2).$implicit;Q(" -> object: ",i.value.qualifierValue[2])}}function ea(l,n){if(l&1&&p(0),l&2){let i=m(2).$implicit;Q(" -> object: ",i.value.qualifierLiteralValue[2])}}function ta(l,n){if(l&1&&p(0),l&2){let i=m(2).$implicit;Q(" -> object: ",i.value.qualifierLiteralString)}}function ia(l,n){if(l&1&&(f(0,Ji,1,1),f(1,ea,1,1),f(2,ta,1,1)),l&2){let i=m().$implicit;_(i.value.qualifierValue?0:-1),c(),_(i.value.qualifierLiteralValue?1:-1),c(),_(i.value.qualifierLiteralString?2:-1)}}function aa(l,n){if(l&1&&(d(0,"div",8),f(1,Zi,1,2),f(2,ia,3,3),s()),l&2){let i=n.$implicit;c(),_(i.qualifierProperty?1:-1),c(),_(i.value?2:-1)}}function la(l,n){if(l&1&&(d(0,"div",2),H(1,aa,3,2,"div",8,Bi),s()),l&2){let i=m().$implicit;c(),Y(i.qualifiers)}}function oa(l,n){if(l&1&&(d(0,"div",8),f(1,Ni,1,0),f(2,Ui,1,2),f(3,Gi,3,0),f(4,Xi,4,3),s(),f(5,la,3,0,"div",2)),l&2){let i=n.$implicit;c(),_(i.optional?1:-1),c(),_(i.itemType?2:-1),c(),_(i.properties?3:-1),c(),_(i.value?4:-1),c(),_(i.qualifiers?5:-1)}}function na(l,n){if(l&1&&H(0,oa,6,5,null,null,$i),l&2){let i=m();Y(i.query.value.statements)}}function ra(l,n){if(l&1&&(d(0,"mat-option",19),p(1),s()),l&2){let i=n.$implicit,e=m().$index;u("value",We(2,rt,e,i.label,i.value,i.id,i.order)),c(),Q(" ",i.label," ")}}function ca(l,n){if(l&1&&(d(0,"mat-option",19),p(1),s()),l&2){let i=n.$implicit,e=m().$index;u("value",qe(2,ct,e,i.value,i.id,i.type)),c(),Q(" ",i.label," ")}}function sa(l,n){l&1&&(d(0,"div",17),p(1," Select several properties only if they have the same type "),s())}function da(l,n){if(l&1&&(d(0,"mat-option",19),p(1),s()),l&2){let i=n.$implicit,e=m(2).$index;u("value",qe(4,ct,e,i.label,i.col,i.id)),c(),it(" ",i.label,"",i.separator,"",i.description," ")}}function ma(l,n){if(l&1){let i=w();d(0,"mat-form-field",11)(1,"mat-select",20,0),x("selectionChange",function(t){g(i);let a=m(2);return k(a.onValueSelect(t))}),d(3,"mat-option"),S(4,"ngx-mat-select-search",16),s(),G(5,da,2,9,"mat-option",14),$(6,"async"),s()()}if(l&2){let i=m().$index,e=m();c(4),u("formControl",e.itemValueFilterCtrl),c(),u("ngForOf",B(6,2,e.filteredItemValuesArray[i]))}}function pa(l,n){if(l&1&&(d(0,"mat-option",19),p(1),s()),l&2){let i=n.$implicit,e=m(2).$index;u("value",xt(2,Ri,e,i.label,i.col)),c(),Q(" ",i.label," ")}}function ua(l,n){if(l&1){let i=w();d(0,"mat-form-field",11)(1,"mat-select",21,0),x("selectionChange",function(t){g(i);let a=m(2);return k(a.onLiteralValueSelect(t))}),H(3,pa,2,6,"mat-option",19,le),s()(),d(5,"mat-form-field",11),S(6,"input",22),s()}if(l&2){let i=m(2);c(),u("placeholder",at(i.placeholderForLiteralValue)),c(2),Y(i.literalVariables),c(3),u("placeholder",at(i.placeholderForLiteralString))}}function ha(l,n){if(l&1&&(d(0,"mat-option",19),p(1),s()),l&2){let i=n.$implicit,e=m(2).$index,t=m(2).$index;u("value",We(2,rt,t,e,i.id,i.propertyType.id,i.itemLabel.value)),c(),Q(" ",i.itemLabel.label," ")}}function ba(l,n){if(l&1&&(d(0,"mat-option",19),p(1),s()),l&2){let i=n.$implicit,e=m(3).$index,t=m(2).$index;u("value",We(4,rt,t,e,i.label,i.col,i.id)),c(),it(" ",i.label,"",i.separator,"",i.description," ")}}function fa(l,n){if(l&1){let i=w();d(0,"mat-form-field",11)(1,"mat-select",25,0),x("selectionChange",function(t){g(i);let a=m(5);return k(a.onQualifierValueSelect(t))}),d(3,"mat-option"),S(4,"ngx-mat-select-search",16),s(),G(5,ba,2,10,"mat-option",14),$(6,"async"),s()()}if(l&2){let i=m(5);c(4),u("formControl",i.qualifierValueFilterCtrl),c(),u("ngForOf",B(6,2,i.filteredQualifierValues))}}function _a(l,n){if(l&1&&(d(0,"mat-option",19),p(1),s()),l&2){let i=n.$implicit,e=m(3).$index,t=m(2).$index;u("value",qe(2,ct,t,e,i.label,i.col)),c(),Q(" ",i.label," ")}}function ya(l,n){l&1&&(d(0,"mat-form-field",11),S(1,"input",27),s())}function ga(l,n){if(l&1){let i=w();d(0,"mat-form-field",11)(1,"mat-select",26,0),x("selectionChange",function(t){g(i);let a=m(5);return k(a.onQualifierLiteralValueSelect(t))}),H(3,_a,2,7,"mat-option",19,le),s()(),f(5,ya,2,0,"mat-form-field",11)}if(l&2){let i=m(5);c(3),Y(i.qualifierLiteralVariables),c(2),_(i.isLiteralStringOnQualifier?5:-1)}}function ka(l,n){if(l&1){let i=w();d(0,"div",2),p(1),d(2,"span"),p(3,"\xA0\xA0\xA0\xA0\xA0\xA0"),d(4,"mat-checkbox",10),p(5,"Optional"),s()(),p(6,":"),s(),d(7,"mat-form-field",11)(8,"mat-select",24),x("selectionChange",function(t){g(i);let a=m(4);return k(a.onQualifierPropertySelect(t))}),d(9,"mat-option"),S(10,"ngx-mat-select-search",16),s(),G(11,ha,2,8,"mat-option",14),$(12,"async"),s()(),d(13,"div",18),f(14,fa,7,4,"mat-form-field",11),f(15,ga,6,1),s()}if(l&2){let i=m().$index,e=m(3);c(),Q("Qualifier ",i+1," "),c(9),u("formControl",e.qualifierPropertyFilterCtrl),c(),u("ngForOf",B(12,5,e.filteredQualifierProperties)),c(3),_(e.isWikibaseItemOnQualifier===!0?14:-1),c(),_(e.isLiteralOnQualifier===!0?15:-1)}}function xa(l,n){if(l&1&&(d(0,"div",9),f(1,ka,16,7),s()),l&2){let i=n.$index,e=m(2).$index,t=m();u("formGroupName",i),c(),_(i===t.qualifiers(e).length-1?1:-1)}}function va(l,n){if(l&1){let i=w();d(0,"div",4)(1,"button",28),x("click",function(){g(i);let t=m(2).$index,a=m();return k(a.removeQualifiers(t,a.j))}),p(2,"Remove qualifier"),s()()}}function Ca(l,n){if(l&1&&(d(0,"div",23),H(1,xa,2,2,"div",9,le),s(),f(3,va,3,0,"div",4)),l&2){let i=m().$index,e=m();c(),Y(e.qualifiers(i).controls),c(2),_(e.isRemoveQualifier?3:-1)}}function Sa(l,n){if(l&1){let i=w();d(0,"div",4)(1,"button",28),x("click",function(){g(i);let t=m().$index,a=m();return k(a.addQualifiers(t))}),p(2,"Add qualifier"),s()()}}function Qa(l,n){if(l&1){let i=w();d(0,"div",4)(1,"button",28),x("click",function(){g(i);let t=m().$index,a=m();return k(a.removeStatements(t))}),p(2,"Remove statement"),s()()}}function wa(l,n){if(l&1){let i=w();d(0,"div",4)(1,"button",28),x("click",function(){g(i);let t=m(2);return k(t.addStatements())}),p(2,"Add Statement"),s()()}}function Ia(l,n){if(l&1){let i=w();d(0,"div",9)(1,"div",2),p(2),d(3,"span"),p(4,"\xA0\xA0\xA0\xA0\xA0\xA0"),d(5,"mat-checkbox",10),p(6,"Optional"),s()(),p(7,":"),s(),d(8,"mat-form-field",11)(9,"mat-select",12,0),x("selectionChange",function(t){g(i);let a=m();return k(a.onItemTypeSelect(t))}),d(11,"mat-option"),S(12,"ngx-mat-select-search",13),s(),G(13,ra,2,8,"mat-option",14),$(14,"async"),s()(),d(15,"mat-form-field",11)(16,"mat-select",15),x("selectionChange",function(t){g(i);let a=m();return k(a.onPropertySelect(t))}),d(17,"mat-option"),S(18,"ngx-mat-select-search",16),s(),G(19,ca,2,7,"mat-option",14),$(20,"async"),s(),f(21,sa,2,0,"div",17),s(),d(22,"div",18),f(23,ma,7,4,"mat-form-field",11),f(24,ua,7,4),s(),f(25,Ca,4,1),f(26,Sa,3,0,"div",4),s(),f(27,Qa,3,0,"div",4),f(28,wa,3,0,"div",4)}if(l&2){let i=n.$index,e=m();u("formGroupName",i),c(2),Q("Statement ",i+1," "),c(10),u("formControl",e.itemTypeFilterCtrl)("noEntriesFoundLabel",e.noDataFoundLabel),c(),u("ngForOf",B(14,15,e.filteredItemTypesArray[i])),c(3),u("multiple",!0),c(2),u("formControl",e.propertytMultiFilterCtrl),c(),u("ngForOf",B(20,17,e.filteredPropertyMultiArray[i])),c(2),_(e.statements.at(i).get("properties").hasError("differentDatatype")?21:-1),c(2),_(e.isWikibaseItemOnStatement===!0?23:-1),c(),_(e.isLiteralOnStatement===!0?24:-1),c(),_(e.isQualifier===!0?25:-1),c(),_(e.isAddQualifier?26:-1),c(),_(e.isRemoveStatement?27:-1),c(),_(e.isAddStatement?28:-1)}}var ci=(()=>{let n=class n{constructor(){this.changeDetector=h(ne),this.request=h(J),this.setLanguage=h(Ge),this.lang=h(q),this.propertyList=h(Ye),this.fb=h($e),this.searchEngine=h(li),this.data=h(ke),this.controls=h(ri),this.selectedItemType=new R,this.currentItemTypes=[],this.currentItemTypesArray=[],this.statementOptions=[],this.entityValues=[],this.currentMutator=ge,this.selectedLiteralVariables=[],this.isWikibaseItemOnStatement=!0,this.isLiteralOnStatement=!1,this.isLiteralStringOnStatement=!1,this.isWikibaseItemOnQualifier=!0,this.isLiteralOnQualifier=!1,this.isLiteralStringOnQualifier=!1,this.isLastStatement=!1,this.isAddStatement=!1,this.isRemoveStatement=!1,this.isAddQualifier=!1,this.isRemoveQualifier=!1,this.isQualifier=!1,this.isItemValue=!0,this.isLiteralVariableSelected=!0,this.selectedItemTypes=[],this.placeholderForLiteralValue="literal value?",this.placeholderForLiteralString="write string? | date? | number?",this.query=this.fb.group({statements:this.fb.array([this.statement])}),this.itemTypeFilterCtrl=new v(""),this.filteredItemTypesArray=[],this.propertytMultiFilterCtrl=new v(""),this.filteredPropertyMultiArray=[],this.itemValueFilterCtrl=new v(""),this.filteredItemValuesArray=[],this.literalFilterCtrl=new v(""),this.filteredLiteralVariables=new M(1),this.qualifierPropertyFilterCtrl=new v(""),this.filteredQualifierProperties=new M(1),this.qualifierValueFilterCtrl=new v(""),this.filteredQualifierValues=new M(1),this.qualifierLiteralFilterCtrl=new v(""),this.filteredQualifierLiteralVariables=new M(1),this.items=[],this.isQualifier2Display=!1,this.selectionChange=new R,this.propertySelectionChange=new R,this._onDestroy=new ie}set literalVariables(e){this._literalVariables=e,this.literalVariables&&this.filteredLiteralVariables.next(this.literalVariables.slice())}set qualifierLiteralVariables(e){this._qualifierLiteralVariables=e,this.qualifierLiteralVariables&&this.filteredQualifierLiteralVariables.next(this.qualifierLiteralVariables.slice())}get literalVariables(){return this._literalVariables}get qualifierLiteralVariables(){return this._qualifierLiteralVariables}get statements(){return this.query.get("statements")}qualifiers(e){return this.statements.at(e).get("qualifiers")}get lastStatementIndex(){let e=this.statements.length>0?this.statements.length-1:0;return console.log("lastStatementIndex:",e),e}get statement(){return this.fb.group({itemType:new v({value:"",disabled:!1}),properties:new v({value:[],disabled:!0},[wt.required,this.datatypeValidator]),value:this.value,optional:new v({value:!1,disabled:!1}),qualifiers:this.fb.array([this.qualifier])})}get value(){return this.fb.group({itemValue:new v({value:"",disabled:!0}),literalValue:new v({value:"",disabled:!0}),literalString:new v({value:"",disabled:!0})})}get qualifier(){return this.fb.group({qualifierProperty:new v({value:"",disabled:!1}),value:this.qualifierValue,optional:new v({value:!1,disabled:!1})})}get qualifierValue(){return this.fb.group({qualifierValue:new v({value:"",disabled:!0}),qualifierLiteralValue:new v({value:"",disabled:!0}),qualifierLiteralString:new v({value:"",disabled:!0})})}isPropertiesInvalid(e){return this.statements.at(e).get("properties").invalid}addStatements(){this.statements.push(this.statement),console.log("Added statement, new statements length:",this.statements.length),this.isRemoveStatement=!0,this.filteredItemTypesArray.push(new M(1)),this.filteredItemValuesArray.push(new M(1)),this.filteredPropertyMultiArray.push(new M(1)),this.statementOptions.push(new V([])),this.filteredItemTypesArray[this.lastStatementIndex].next([]),this.filteredItemValuesArray[this.lastStatementIndex].next([]),this.filteredPropertyMultiArray[this.lastStatementIndex].next([]),this.setCurrentItemTypes(this.lastStatementIndex),this.filterItemTypes(this.lastStatementIndex),this.filterItemValues(this.lastStatementIndex),this.filterPropertyMulti(this.lastStatementIndex,D([]))}removeStatements(e){this.statements.removeAt(e),console.log("Removed statement at index",e,"new statements length:",this.statements.length),this.currentItemTypesArray.splice(e,1),this.filteredItemTypesArray.splice(e,1),this.setCurrentItemTypes(this.lastStatementIndex),this.filterItemTypes(this.lastStatementIndex)}addQualifiers(e){let t=this.qualifiers(e).controls.length-1;this.qualifiers(e).pristine&&this.qualifiers(e).removeAt(t),this.isQualifier=!0,this.qualifiers(e).push(this.qualifier);let a=this.controls.qualifiers(this.statements,e);this.isQualifier=!0}addFirstQualifier(e){this.controls.qualifiers(this.statements,e).enable(),e===0&&(this.isQualifier=!0)}removeQualifiers(e,t){this.qualifiers(e).removeAt(t)}statementControllerDisplay(e,t){let a=this.statements.at(t),o=a.get("value.itemValue");e==="WikibaseItem"?(this.isWikibaseItemOnStatement=!0,this.isLiteralOnStatement=!1,o.enable(),a.get("value.literalValue").disable(),a.get("value.literalString").disable()):(e==="String"||e==="MonolingualText"||e==="Time"||e==="Quantity")&&(console.log(e),o.disable(),a.get("value.literalValue").enable(),a.get("value.literalString").enable(),this.isWikibaseItemOnStatement=!1,this.isLiteralStringOnStatement=!1,this.isLiteralOnStatement=!0)}literalControllerDisplay(e,t){e==="write literal string"||e==="write date : YYYY-MM-DD"||e==="write number"?(this.controls.literalValue(this.statements,t).enable(),this.controls.literalString(this.statements,t).enable(),this.controls.literalValue(this.statements,t).patchValue(""),this.isLiteralStringOnStatement=!0,this.placeholderForLiteralString="write below"):(this.controls.literalValue(this.statements,t).enable(),this.controls.literalString(this.statements,t).disable(),this.isLiteralStringOnStatement=!1,this.placeholderForLiteralString="disabled")}qualifierControllerDisplay(e,t,a){console.log(e);let o=this.controls.qualifiers(this.statements,t);if(e==="WikibaseItem"){let r=this.controls.qualifierValue(o,a);console.log(r),this.isWikibaseItemOnQualifier=!0,this.isLiteralOnQualifier=!1,this.controls.qualifierValue(o,a).enable(),this.controls.qualifierLiteralValue(o,a).disable(),this.controls.qualifierLiteralString(o,a).disable()}else(e==="String"||e==="MonolingualText"||e==="Time"||e==="Quantity")&&(this.controls.qualifierLiteralValue(o,a).enable(),this.controls.qualifierLiteralString(o,a).enable(),this.isWikibaseItemOnQualifier=!1,this.isLiteralOnQualifier=!0)}qualifierLiteralControllerDisplay(e,t,a){let o=this.controls.qualifiers(this.statements,t);e==="write literal string"||e==="write date : YYYY-MM-DD"||e==="write number"?(this.controls.qualifierLiteralValue(o,a).enable(),this.controls.qualifierLiteralString(o,a).enable(),this.isLiteralStringOnQualifier=!0):(this.controls.literalValue(o,a).enable(),this.controls.literalString(o,a).disable(),this.isLiteralStringOnQualifier=!1)}onItemTypeSelect(e){console.log(e.value),console.log("Selected itemType:",e.value);let t=e.value[0];this.controls.propertyValues(this.statements,t).enable();let a=this.propertyList.propertiesListBuilding(e.value[3]);this.filterPropertyMulti(t,a),this.selectedItemType.emit(e.value),this.statements.at(t).get("itemType").setValue(e.value,{emitEvent:!1}),console.log("Updated itemType control value:",this.statements.at(t).get("itemType").value),this.changeDetector.detectChanges()}onPropertySelect(e){let t=[];console.log("Event value:",e.value);let a=e.value[0][0];console.log(a);for(let o=0;o<e.value.length;o++)if(e.value[o]!==void 0){let r=e.value[o][3];console.log(r),r?(this.statementControllerDisplay(r,a),this.controls.itemValue(this.statements,a).enable()):console.error("Property type is undefined or invalid:",e.value[o][1].propertyType)}else console.error("Event value["+o+"] is undefined:",e.value)}onValueSelect(e){let t=e.value[0],a=e.value[1],o=e.value[2];console.log(e.value);let r=this.statements.at(t).get("value.itemValue");this.changeDetector.detectChanges(),a.charAt(0),this.isAddQualifier=!0,this.isAddStatement=!0,this.resetPreviousItemValues(t),console.log(this.resetPreviousItemValues(t))}onLiteralValueSelect(e){let t=e.value[0],a=e.value[1];this.placeholderForLiteralString=a,this.literalControllerDisplay(a,t),a.charAt(0)==="?"&&console.log(a),this.isAddStatement=!0,this.isAddQualifier=!0}onQualifierPropertySelect(e){console.log(e.value);let t=e.value[0],a=e.value[1],o=e.value[3];this.qualifierControllerDisplay(o,t,a)}onQualifierValueSelect(e){console.log(e.value);let t=e.value[0],a=e.value[1],o=e.value[2],r=e.value[3],b=e.value[4],y=[t,o,r,b];o.charAt(0),this.isRemoveQualifier=!0;let L=this.controls.qualifiers(this.statements,t),T=this.controls.qualifierValue(L,a);console.log(T),this.controls.patchQualifierValue(T,L,a)}onQualifierLiteralValueSelect(e){console.log(e.value);let t=e.value[0];e.value[2].charAt(0)==="?"?this.isLiteralStringOnQualifier=!1:this.isLiteralStringOnQualifier=!0,this.isRemoveQualifier=!0}clear(){this.matRef.options.forEach(e=>e.deselect())}ngOnInit(){console.log("Initial statements length:",this.statements.length),this.propertyList.qualifierPropertiesListBuilding.subscribe(e=>this.qualifierPropertiesToSelect=e),this.itemTypeFilterCtrl.valueChanges.pipe(I(this._onDestroy)).subscribe(()=>{this.filterItemTypes(this.lastStatementIndex)}),this.propertytMultiFilterCtrl.valueChanges.pipe(I(this._onDestroy)).subscribe(()=>{this.filterPropertyMulti(this.lastStatementIndex,D([]))}),this.itemValueFilterCtrl.valueChanges.pipe(I(this._onDestroy)).subscribe(()=>{this.filterItemValues(this.lastStatementIndex)}),this.literalFilterCtrl.valueChanges.pipe(I(this._onDestroy)).subscribe(()=>{this.filterLiteralVariables()}),this.qualifierPropertyFilterCtrl.valueChanges.pipe(I(this._onDestroy)).subscribe(()=>{this.filterQualifierProperties()}),this.qualifierValueFilterCtrl.valueChanges.pipe(I(this._onDestroy)).subscribe(()=>{this.filterQualifierValues()}),this.qualifierLiteralFilterCtrl.valueChanges.pipe(I(this._onDestroy)).subscribe(()=>{this.filterQualifierValues()}),this.statementOptions[0]=new V([]),this.filteredItemTypesArray.push(new M(1)),this.filteredItemValuesArray.push(new M(1)),this.filteredPropertyMultiArray.push(new M(1)),this.setCurrentItemTypes(this.lastStatementIndex),this.filterItemTypes(this.lastStatementIndex),this.filterItemValues(this.lastStatementIndex),this.filterPropertyMulti(this.lastStatementIndex,D([]))}ngAfterViewInit(){console.log("Statements length after view init:",this.statements.length),this.setInitialLiteralVariable(),this.setInitialQualifierPropertyValue(),this.setInitialQualifierValueValue(),this.setInitialQualifierLiteralVariable()}setInitialItemTypeValue(){this.data.itemTypes$.subscribe(e=>{this.filteredItemTypesArray.forEach((t,a)=>{console.log(e),t.next(e),this.filterItemTypes(a)})})}setInitialPropertyValue(){this.filteredPropertyMultiArray.forEach((e,t)=>{})}setInitialItemValue(){this.filteredItemValuesArray.forEach((e,t)=>{})}setInitialLiteralVariable(){this.filteredLiteralVariables}setInitialQualifierPropertyValue(){this.filteredQualifierProperties}setInitialQualifierValueValue(){this.filteredQualifierValues}setInitialQualifierLiteralVariable(){this.filterQualifierLiteralVariables}filterItemTypes(e){console.log("Calling setCurrentItemTypes with index:",e),this.setCurrentItemTypes(e),console.log("currentItemTypes after setCurrentItemTypes:",this.currentItemTypesArray[e]);let t=this.itemTypeFilterCtrl.value;t?(t=t.toLowerCase(),this.filteredItemTypesArray[e].next(this.currentItemTypesArray[e].filter(a=>a.label.toLowerCase().indexOf(t)>-1))):this.filteredItemTypesArray[e].next(this.currentItemTypesArray[e].slice()),this.changeDetector.detectChanges()}setCurrentItemTypes(e){if(console.log("setCurrentItemTypes called with index:",e),e===0)!W||W.length===0?(console.error("ITEMTYPES is undefined or empty"),this.currentItemTypesArray[e]=[]):(this.currentItemTypesArray[e]=W,console.log("Updated currentItemTypes:",this.currentItemTypesArray[e]));else{let t=[];for(let o=0;o<e;o++){let r=this.statements.at(o).get("itemType"),b=this.statements.at(o).get("value.itemValue");if(console.log("itemTypeControl at index",o,":",r),console.log("itemValueControl at index",o,":",b),r&&r.value){let y=r.value[1];console.log(`itemTypeControl value at index ${o}:`,y),t.push({label:y})}if(b&&b.value){let y=b.value[1];typeof y=="string"&&y.startsWith("?")&&t.push({label:y})}}let a=Array.from(new Set(t.map(o=>JSON.stringify(o)))).map(o=>JSON.parse(o));this.currentItemTypesArray[e]=a.sort((o,r)=>o.label.localeCompare(r.label)),console.log("Updated currentItemTypes:",this.currentItemTypesArray[e])}}filterPropertyMulti(e,t){t.pipe(j(a=>{if(!a||a.length===0)return console.error("Les donn\xE9es ne sont pas correctement charg\xE9es dans options."),D([]);console.log(a);let o=this.propertytMultiFilterCtrl.value;return o?(o=o.toLowerCase(),D(a.filter(r=>r.value.toLowerCase().indexOf(o)>-1))):D(a.slice())})).subscribe(a=>{this.filteredPropertyMultiArray[e].next(a)})}filterItemValues(e){let t=this.getSelectedOptionsUpToIndex(e),o=this.getLabelsFromSelectedOptions(t).map(r=>({label:r,col:null,id:null,separator:""}));console.log(o),this.statementOptions[e]||(this.statementOptions[e]=new V([])),this.statementOptions[e].next(o),this.filteredItemValuesArray[e]||(this.filteredItemValuesArray[e]=new M(1)),this.filteredItemValuesArray[e].next(o),this.resetPreviousItemValues(e)}resetPreviousItemValues(e){for(let t=0;t<e;t++){let a=this.statements.at(t).get("value.itemValue");a&&a.value&&a.setValue(a.value,{emitEvent:!1})}}getSelectedOptionsUpToIndex(e){let t=[],a=this.statements.at(e).get("itemType"),o=a?a.value[1]:null;for(let r=0;r<=e;r++){let b=this.statements.at(r).get("itemType"),y=this.statements.at(r).get("value.itemValue");if(b&&b.value){let L=[...b.value],T=L[1];if(y&&y.value){let ee=y.value[1].match(/^\?(.+?)(\d+)$/);if(ee){let Ie=ee[1],Xe=parseInt(ee[2]),Te=b.value[1].slice(0,-1);Ie===Te&&(T=Ie+(Xe+1))}}let xe=T.charAt(T.length-1);if(/[a-zA-Z]$/.test(xe))T+="1";else if(/[0-9]$/.test(xe)){let Ke=parseInt(xe);T=T.slice(0,-1)+(Ke+1)}if(L[1]=T,r<e&&T===o)continue;if(r<e&&y&&y.value){let ee=y.value[1].match(/^\?(.+?)(\d+)$/);if(ee){let Ie=ee[1],Xe=parseInt(ee[2]),Te=Ie+(Xe+1);t.some(di=>di[1]===Te)||t.push([b.value[0],Te])}}t.push(L)}}return t}getLabelsFromSelectedOptions(e){return e.map(t=>t[1])}itemValuesList1(e){return this.data.mutator$.pipe(C(t=>t[0]))}itemValuesList2(e,t,a){let o=[];return this.request.searchItem(e,t).pipe(C(r=>this.createList(r)),j(r=>this.request.getItem(r)),z(r=>r!=null),z(r=>r.entities!==void 0&&r.entities!==null),C(r=>Object.values(r.entities)),C(r=>this.setLanguage.item(r,this.lang.selectedLang)))}filterLiteralVariables(){if(this.literalVariables===void 0)return;let e=this.literalFilterCtrl.value;if(e)e=e.toLowerCase();else{this.filteredLiteralVariables.next(this.literalVariables.slice());return}this.filteredLiteralVariables.next(this.literalVariables.filter(t=>t.label.toLowerCase().indexOf(e)>-1))}filterQualifierProperties(){if(!this.qualifierPropertiesToSelect)return;let e=this.qualifierPropertyFilterCtrl.value;if(e)e=e.toLowerCase();else{this.filteredQualifierProperties.next(this.qualifierPropertiesToSelect.slice());return}this.filteredQualifierProperties.next(this.qualifierPropertiesToSelect.filter(t=>t.itemLabel.label.toLowerCase().indexOf(e)>-1))}filterQualifierValues(){let e=this.qualifierValueFilterCtrl.value,t=e.charAt(0);if(e)t!=="?"?(e=e.toLowerCase(),this.qualifierValueFilterCtrl.valueChanges.pipe(ae(400),j(a=>this.request.searchItem(a,this.lang.selectedLang)),C(a=>this.createList(a)),ae(400),j(a=>this.request.getItem(a)),z(a=>a!=null),z(a=>a.entities!==void 0&&a.entities!==null),C(a=>Object.values(a.entities))).subscribe(a=>{this.entityValues=this.setLanguage.item(a,this.lang.selectedLang),this.setSeparator(this.entityValues),this.filteredQualifierValues.next(this.entityValues.filter(o=>o.label.toLowerCase().indexOf(e)>-1))})):this.data.mutator$.subscribe(a=>{this.entityValues=a[0];let o=[];o=this.entityValues.filter(r=>ni.includes(r.col)),e==="?*"?this.filteredQualifierValues.next(o):(e=e.slice(1),this.filteredQualifierValues.next(o.filter(r=>r.label.toLowerCase().indexOf(e)>-1)))});else{this.filteredQualifierValues.next(this.entityValues.slice());return}}filterQualifierLiteralVariables(){if(console.log(this.qualifierLiteralVariables),this.qualifierLiteralVariables===void 0)return;let e=this.qualifierLiteralFilterCtrl.value;if(console.log(e),e)e=e.toLowerCase();else{console.log(this.qualifierLiteralVariables),this.filteredQualifierLiteralVariables.next(this.qualifierLiteralVariables.slice());return}this.filteredQualifierLiteralVariables.next(this.qualifierLiteralVariables.filter(t=>t.label.toLowerCase().indexOf(e)>-1))}setSeparator(e){for(let t=0;t<e.length;t++)e[t].description&&(e[t].separator=", ")}selectedProperties(e){this.selectedPropertiesList=e.value}datatypeValidator(e){if(e.value&&e.value.length>1){let t=e.value[0][3];if(!e.value.every(o=>o[3]===t))return{differentDatatype:!0}}return null}notFound(e){return e=="https://database.factgrid.de//w/api.php?action=wbgetentities&ids=&format=json&origin=*"&&(e="https://database.factgrid.de//w/api.php?action=wbgetentities&ids=Q220375&format=json&origin=*"),e}createList(e){let t="https://database.factgrid.de//w/api.php?action=wbgetentities&ids=",a="&format=json&origin=*",o="",r="",b=e.search;b===void 0?b=[]:b=b;for(let y=0;y<b.length;y++)o=o+"|"+b[y].id;return o=o.slice(1),r=t+o+a,r}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=N({type:n,selectors:[["app-statement-search"]],viewQuery:function(t,a){if(t&1&&(P(Wi,5),P(Di,7),P(ji,7)),t&2){let o;A(o=O())&&(a.matRef=o.first),A(o=O())&&(a.singleSelect=o.first),A(o=O())&&(a.multiSelect=o.first)}},inputs:{literalVariables:"literalVariables",qualifierLiteralVariables:"qualifierLiteralVariables"},outputs:{datatype:"datatype",selectedItemType:"selectedItemType",selectionChange:"selectionChange",propertySelectionChange:"propertySelectionChange"},decls:18,vars:5,consts:[["singleSelect",""],["appearance","outlined",1,"mat-elevation-z12"],[1,"listStyle"],["id","statements",1,"whiteBackGround"],[1,"search-center"],[3,"formGroup"],[1,"formPadding"],["formArrayName","statements"],[1,"statementStyle"],[1,"search-center3","cardGreyBackground",3,"formGroupName"],["formControlName","optional"],["appearance","fill"],["placeholder","subject?","formControlName","itemType","required","",3,"selectionChange"],["placeholderLabel","Search",3,"formControl","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","properties?","formControlName","properties","required","",3,"selectionChange","multiple"],["placeholderLabel","Search","noEntriesFoundLabel","Not found",3,"formControl"],[1,"validatorWarning"],["formGroupName","value",1,"search-center3"],[3,"value"],["placeholder","value?","formControlName","itemValue","required","",3,"selectionChange"],["formControlName","literalValue","required","",3,"selectionChange","placeholder"],["matInput","","formControlName","literalString",3,"placeholder"],["formArrayName","qualifiers"],["placeholder","property?","formControlName","qualifierProperty","required","",3,"selectionChange"],["placeholder","value?","formControlName","qualifierValue","required","",3,"selectionChange"],["placeholder","literal value?","formControlName","qualifierLiteralValue","required","",3,"selectionChange"],["matInput","","value","string?","formControlName","qualifierLiteralString"],["type","button",3,"click"]],template:function(t,a){t&1&&(d(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div"),p(4,"Query:"),s(),f(5,na,2,0),s()(),d(6,"mat-card-content",3)(7,"p",4),p(8,"Statement:"),s(),d(9,"form",5)(10,"div",6)(11,"div",7),H(12,Ia,29,19,null,null,le),s()()(),d(14,"div")(15,"p",4),p(16),$(17,"json"),s()()()()),t&2&&(c(5),_(a.query.value.statements?5:-1),c(4),u("formGroup",a.query),c(3),Y(a.statements.controls),c(4),Q(" ",B(17,3,a.query.value)))},dependencies:[ce,De,re,St,X,Tt,Re,se,It,At,de,Vt,Lt,Mt,Ft,me,Ne,Ut,ue,be,Ue,ze,pe,Z,he,ye,we,_e,Jt,Qe,fe,Ht],styles:[".validatorWarning[_ngcontent-%COMP%]{color:#ad1457;font-style:italic}mat-button-toggle-group[_ngcontent-%COMP%]{margin-left:12px}.search-center2[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center}.search-center3[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}#itemType[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:30vw}@media (max-width: 959.98px){#itemType[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:80vw}}#statements[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{width:60vw}#statements[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:30vw}@media (max-width: 959.98px){#statements[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:90vw}}.search-form[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;flex-direction:column}.ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:50px}.arrow-icon[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0!important;justify-content:center}.icon-size[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px}.small-icon-button[_ngcontent-%COMP%]{width:24px!important;height:24px!important;padding:0!important;display:inline-flex!important;align-items:center;justify-content:center}.small-icon-button[_ngcontent-%COMP%] > *[role=img][_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px}.small-icon-button[_ngcontent-%COMP%] > *[role=img][_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.small-icon-button[_ngcontent-%COMP%]   .mat-mdc-button-touch-target[_ngcontent-%COMP%]{width:24px!important;height:24px!important}.search-center3[_ngcontent-%COMP%]{display:flex;justify-content:center}.list-search[_ngcontent-%COMP%]{display:flex;justify-content:left}.statement-search-form[_ngcontent-%COMP%]{margin-top:20px;gap:30px;display:flex;justify-content:center}.button-search-form[_ngcontent-%COMP%]{gap:30px;display:flex;justify-content:center}#projects[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:60vw}@media (max-width: 959.98px){#projects[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:90vw}}@media (max-width: 959.98px){.statement-search-form[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;flex-direction:column}}#sopi[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:60vw}@media (max-width: 959.98px){#sopi[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:90vw}}.button[_ngcontent-%COMP%]{text-align:start;background-color:transparent!important;border-color:transparent;font-size:12px}"]});let l=n;return l})();var si=(()=>{let n=class n{constructor(){this.data=h(ke)}mutator(e){console.log(e);let t=[];this.data.mutator$.subscribe(xe=>{t=xe});let a=this.transpose(t),o=e[1],r=e[3],b=e[2],y=a[b],L=this.circularPermutation(y);a[b]=L;let T=this.transpose(a);return console.log(T),T}transpose(e){return e[0].map((a,o)=>e.map(r=>r[o]))}circularPermutation(e){let t=[],a=e[0];for(let o=0;o<e.length-1;o++)t[o]=e[o+1];return t[5]=a,t}circularInversePermutation(e){let t=e[5];for(let a=0;a<e.length-1;a++)e[5-a]=e[5-(a+1)];return e[0]=t,e}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"});let l=n;return l})();var Ta=()=>[""],Va=()=>["/harmonia_universalis"],pn=(()=>{let n=class n{constructor(){this.lang=h(q),this.projectList=h(ii),this.propertyList=h(Ye),this.data=h(ke),this.mutator=h(si),this.title="factgrid",this.subtitle="a database for historians",this.basic_search="search",this.projects="research projects",this.fields="fields of reserach",this.isDisplay=!1,this.selections=[],this.statementSelection=[],this.formData=[{statement:0,types:{options:W,selections:[]},values:{options:W,selections:[]}}],this.literals=oi,this.projectsList=[],this.propertiesList=[],this.replay=new M(1),this.lonos=[W.map(e=>e.order)]}ngOnInit(){this.subtitle=this.lang.getTranslation("$1",this.lang.selectedLang),this.projects=this.lang.getTranslation("$1",this.lang.selectedLang),this.fields=this.lang.getTranslation("$1",this.lang.selectedLang),this.projectList.projectsListBuilding("Q11295").subscribe(e=>this.projectsList=e)}selectedItemType(e){console.log(e);let t=e[0],a=W.findIndex(r=>r.id===e[3]),o={label:e[1],id:e[3]};console.log(e[3]),this.propertyList.propertiesListBuilding(e[3]).subscribe(r=>{console.log(r)})}propertyDatatype(e){return this.literalVariables=this.literals.filter(t=>(t.type===e[1]||t.type==="Any")&&t.col===e[0]),this.literalVariables}qualifierPropertyDatatype(e){return this.qualifierLiteralVariables=this.literals.filter(t=>(t.type===e[2]||t.type==="Any")&&t.col===e[0]),this.qualifierLiteralVariables}selectedProjects(e){console.log(e.value)}selectedValue(e){console.log(e),this.data.itemTypes1$.subscribe(L=>console.log(L));let t=e[0],a={variable:[e[0],this.updateValue(this.statementSelection[0].variable[2],e[2]),1],label:e[1],id:e[3]};this.statementSelection[1]?this.statementSelection.splice(1,1,a):this.statementSelection.push(a),this.selections.push(this.statementSelection);let o,r={label:e[1],col:e[2],id:e[3]},b=D(r);b.subscribe(L=>console.log(L)),Ve([b,this.data.itemTypes1$]).subscribe(([L,T])=>{T.push(L),o=T}),this.data.updateItemTypes2(o);let y=this.mutator.mutator(e);this.data.updateMutatorForNextStatement(y)}selectedQualifierValue(e){let t=e[0],a=[e[1],e[2],e[3],""],o=this.mutator.mutator(a);console.log(o);let r={label:e[1],id:e[2],col:e[3]},b;this.data.itemTypes$.subscribe(y=>{b=y,t===0&&(b=[r])}),this.data.updateItemTypes(b),this.data.updateMutator(o),this.data.mutator$.subscribe(y=>console.log(y))}updateValue(e,t){let a;return(e=t)?a=t+1:a=t,a}findIndexById(e,t){return e.findIndex(a=>a.id===t)}incrementElement(e,t){if(e.length!==t.length)throw new Error("Les listes a et b doivent avoir la m\xEAme longueur");let a=[...t];for(let o=0;o<e.length;o++)if(e[o]===1){a[o]=t[o]+1;break}return a}ngOnDestroy(){}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=N({type:n,selectors:[["app-advanced-search"]],decls:26,vars:8,consts:[["href",ft`https://fonts.googleapis.com/icon?family=Material+Icons`,"rel","stylesheet"],[1,"cardBackground"],[1,"FactGridTitle"],[1,"subTitle"],["appearance","outlined",1,"mat-elevation-z12"],[1,"search-container"],[1,"search-center"],[3,"routerLink"],["href","https://database.factgrid.de/query/#%23model%0A%0ASELECT%20%3Fitem%20%3Fviewer%20%3FitemLabel%20%20WHERE%20%7B%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22%5BAUTO_LANGUAGE%5D%2Cen%22.%20%7D%0A%20%20%3Fitem%20wdt%3AP2%20wd%3AQ7%3B%0A%20%20%20%20%20%20%20%20wdt%3AP247%20wd%3AQ24708.%0A%20%20BIND%28STRAFTER%28STR%28%3Fitem%29%2C%20STR%28wd%3A%29%29%20AS%20%3FitemId%29%0A%20%20BIND%28IRI%28CONCAT%28%22https%3A%2F%2Fdatabase.factgrid.de%2Fviewer%2Fitem%2F%22%2C%20%3FitemId%29%29%20AS%20%3Fviewer%29%0A%7D%0A"],["color","primary"],[3,"selectionChange","data"],[1,"child-container",3,"propertyDatatype","selectedQualifierValue","qualifierPropertyDatatype","selectedValue","selectedItemType","qualifierLiteralVariables","literalVariables"]],template:function(t,a){t&1&&(d(0,"head"),S(1,"link",0),s(),d(2,"body")(3,"div",1)(4,"div",2),p(5,"FactGrid"),s(),d(6,"div",3),p(7),s()(),d(8,"mat-card",4)(9,"mat-card-content",5)(10,"div",6)(11,"a",7),p(12,"FactGrid"),s(),d(13,"span"),p(14,"\xA0\xA0|\xA0\xA0"),s(),d(15,"a",8),p(16," sparql query "),s(),d(17,"span"),p(18,"\xA0\xA0|\xA0\xA0"),s(),d(19,"a",7),p(20,"Harmonia Universalis"),s()(),d(21,"div",6)(22,"mat-icon",9),p(23,"build"),s()(),d(24,"app-project-select",10),x("selectionChange",function(r){return a.selectedProjects(r)}),s(),d(25,"app-statement-search",11),x("propertyDatatype",function(r){return a.propertyDatatype(r)})("selectedQualifierValue",function(r){return a.selectedQualifierValue(r)})("qualifierPropertyDatatype",function(r){return a.qualifierPropertyDatatype(r)})("selectedValue",function(r){return a.selectedValue(r)})("selectedItemType",function(r){return a.selectedItemType(r)}),s()()()()),t&2&&(c(7),Ee(a.subtitle),c(4),u("routerLink",lt(6,Ta)),c(8),u("routerLink",lt(7,Va)),c(5),u("data",a.projectsList),c(),u("qualifierLiteralVariables",a.qualifierLiteralVariables)("literalVariables",a.literalVariables))},dependencies:[ce,Et,Ot,X,me,Ne,he,Nt,pe,Be,Z,be,Ue,ze,He,ye,ai,ci],styles:[".child-container[_ngcontent-%COMP%]{width:70vw;justify-content:center;align-items:center;display:flex}.search-align[_ngcontent-%COMP%]{display:flex;flex-direction:row}.search-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.search-label[_ngcontent-%COMP%]{font-weight:700}.FactGrid-div[_ngcontent-%COMP%]{height:150px;display:flex;align-items:center;justify-content:center}.FactGridTitle-div[_ngcontent-%COMP%]{padding-left:10px;color:#ad1457;font-weight:600;font-size:60px}.search-itemSelected[_ngcontent-%COMP%]{margin-top:50px}#projects[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:60vw}@media (max-width: 959.98px){#projects[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:90vw}}.selectedItemSize[_ngcontent-%COMP%]{font-size:14px}.button[_ngcontent-%COMP%]{background-color:transparent!important;border-color:transparent;font-size:16px}a.button[_ngcontent-%COMP%]:hover{background:#383}"]});let l=n;return l})();export{pn as AdvancedSearchComponent};
