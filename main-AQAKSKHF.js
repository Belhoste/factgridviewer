import{d as mh}from"./chunk-KUM766V4.js";import{b as Za,c as rh,d as sh,e as wo,g as dh,h as lc,i as Jt,j as Wi,k as cc}from"./chunk-TZXLWES2.js";import"./chunk-F5X5MWHG.js";import{a as hh}from"./chunk-6BINZPLW.js";import{d as nh,g as ah,l as ko}from"./chunk-67R426PS.js";import{a as Jd,b as ic,c as nc,d as eh,e as Ya,f as ac,g as rc,h as sc,k as _o,l as ih,m as ja,o as uh}from"./chunk-7NIVWA2P.js";import{l as oh}from"./chunk-DPCG3YZX.js";import{$ as Ql,$a as Vr,$b as lo,A as Ra,Aa as $s,Ac as Kn,Ad as Ga,B as yd,Ba as Yi,Bc as ho,Bd as lh,Ca as Hi,Cb as to,Cd as ch,D as Zn,Da as q,Db as Ld,E as ue,Ea as I,Eb as io,Ec as qd,Ed as xo,Fa as N,G as Ze,Ga as _e,H as vt,Hb as no,Hc as $d,I as mi,J as Vi,Jb as ao,Jc as Kd,K as P,Ka as ot,Kc as Br,L as vd,Lb as ro,Lc as mo,Ma as we,N as ve,Na as X,Nc as Qd,O as be,Oa as pi,P as ln,Pa as Qt,Pb as so,Q as Gs,Qa as fi,R as Bi,Ra as Xt,Rc as Va,S as jn,Sa as Ke,Sb as $n,Ta as Qe,Tc as Yt,Ua as zr,Ub as oo,Uc as uo,V as bd,Va as Ks,Vc as Ba,W as wd,Wa as je,Wc as po,X as Fa,Xa as Gn,Ya as $,Z as ui,Za as Xe,_ as xd,_a as lt,a as Hn,ac as za,ad as Yr,b as ud,ba as kd,bb as Qs,bc as Id,bd as Xd,c as pd,cb as Xs,cc as Od,d as fd,da as Sd,db as Js,dc as Rd,e as _d,ea as A,eb as eo,f as ql,fa as Xl,fb as Td,fc as Fd,g as Fi,ga as Md,gb as Ad,ha as Nr,hc as Nd,i as Ni,ic as zd,j as zi,ja as Dd,jc as Vd,jd as fo,ka as Jl,kb as Na,l as $e,la as Cd,lb as Ed,lc as Bd,ld as go,mb as ec,mc as Yd,md as Qn,na as Oe,nc as Hd,nd as oc,o as et,oa as bt,oc as Wd,od as dn,p as Fr,pa as cn,pc as _i,pd as yo,qb as Vt,qc as Zd,qd as th,r as Oa,rb as Bt,rc as jd,sa as wt,sc as Ud,t as Wn,ta as De,td as vo,u as $l,ua as Un,ub as Pd,uc as co,ud as Ha,v as gd,va as qs,w as Kl,wb as ut,xa as tt,xd as bo,ya as it,yb as qn,yc as tc,yd as Wa,z as Et,za as nt,zc as Gd,zd as Ua}from"./chunk-67T52SWN.js";var Ah=_d((Po,Th)=>{(function(c,r){typeof Po=="object"&&typeof Th<"u"?r(Po):typeof define=="function"&&define.amd?define(["exports"],r):(c=typeof globalThis<"u"?globalThis:c||self,r(c.leaflet={}))})(Po,function(c){"use strict";var r="1.9.4";function t(e){var i,s,d,u;for(s=1,d=arguments.length;s<d;s++){u=arguments[s];for(i in u)e[i]=u[i]}return e}var a=Object.create||function(){function e(){}return function(i){return e.prototype=i,new e}}();function o(e,i){var s=Array.prototype.slice;if(e.bind)return e.bind.apply(e,s.call(arguments,1));var d=s.call(arguments,2);return function(){return e.apply(i,d.length?d.concat(s.call(arguments)):arguments)}}var h=0;function f(e){return"_leaflet_id"in e||(e._leaflet_id=++h),e._leaflet_id}function y(e,i,s){var d,u,_,v;return v=function(){d=!1,u&&(_.apply(s,u),u=!1)},_=function(){d?u=arguments:(e.apply(s,arguments),setTimeout(v,i),d=!0)},_}function w(e,i,s){var d=i[1],u=i[0],_=d-u;return e===d&&s?e:((e-u)%_+_)%_+u}function x(){return!1}function O(e,i){if(i===!1)return e;var s=Math.pow(10,i===void 0?6:i);return Math.round(e*s)/s}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function B(e){return z(e).split(/\s+/)}function V(e,i){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?a(e.options):{});for(var s in i)e.options[s]=i[s];return e.options}function E(e,i,s){var d=[];for(var u in e)d.push(encodeURIComponent(s?u.toUpperCase():u)+"="+encodeURIComponent(e[u]));return(!i||i.indexOf("?")===-1?"?":"&")+d.join("&")}var K=/\{ *([\w_ -]+) *\}/g;function fe(e,i){return e.replace(K,function(s,d){var u=i[d];if(u===void 0)throw new Error("No value provided for variable "+s);return typeof u=="function"&&(u=u(i)),u})}var oe=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function Te(e,i){for(var s=0;s<e.length;s++)if(e[s]===i)return s;return-1}var Ie="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ae(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var pt=0;function Ee(e){var i=+new Date,s=Math.max(0,16-(i-pt));return pt=i+s,window.setTimeout(e,s)}var Ne=window.requestAnimationFrame||Ae("RequestAnimationFrame")||Ee,ge=window.cancelAnimationFrame||Ae("CancelAnimationFrame")||Ae("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function Pe(e,i,s){if(s&&Ne===Ee)e.call(i);else return Ne.call(window,o(e,i))}function ze(e){e&&ge.call(window,e)}var ft={__proto__:null,extend:t,create:a,bind:o,get lastId(){return h},stamp:f,throttle:y,wrapNum:w,falseFn:x,formatNum:O,trim:z,splitWords:B,setOptions:V,getParamString:E,template:fe,isArray:oe,indexOf:Te,emptyImageUrl:Ie,requestFn:Ne,cancelFn:ge,requestAnimFrame:Pe,cancelAnimFrame:ze};function Ue(){}Ue.extend=function(e){var i=function(){V(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},s=i.__super__=this.prototype,d=a(s);d.constructor=i,i.prototype=d;for(var u in this)Object.prototype.hasOwnProperty.call(this,u)&&u!=="prototype"&&u!=="__super__"&&(i[u]=this[u]);return e.statics&&t(i,e.statics),e.includes&&(vi(e.includes),t.apply(null,[d].concat(e.includes))),t(d,e),delete d.statics,delete d.includes,d.options&&(d.options=s.options?a(s.options):{},t(d.options,e.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,v=d._initHooks.length;_<v;_++)d._initHooks[_].call(this)}},i},Ue.include=function(e){var i=this.prototype.options;return t(this.prototype,e),e.options&&(this.prototype.options=i,this.mergeOptions(e.options)),this},Ue.mergeOptions=function(e){return t(this.prototype.options,e),this},Ue.addInitHook=function(e){var i=Array.prototype.slice.call(arguments,1),s=typeof e=="function"?e:function(){this[e].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(s),this};function vi(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=oe(e)?e:[e];for(var i=0;i<e.length;i++)e[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var He={on:function(e,i,s){if(typeof e=="object")for(var d in e)this._on(d,e[d],i);else{e=B(e);for(var u=0,_=e.length;u<_;u++)this._on(e[u],i,s)}return this},off:function(e,i,s){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var d in e)this._off(d,e[d],i);else{e=B(e);for(var u=arguments.length===1,_=0,v=e.length;_<v;_++)u?this._off(e[_]):this._off(e[_],i,s)}return this},_on:function(e,i,s,d){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(e,i,s)===!1){s===this&&(s=void 0);var u={fn:i,ctx:s};d&&(u.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(u)}},_off:function(e,i,s){var d,u,_;if(this._events&&(d=this._events[e],!!d)){if(arguments.length===1){if(this._firingCount)for(u=0,_=d.length;u<_;u++)d[u].fn=x;delete this._events[e];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var v=this._listens(e,i,s);if(v!==!1){var k=d[v];this._firingCount&&(k.fn=x,this._events[e]=d=d.slice()),d.splice(v,1)}}},fire:function(e,i,s){if(!this.listens(e,s))return this;var d=t({},i,{type:e,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var u=this._events[e];if(u){this._firingCount=this._firingCount+1||1;for(var _=0,v=u.length;_<v;_++){var k=u[_],S=k.fn;k.once&&this.off(e,S,k.ctx),S.call(k.ctx||this,d)}this._firingCount--}}return s&&this._propagateEvent(d),this},listens:function(e,i,s,d){typeof e!="string"&&console.warn('"string" type argument expected');var u=i;typeof i!="function"&&(d=!!i,u=void 0,s=void 0);var _=this._events&&this._events[e];if(_&&_.length&&this._listens(e,u,s)!==!1)return!0;if(d){for(var v in this._eventParents)if(this._eventParents[v].listens(e,i,s,d))return!0}return!1},_listens:function(e,i,s){if(!this._events)return!1;var d=this._events[e]||[];if(!i)return!!d.length;s===this&&(s=void 0);for(var u=0,_=d.length;u<_;u++)if(d[u].fn===i&&d[u].ctx===s)return u;return!1},once:function(e,i,s){if(typeof e=="object")for(var d in e)this._on(d,e[d],i,!0);else{e=B(e);for(var u=0,_=e.length;u<_;u++)this._on(e[u],i,s,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[f(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[f(e)],this},_propagateEvent:function(e){for(var i in this._eventParents)this._eventParents[i].fire(e.type,t({layer:e.target,propagatedFrom:e.target},e),!0)}};He.addEventListener=He.on,He.removeEventListener=He.clearAllEventListeners=He.off,He.addOneTimeEventListener=He.once,He.fireEvent=He.fire,He.hasEventListeners=He.listens;var Zt=Ue.extend(He);function D(e,i,s){this.x=s?Math.round(e):e,this.y=s?Math.round(i):i}var G=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};D.prototype={clone:function(){return new D(this.x,this.y)},add:function(e){return this.clone()._add(T(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(T(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new D(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new D(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(e){e=T(e);var i=e.x-this.x,s=e.y-this.y;return Math.sqrt(i*i+s*s)},equals:function(e){return e=T(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=T(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+O(this.x)+", "+O(this.y)+")"}};function T(e,i,s){return e instanceof D?e:oe(e)?new D(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new D(e.x,e.y):new D(e,i,s)}function Z(e,i){if(e)for(var s=i?[e,i]:e,d=0,u=s.length;d<u;d++)this.extend(s[d])}Z.prototype={extend:function(e){var i,s;if(!e)return this;if(e instanceof D||typeof e[0]=="number"||"x"in e)i=s=T(e);else if(e=re(e),i=e.min,s=e.max,!i||!s)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=s.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(s.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(s.y,this.max.y)),this},getCenter:function(e){return T((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return T(this.min.x,this.max.y)},getTopRight:function(){return T(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var i,s;return typeof e[0]=="number"||e instanceof D?e=T(e):e=re(e),e instanceof Z?(i=e.min,s=e.max):i=s=e,i.x>=this.min.x&&s.x<=this.max.x&&i.y>=this.min.y&&s.y<=this.max.y},intersects:function(e){e=re(e);var i=this.min,s=this.max,d=e.min,u=e.max,_=u.x>=i.x&&d.x<=s.x,v=u.y>=i.y&&d.y<=s.y;return _&&v},overlaps:function(e){e=re(e);var i=this.min,s=this.max,d=e.min,u=e.max,_=u.x>i.x&&d.x<s.x,v=u.y>i.y&&d.y<s.y;return _&&v},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var i=this.min,s=this.max,d=Math.abs(i.x-s.x)*e,u=Math.abs(i.y-s.y)*e;return re(T(i.x-d,i.y-u),T(s.x+d,s.y+u))},equals:function(e){return e?(e=re(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function re(e,i){return!e||e instanceof Z?e:new Z(e,i)}function xe(e,i){if(e)for(var s=i?[e,i]:e,d=0,u=s.length;d<u;d++)this.extend(s[d])}xe.prototype={extend:function(e){var i=this._southWest,s=this._northEast,d,u;if(e instanceof R)d=e,u=e;else if(e instanceof xe){if(d=e._southWest,u=e._northEast,!d||!u)return this}else return e?this.extend(U(e)||ne(e)):this;return!i&&!s?(this._southWest=new R(d.lat,d.lng),this._northEast=new R(u.lat,u.lng)):(i.lat=Math.min(d.lat,i.lat),i.lng=Math.min(d.lng,i.lng),s.lat=Math.max(u.lat,s.lat),s.lng=Math.max(u.lng,s.lng)),this},pad:function(e){var i=this._southWest,s=this._northEast,d=Math.abs(i.lat-s.lat)*e,u=Math.abs(i.lng-s.lng)*e;return new xe(new R(i.lat-d,i.lng-u),new R(s.lat+d,s.lng+u))},getCenter:function(){return new R((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new R(this.getNorth(),this.getWest())},getSouthEast:function(){return new R(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof R||"lat"in e?e=U(e):e=ne(e);var i=this._southWest,s=this._northEast,d,u;return e instanceof xe?(d=e.getSouthWest(),u=e.getNorthEast()):d=u=e,d.lat>=i.lat&&u.lat<=s.lat&&d.lng>=i.lng&&u.lng<=s.lng},intersects:function(e){e=ne(e);var i=this._southWest,s=this._northEast,d=e.getSouthWest(),u=e.getNorthEast(),_=u.lat>=i.lat&&d.lat<=s.lat,v=u.lng>=i.lng&&d.lng<=s.lng;return _&&v},overlaps:function(e){e=ne(e);var i=this._southWest,s=this._northEast,d=e.getSouthWest(),u=e.getNorthEast(),_=u.lat>i.lat&&d.lat<s.lat,v=u.lng>i.lng&&d.lng<s.lng;return _&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,i){return e?(e=ne(e),this._southWest.equals(e.getSouthWest(),i)&&this._northEast.equals(e.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ne(e,i){return e instanceof xe?e:new xe(e,i)}function R(e,i,s){if(isNaN(e)||isNaN(i))throw new Error("Invalid LatLng object: ("+e+", "+i+")");this.lat=+e,this.lng=+i,s!==void 0&&(this.alt=+s)}R.prototype={equals:function(e,i){if(!e)return!1;e=U(e);var s=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return s<=(i===void 0?1e-9:i)},toString:function(e){return"LatLng("+O(this.lat,e)+", "+O(this.lng,e)+")"},distanceTo:function(e){return _t.distance(this,U(e))},wrap:function(){return _t.wrapLatLng(this)},toBounds:function(e){var i=180*e/40075017,s=i/Math.cos(Math.PI/180*this.lat);return ne([this.lat-i,this.lng-s],[this.lat+i,this.lng+s])},clone:function(){return new R(this.lat,this.lng,this.alt)}};function U(e,i,s){return e instanceof R?e:oe(e)&&typeof e[0]!="object"?e.length===3?new R(e[0],e[1],e[2]):e.length===2?new R(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new R(e.lat,"lng"in e?e.lng:e.lon,e.alt):i===void 0?null:new R(e,i,s)}var xt={latLngToPoint:function(e,i){var s=this.projection.project(e),d=this.scale(i);return this.transformation._transform(s,d)},pointToLatLng:function(e,i){var s=this.scale(i),d=this.transformation.untransform(e,s);return this.projection.unproject(d)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var i=this.projection.bounds,s=this.scale(e),d=this.transformation.transform(i.min,s),u=this.transformation.transform(i.max,s);return new Z(d,u)},infinite:!1,wrapLatLng:function(e){var i=this.wrapLng?w(e.lng,this.wrapLng,!0):e.lng,s=this.wrapLat?w(e.lat,this.wrapLat,!0):e.lat,d=e.alt;return new R(s,i,d)},wrapLatLngBounds:function(e){var i=e.getCenter(),s=this.wrapLatLng(i),d=i.lat-s.lat,u=i.lng-s.lng;if(d===0&&u===0)return e;var _=e.getSouthWest(),v=e.getNorthEast(),k=new R(_.lat-d,_.lng-u),S=new R(v.lat-d,v.lng-u);return new xe(k,S)}},_t=t({},xt,{wrapLng:[-180,180],R:6371e3,distance:function(e,i){var s=Math.PI/180,d=e.lat*s,u=i.lat*s,_=Math.sin((i.lat-e.lat)*s/2),v=Math.sin((i.lng-e.lng)*s/2),k=_*_+Math.cos(d)*Math.cos(u)*v*v,S=2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k));return this.R*S}}),Ve=6378137,It={R:Ve,MAX_LATITUDE:85.0511287798,project:function(e){var i=Math.PI/180,s=this.MAX_LATITUDE,d=Math.max(Math.min(s,e.lat),-s),u=Math.sin(d*i);return new D(this.R*e.lng*i,this.R*Math.log((1+u)/(1-u))/2)},unproject:function(e){var i=180/Math.PI;return new R((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*i,e.x*i/this.R)},bounds:function(){var e=Ve*Math.PI;return new Z([-e,-e],[e,e])}()};function Je(e,i,s,d){if(oe(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=i,this._c=s,this._d=d}Je.prototype={transform:function(e,i){return this._transform(e.clone(),i)},_transform:function(e,i){return i=i||1,e.x=i*(this._a*e.x+this._b),e.y=i*(this._c*e.y+this._d),e},untransform:function(e,i){return i=i||1,new D((e.x/i-this._b)/this._a,(e.y/i-this._d)/this._c)}};function jt(e,i,s,d){return new Je(e,i,s,d)}var bi=t({},_t,{code:"EPSG:3857",projection:It,transformation:function(){var e=.5/(Math.PI*It.R);return jt(e,.5,-e,.5)}()}),el=t({},bi,{code:"EPSG:900913"});function ts(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function is(e,i){var s="",d,u,_,v,k,S;for(d=0,_=e.length;d<_;d++){for(k=e[d],u=0,v=k.length;u<v;u++)S=k[u],s+=(u?"L":"M")+S.x+" "+S.y;s+=i?j.svg?"z":"x":""}return s||"M0 0"}var rr=document.documentElement.style,ra="ActiveXObject"in window,tl=ra&&!document.addEventListener,sr="msLaunchUri"in navigator&&!("documentMode"in document),dt=Ut("webkit"),sa=Ut("android"),ns=Ut("android 2")||Ut("android 3"),il=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),as=sa&&Ut("Google")&&il<537&&!("AudioNode"in window),at=!!window.opera,or=!sr&&Ut("chrome"),oa=Ut("gecko")&&!dt&&!at&&!ra,la=!or&&Ut("safari"),ke=Ut("phantom"),lr="OTransition"in rr,rs=navigator.platform.indexOf("Win")===0,_n=ra&&"transition"in rr,gn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ns,yn="MozPerspective"in rr,ji=!window.L_DISABLE_3D&&(_n||gn||yn)&&!lr&&!ke,oi=typeof orientation<"u"||Ut("mobile"),nl=oi&&dt,ca=oi&&gn,ss=!window.PointerEvent&&window.MSPointerEvent,Ui=!!(window.PointerEvent||ss),wi="ontouchstart"in window||!!window.TouchEvent,cr=!window.L_NO_TOUCH&&(wi||Ui),da=oi&&at,H=oi&&oa,al=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,rl=function(){var e=!1;try{var i=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",x,i),window.removeEventListener("testPassiveEventSupport",x,i)}catch{}return e}(),ni=function(){return!!document.createElement("canvas").getContext}(),ht=!!(document.createElementNS&&ts("svg").createSVGRect),se=!!ht&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),dr=!ht&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var i=e.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),ye=navigator.platform.indexOf("Mac")===0,vn=navigator.platform.indexOf("Linux")===0;function Ut(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var j={ie:ra,ielt9:tl,edge:sr,webkit:dt,android:sa,android23:ns,androidStock:as,opera:at,chrome:or,gecko:oa,safari:la,phantom:ke,opera12:lr,win:rs,ie3d:_n,webkit3d:gn,gecko3d:yn,any3d:ji,mobile:oi,mobileWebkit:nl,mobileWebkit3d:ca,msPointer:ss,pointer:Ui,touch:cr,touchNative:wi,mobileOpera:da,mobileGecko:H,retina:al,passiveEvents:rl,canvas:ni,svg:ht,vml:dr,inlineSvg:se,mac:ye,linux:vn},Ge=j.msPointer?"MSPointerDown":"pointerdown",Gt=j.msPointer?"MSPointerMove":"pointermove",Ot=j.msPointer?"MSPointerUp":"pointerup",Be=j.msPointer?"MSPointerCancel":"pointercancel",gt={touchstart:Ge,touchmove:Gt,touchend:Ot,touchcancel:Be},qt={touchstart:ll,touchmove:xn,touchend:xn,touchcancel:xn},kt={},os=!1;function sl(e,i,s){return i==="touchstart"&&wn(),qt[i]?(s=qt[i].bind(this,s),e.addEventListener(gt[i],s,!1),s):(console.warn("wrong event specified:",i),x)}function bn(e,i,s){if(!gt[i]){console.warn("wrong event specified:",i);return}e.removeEventListener(gt[i],s,!1)}function ls(e){kt[e.pointerId]=e}function ol(e){kt[e.pointerId]&&(kt[e.pointerId]=e)}function xi(e){delete kt[e.pointerId]}function wn(){os||(document.addEventListener(Ge,ls,!0),document.addEventListener(Gt,ol,!0),document.addEventListener(Ot,xi,!0),document.addEventListener(Be,xi,!0),os=!0)}function xn(e,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var s in kt)i.touches.push(kt[s]);i.changedTouches=[i],e(i)}}function ll(e,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&qe(i),xn(e,i)}function cl(e){var i={},s,d;for(d in e)s=e[d],i[d]=s&&s.bind?s.bind(e):s;return e=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var dl=200;function Re(e,i){e.addEventListener("dblclick",i);var s=0,d;function u(_){if(_.detail!==1){d=_.detail;return}if(!(_.pointerType==="mouse"||_.sourceCapabilities&&!_.sourceCapabilities.firesTouchEvents)){var v=hs(_);if(!(v.some(function(S){return S instanceof HTMLLabelElement&&S.attributes.for})&&!v.some(function(S){return S instanceof HTMLInputElement||S instanceof HTMLSelectElement}))){var k=Date.now();k-s<=dl?(d++,d===2&&i(cl(_))):d=1,s=k}}}return e.addEventListener("click",u),{dblclick:i,simDblclick:u}}function hr(e,i){e.removeEventListener("dblclick",i.dblclick),e.removeEventListener("click",i.simDblclick)}var mr=Si(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Gi=Si(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ur=Gi==="webkitTransition"||Gi==="OTransition"?Gi+"End":"transitionend";function cs(e){return typeof e=="string"?document.getElementById(e):e}function kn(e,i){var s=e.style[i]||e.currentStyle&&e.currentStyle[i];if((!s||s==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(e,null);s=d?d[i]:null}return s==="auto"?null:s}function he(e,i,s){var d=document.createElement(e);return d.className=i||"",s&&s.appendChild(d),d}function Le(e){var i=e.parentNode;i&&i.removeChild(e)}function ha(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function qi(e){var i=e.parentNode;i&&i.lastChild!==e&&i.appendChild(e)}function ki(e){var i=e.parentNode;i&&i.firstChild!==e&&i.insertBefore(e,i.firstChild)}function ma(e,i){if(e.classList!==void 0)return e.classList.contains(i);var s=Sn(e);return s.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(s)}function ie(e,i){if(e.classList!==void 0)for(var s=B(i),d=0,u=s.length;d<u;d++)e.classList.add(s[d]);else if(!ma(e,i)){var _=Sn(e);pr(e,(_?_+" ":"")+i)}}function Fe(e,i){e.classList!==void 0?e.classList.remove(i):pr(e,z((" "+Sn(e)+" ").replace(" "+i+" "," ")))}function pr(e,i){e.className.baseVal===void 0?e.className=i:e.className.baseVal=i}function Sn(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function St(e,i){"opacity"in e.style?e.style.opacity=i:"filter"in e.style&&Mn(e,i)}function Mn(e,i){var s=!1,d="DXImageTransform.Microsoft.Alpha";try{s=e.filters.item(d)}catch{if(i===1)return}i=Math.round(i*100),s?(s.Enabled=i!==100,s.Opacity=i):e.style.filter+=" progid:"+d+"(opacity="+i+")"}function Si(e){for(var i=document.documentElement.style,s=0;s<e.length;s++)if(e[s]in i)return e[s];return!1}function li(e,i,s){var d=i||new D(0,0);e.style[mr]=(j.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(s?" scale("+s+")":"")}function Ce(e,i){e._leaflet_pos=i,j.any3d?li(e,i):(e.style.left=i.x+"px",e.style.top=i.y+"px")}function rt(e){return e._leaflet_pos||new D(0,0)}var Dn,Cn,fr;if("onselectstart"in document)Dn=function(){te(window,"selectstart",qe)},Cn=function(){Se(window,"selectstart",qe)};else{var Tn=Si(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Dn=function(){if(Tn){var e=document.documentElement.style;fr=e[Tn],e[Tn]="none"}},Cn=function(){Tn&&(document.documentElement.style[Tn]=fr,fr=void 0)}}function _r(){te(window,"dragstart",qe)}function gr(){Se(window,"dragstart",qe)}var ua,yr;function An(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(pa(),ua=e,yr=e.style.outlineStyle,e.style.outlineStyle="none",te(window,"keydown",pa))}function pa(){ua&&(ua.style.outlineStyle=yr,ua=void 0,yr=void 0,Se(window,"keydown",pa))}function vr(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function br(e){var i=e.getBoundingClientRect();return{x:i.width/e.offsetWidth||1,y:i.height/e.offsetHeight||1,boundingClientRect:i}}var hl={__proto__:null,TRANSFORM:mr,TRANSITION:Gi,TRANSITION_END:ur,get:cs,getStyle:kn,create:he,remove:Le,empty:ha,toFront:qi,toBack:ki,hasClass:ma,addClass:ie,removeClass:Fe,setClass:pr,getClass:Sn,setOpacity:St,testProp:Si,setTransform:li,setPosition:Ce,getPosition:rt,get disableTextSelection(){return Dn},get enableTextSelection(){return Cn},disableImageDrag:_r,enableImageDrag:gr,preventOutline:An,restoreOutline:pa,getSizedParentNode:vr,getScale:br};function te(e,i,s,d){if(i&&typeof i=="object")for(var u in i)xr(e,u,i[u],s);else{i=B(i);for(var _=0,v=i.length;_<v;_++)xr(e,i[_],s,d)}return this}var $t="_leaflet_events";function Se(e,i,s,d){if(arguments.length===1)ds(e),delete e[$t];else if(i&&typeof i=="object")for(var u in i)kr(e,u,i[u],s);else if(i=B(i),arguments.length===2)ds(e,function(k){return Te(i,k)!==-1});else for(var _=0,v=i.length;_<v;_++)kr(e,i[_],s,d);return this}function ds(e,i){for(var s in e[$t]){var d=s.split(/\d/)[0];(!i||i(d))&&kr(e,d,null,null,s)}}var wr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function xr(e,i,s,d){var u=i+f(s)+(d?"_"+f(d):"");if(e[$t]&&e[$t][u])return this;var _=function(k){return s.call(d||e,k||window.event)},v=_;!j.touchNative&&j.pointer&&i.indexOf("touch")===0?_=sl(e,i,_):j.touch&&i==="dblclick"?_=Re(e,_):"addEventListener"in e?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?e.addEventListener(wr[i]||i,_,j.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(_=function(k){k=k||window.event,_a(e,k)&&v(k)},e.addEventListener(wr[i],_,!1)):e.addEventListener(i,v,!1):e.attachEvent("on"+i,_),e[$t]=e[$t]||{},e[$t][u]=_}function kr(e,i,s,d,u){u=u||i+f(s)+(d?"_"+f(d):"");var _=e[$t]&&e[$t][u];if(!_)return this;!j.touchNative&&j.pointer&&i.indexOf("touch")===0?bn(e,i,_):j.touch&&i==="dblclick"?hr(e,_):"removeEventListener"in e?e.removeEventListener(wr[i]||i,_,!1):e.detachEvent("on"+i,_),e[$t][u]=null}function Mi(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Sr(e){return xr(e,"wheel",Mi),this}function En(e){return te(e,"mousedown touchstart dblclick contextmenu",Mi),e._leaflet_disable_click=!0,this}function qe(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Di(e){return qe(e),Mi(e),this}function hs(e){if(e.composedPath)return e.composedPath();for(var i=[],s=e.target;s;)i.push(s),s=s.parentNode;return i}function fa(e,i){if(!i)return new D(e.clientX,e.clientY);var s=br(i),d=s.boundingClientRect;return new D((e.clientX-d.left)/s.x-i.clientLeft,(e.clientY-d.top)/s.y-i.clientTop)}var Mr=j.linux&&j.chrome?window.devicePixelRatio:j.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ms(e){return j.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Mr:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function _a(e,i){var s=i.relatedTarget;if(!s)return!0;try{for(;s&&s!==e;)s=s.parentNode}catch{return!1}return s!==e}var us={__proto__:null,on:te,off:Se,stopPropagation:Mi,disableScrollPropagation:Sr,disableClickPropagation:En,preventDefault:qe,stop:Di,getPropagationPath:hs,getMousePosition:fa,getWheelDelta:ms,isExternalTarget:_a,addListener:te,removeListener:Se},ps=Zt.extend({run:function(e,i,s,d){this.stop(),this._el=e,this._inProgress=!0,this._duration=s||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=rt(e),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Pe(this._animate,this),this._step()},_step:function(e){var i=+new Date-this._startTime,s=this._duration*1e3;i<s?this._runFrame(this._easeOut(i/s),e):(this._runFrame(1),this._complete())},_runFrame:function(e,i){var s=this._startPos.add(this._offset.multiplyBy(e));i&&s._round(),Ce(this._el,s),this.fire("step")},_complete:function(){ze(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),le=Zt.extend({options:{crs:bi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,i){i=V(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(U(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Gi&&j.any3d&&!j.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),te(this._proxy,ur,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,i,s){if(i=i===void 0?this._zoom:this._limitZoom(i),e=this._limitCenter(U(e),i,this.options.maxBounds),s=s||{},this._stop(),this._loaded&&!s.reset&&s!==!0){s.animate!==void 0&&(s.zoom=t({animate:s.animate},s.zoom),s.pan=t({animate:s.animate,duration:s.duration},s.pan));var d=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,i,s.zoom):this._tryAnimatedPan(e,s.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(e,i,s.pan&&s.pan.noMoveStart),this},setZoom:function(e,i){return this._loaded?this.setView(this.getCenter(),e,{zoom:i}):(this._zoom=e,this)},zoomIn:function(e,i){return e=e||(j.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,i)},zoomOut:function(e,i){return e=e||(j.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,i)},setZoomAround:function(e,i,s){var d=this.getZoomScale(i),u=this.getSize().divideBy(2),_=e instanceof D?e:this.latLngToContainerPoint(e),v=_.subtract(u).multiplyBy(1-1/d),k=this.containerPointToLatLng(u.add(v));return this.setView(k,i,{zoom:s})},_getBoundsCenterZoom:function(e,i){i=i||{},e=e.getBounds?e.getBounds():ne(e);var s=T(i.paddingTopLeft||i.padding||[0,0]),d=T(i.paddingBottomRight||i.padding||[0,0]),u=this.getBoundsZoom(e,!1,s.add(d));if(u=typeof i.maxZoom=="number"?Math.min(i.maxZoom,u):u,u===1/0)return{center:e.getCenter(),zoom:u};var _=d.subtract(s).divideBy(2),v=this.project(e.getSouthWest(),u),k=this.project(e.getNorthEast(),u),S=this.unproject(v.add(k).divideBy(2).add(_),u);return{center:S,zoom:u}},fitBounds:function(e,i){if(e=ne(e),!e.isValid())throw new Error("Bounds are not valid.");var s=this._getBoundsCenterZoom(e,i);return this.setView(s.center,s.zoom,i)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,i){return this.setView(e,this._zoom,{pan:i})},panBy:function(e,i){if(e=T(e).round(),i=i||{},!e.x&&!e.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ps,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){ie(this._mapPane,"leaflet-pan-anim");var s=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,s,i.duration||.25,i.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,i,s){if(s=s||{},s.animate===!1||!j.any3d)return this.setView(e,i,s);this._stop();var d=this.project(this.getCenter()),u=this.project(e),_=this.getSize(),v=this._zoom;e=U(e),i=i===void 0?v:i;var k=Math.max(_.x,_.y),S=k*this.getZoomScale(v,i),C=u.distanceTo(d)||1,Y=1.42,Q=Y*Y;function ae(Ye){var Ea=Ye?-1:1,Bl=Ye?S:k,Yl=S*S-k*k+Ea*Q*Q*C*C,Hl=2*Bl*Q*C,Rr=Yl/Hl,Pa=Math.sqrt(Rr*Rr+1)-Rr,Wl=Pa<1e-9?-18:Math.log(Pa);return Wl}function st(Ye){return(Math.exp(Ye)-Math.exp(-Ye))/2}function We(Ye){return(Math.exp(Ye)+Math.exp(-Ye))/2}function At(Ye){return st(Ye)/We(Ye)}var mt=ae(0);function rn(Ye){return k*(We(mt)/We(mt+Y*Ye))}function Fl(Ye){return k*(We(mt)*At(mt+Y*Ye)-st(mt))/Q}function Nl(Ye){return 1-Math.pow(1-Ye,1.5)}var zl=Date.now(),Hs=(ae(1)-mt)/Y,Vl=s.duration?1e3*s.duration:1e3*Hs*.8;function Ws(){var Ye=(Date.now()-zl)/Vl,Ea=Nl(Ye)*Hs;Ye<=1?(this._flyToFrame=Pe(Ws,this),this._move(this.unproject(d.add(u.subtract(d).multiplyBy(Fl(Ea)/C)),v),this.getScaleZoom(k/rn(Ea),v),{flyTo:!0})):this._move(e,i)._moveEnd(!0)}return this._moveStart(!0,s.noMoveStart),Ws.call(this),this},flyToBounds:function(e,i){var s=this._getBoundsCenterZoom(e,i);return this.flyTo(s.center,s.zoom,i)},setMaxBounds:function(e){return e=ne(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var i=this.options.minZoom;return this.options.minZoom=e,this._loaded&&i!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var i=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&i!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,i){this._enforcingBounds=!0;var s=this.getCenter(),d=this._limitCenter(s,this._zoom,ne(e));return s.equals(d)||this.panTo(d,i),this._enforcingBounds=!1,this},panInside:function(e,i){i=i||{};var s=T(i.paddingTopLeft||i.padding||[0,0]),d=T(i.paddingBottomRight||i.padding||[0,0]),u=this.project(this.getCenter()),_=this.project(e),v=this.getPixelBounds(),k=re([v.min.add(s),v.max.subtract(d)]),S=k.getSize();if(!k.contains(_)){this._enforcingBounds=!0;var C=_.subtract(k.getCenter()),Y=k.extend(_).getSize().subtract(S);u.x+=C.x<0?-Y.x:Y.x,u.y+=C.y<0?-Y.y:Y.y,this.panTo(this.unproject(u),i),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=t({animate:!1,pan:!0},e===!0?{animate:!0}:e);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var s=this.getSize(),d=i.divideBy(2).round(),u=s.divideBy(2).round(),_=d.subtract(u);return!_.x&&!_.y?this:(e.animate&&e.pan?this.panBy(_):(e.pan&&this._rawPanBy(_),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:s}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=t({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=o(this._handleGeolocationResponse,this),s=o(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,s,e):navigator.geolocation.getCurrentPosition(i,s,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var i=e.code,s=e.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+s+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var i=e.coords.latitude,s=e.coords.longitude,d=new R(i,s),u=d.toBounds(e.coords.accuracy*2),_=this._locateOptions;if(_.setView){var v=this.getBoundsZoom(u);this.setView(d,_.maxZoom?Math.min(v,_.maxZoom):v)}var k={latlng:d,bounds:u,timestamp:e.timestamp};for(var S in e.coords)typeof e.coords[S]=="number"&&(k[S]=e.coords[S]);this.fire("locationfound",k)}},addHandler:function(e,i){if(!i)return this;var s=this[e]=new i(this);return this._handlers.push(s),this.options[e]&&s.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Le(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ze(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)Le(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,i){var s="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),d=he("div",s,i||this._mapPane);return e&&(this._panes[e]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),i=this.unproject(e.getBottomLeft()),s=this.unproject(e.getTopRight());return new xe(i,s)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,i,s){e=ne(e),s=T(s||[0,0]);var d=this.getZoom()||0,u=this.getMinZoom(),_=this.getMaxZoom(),v=e.getNorthWest(),k=e.getSouthEast(),S=this.getSize().subtract(s),C=re(this.project(k,d),this.project(v,d)).getSize(),Y=j.any3d?this.options.zoomSnap:1,Q=S.x/C.x,ae=S.y/C.y,st=i?Math.max(Q,ae):Math.min(Q,ae);return d=this.getScaleZoom(st,d),Y&&(d=Math.round(d/(Y/100))*(Y/100),d=i?Math.ceil(d/Y)*Y:Math.floor(d/Y)*Y),Math.max(u,Math.min(_,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,i){var s=this._getTopLeftPoint(e,i);return new Z(s,s.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,i){var s=this.options.crs;return i=i===void 0?this._zoom:i,s.scale(e)/s.scale(i)},getScaleZoom:function(e,i){var s=this.options.crs;i=i===void 0?this._zoom:i;var d=s.zoom(e*s.scale(i));return isNaN(d)?1/0:d},project:function(e,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(U(e),i)},unproject:function(e,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(T(e),i)},layerPointToLatLng:function(e){var i=T(e).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(e){var i=this.project(U(e))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(U(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(ne(e))},distance:function(e,i){return this.options.crs.distance(U(e),U(i))},containerPointToLayerPoint:function(e){return T(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return T(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var i=this.containerPointToLayerPoint(T(e));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(e)))},mouseEventToContainerPoint:function(e){return fa(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var i=this._container=cs(e);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");te(i,"scroll",this._onScroll,this),this._containerId=f(i)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&j.any3d,ie(e,"leaflet-container"+(j.touch?" leaflet-touch":"")+(j.retina?" leaflet-retina":"")+(j.ielt9?" leaflet-oldie":"")+(j.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=kn(e,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ce(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ie(e.markerPane,"leaflet-zoom-hide"),ie(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,i,s){Ce(this._mapPane,new D(0,0));var d=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var u=this._zoom!==i;this._moveStart(u,s)._move(e,i)._moveEnd(u),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(e,i){return e&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(e,i,s,d){i===void 0&&(i=this._zoom);var u=this._zoom!==i;return this._zoom=i,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),d?s&&s.pinch&&this.fire("zoom",s):((u||s&&s.pinch)&&this.fire("zoom",s),this.fire("move",s)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ze(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Ce(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[f(this._container)]=this;var i=e?Se:te;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),j.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ze(this._resizeRequest),this._resizeRequest=Pe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,i){for(var s=[],d,u=i==="mouseout"||i==="mouseover",_=e.target||e.srcElement,v=!1;_;){if(d=this._targets[f(_)],d&&(i==="click"||i==="preclick")&&this._draggableMoved(d)){v=!0;break}if(d&&d.listens(i,!0)&&(u&&!_a(_,e)||(s.push(d),u))||_===this._container)break;_=_.parentNode}return!s.length&&!v&&!u&&this.listens(i,!0)&&(s=[this]),s},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var i=e.target||e.srcElement;if(!(!this._loaded||i._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(i))){var s=e.type;s==="mousedown"&&An(i),this._fireDOMEvent(e,s)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,i,s){if(e.type==="click"){var d=t({},e);d.type="preclick",this._fireDOMEvent(d,d.type,s)}var u=this._findEventTargets(e,i);if(s){for(var _=[],v=0;v<s.length;v++)s[v].listens(i,!0)&&_.push(s[v]);u=_.concat(u)}if(u.length){i==="contextmenu"&&qe(e);var k=u[0],S={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var C=k.getLatLng&&(!k._radius||k._radius<=10);S.containerPoint=C?this.latLngToContainerPoint(k.getLatLng()):this.mouseEventToContainerPoint(e),S.layerPoint=this.containerPointToLayerPoint(S.containerPoint),S.latlng=C?k.getLatLng():this.layerPointToLatLng(S.layerPoint)}for(v=0;v<u.length;v++)if(u[v].fire(i,S,!0),S.originalEvent._stopped||u[v].options.bubblingMouseEvents===!1&&Te(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,i=this._handlers.length;e<i;e++)this._handlers[e].disable()},whenReady:function(e,i){return this._loaded?e.call(i||this,{target:this}):this.on("load",e,i),this},_getMapPanePos:function(){return rt(this._mapPane)||new D(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,i){var s=e&&i!==void 0?this._getNewPixelOrigin(e,i):this.getPixelOrigin();return s.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,i){var s=this.getSize()._divideBy(2);return this.project(e,i)._subtract(s)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,i,s){var d=this._getNewPixelOrigin(s,i);return this.project(e,i)._subtract(d)},_latLngBoundsToNewLayerBounds:function(e,i,s){var d=this._getNewPixelOrigin(s,i);return re([this.project(e.getSouthWest(),i)._subtract(d),this.project(e.getNorthWest(),i)._subtract(d),this.project(e.getSouthEast(),i)._subtract(d),this.project(e.getNorthEast(),i)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,i,s){if(!s)return e;var d=this.project(e,i),u=this.getSize().divideBy(2),_=new Z(d.subtract(u),d.add(u)),v=this._getBoundsOffset(_,s,i);return Math.abs(v.x)<=1&&Math.abs(v.y)<=1?e:this.unproject(d.add(v),i)},_limitOffset:function(e,i){if(!i)return e;var s=this.getPixelBounds(),d=new Z(s.min.add(e),s.max.add(e));return e.add(this._getBoundsOffset(d,i))},_getBoundsOffset:function(e,i,s){var d=re(this.project(i.getNorthEast(),s),this.project(i.getSouthWest(),s)),u=d.min.subtract(e.min),_=d.max.subtract(e.max),v=this._rebound(u.x,-_.x),k=this._rebound(u.y,-_.y);return new D(v,k)},_rebound:function(e,i){return e+i>0?Math.round(e-i)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(i))},_limitZoom:function(e){var i=this.getMinZoom(),s=this.getMaxZoom(),d=j.any3d?this.options.zoomSnap:1;return d&&(e=Math.round(e/d)*d),Math.max(i,Math.min(s,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Fe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,i){var s=this._getCenterOffset(e)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(s)?!1:(this.panBy(s,i),!0)},_createAnimProxy:function(){var e=this._proxy=he("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(i){var s=mr,d=this._proxy.style[s];li(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),d===this._proxy.style[s]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Le(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),i=this.getZoom();li(this._proxy,this.project(e,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,i,s){if(this._animatingZoom)return!0;if(s=s||{},!this._zoomAnimated||s.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(i),u=this._getCenterOffset(e)._divideBy(1-1/d);return s.animate!==!0&&!this.getSize().contains(u)?!1:(Pe(function(){this._moveStart(!0,s.noMoveStart||!1)._animateZoom(e,i,!0)},this),!0)},_animateZoom:function(e,i,s,d){this._mapPane&&(s&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=i,ie(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:i,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Fe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ml(e,i){return new le(e,i)}var Rt=Ue.extend({options:{position:"topright"},initialize:function(e){V(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var i=this._map;return i&&i.removeControl(this),this.options.position=e,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var i=this._container=this.onAdd(e),s=this.getPosition(),d=e._controlCorners[s];return ie(i,"leaflet-control"),s.indexOf("bottom")!==-1?d.insertBefore(i,d.firstChild):d.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Le(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),$i=function(e){return new Rt(e)};le.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},i="leaflet-",s=this._controlContainer=he("div",i+"control-container",this._container);function d(u,_){var v=i+u+" "+i+_;e[u+_]=he("div",v,s)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)Le(this._controlCorners[e]);Le(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Me=Rt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,i,s,d){return s<d?-1:d<s?1:0}},initialize:function(e,i,s){V(this,s),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in e)this._addLayer(e[d],d);for(d in i)this._addLayer(i[d],d,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Rt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,i){return this._addLayer(e,i),this._map?this._update():this},addOverlay:function(e,i){return this._addLayer(e,i,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var i=this._getLayer(f(e));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){ie(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(ie(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Fe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Fe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",i=this._container=he("div",e),s=this.options.collapsed;i.setAttribute("aria-haspopup",!0),En(i),Sr(i);var d=this._section=he("section",e+"-list");s&&(this._map.on("click",this.collapse,this),te(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var u=this._layersLink=he("a",e+"-toggle",i);u.href="#",u.title="Layers",u.setAttribute("role","button"),te(u,{keydown:function(_){_.keyCode===13&&this._expandSafely()},click:function(_){qe(_),this._expandSafely()}},this),s||this.expand(),this._baseLayersList=he("div",e+"-base",d),this._separator=he("div",e+"-separator",d),this._overlaysList=he("div",e+"-overlays",d),i.appendChild(d)},_getLayer:function(e){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&f(this._layers[i].layer)===e)return this._layers[i]},_addLayer:function(e,i,s){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:i,overlay:s}),this.options.sortLayers&&this._layers.sort(o(function(d,u){return this.options.sortFunction(d.layer,u.layer,d.name,u.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ha(this._baseLayersList),ha(this._overlaysList),this._layerControlInputs=[];var e,i,s,d,u=0;for(s=0;s<this._layers.length;s++)d=this._layers[s],this._addItem(d),i=i||d.overlay,e=e||!d.overlay,u+=d.overlay?0:1;return this.options.hideSingleBase&&(e=e&&u>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=i&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var i=this._getLayer(f(e.target)),s=i.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;s&&this._map.fire(s,i)},_createRadioElement:function(e,i){var s='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(i?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=s,d.firstChild},_addItem:function(e){var i=document.createElement("label"),s=this._map.hasLayer(e.layer),d;e.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=s):d=this._createRadioElement("leaflet-base-layers_"+f(this),s),this._layerControlInputs.push(d),d.layerId=f(e.layer),te(d,"click",this._onInputClick,this);var u=document.createElement("span");u.innerHTML=" "+e.name;var _=document.createElement("span");i.appendChild(_),_.appendChild(d),_.appendChild(u);var v=e.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,i,s,d=[],u=[];this._handlingClick=!0;for(var _=e.length-1;_>=0;_--)i=e[_],s=this._getLayer(i.layerId).layer,i.checked?d.push(s):i.checked||u.push(s);for(_=0;_<u.length;_++)this._map.hasLayer(u[_])&&this._map.removeLayer(u[_]);for(_=0;_<d.length;_++)this._map.hasLayer(d[_])||this._map.addLayer(d[_]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,i,s,d=this._map.getZoom(),u=e.length-1;u>=0;u--)i=e[u],s=this._getLayer(i.layerId).layer,i.disabled=s.options.minZoom!==void 0&&d<s.options.minZoom||s.options.maxZoom!==void 0&&d>s.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,te(e,"click",qe),this.expand();var i=this;setTimeout(function(){Se(e,"click",qe),i._preventClick=!1})}}),Pn=function(e,i,s){return new Me(e,i,s)},Ci=Rt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var i="leaflet-control-zoom",s=he("div",i+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,i+"-in",s,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,i+"-out",s,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),s},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,i,s,d,u){var _=he("a",s,d);return _.innerHTML=e,_.href="#",_.title=i,_.setAttribute("role","button"),_.setAttribute("aria-label",i),En(_),te(_,"click",Di),te(_,"click",u,this),te(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var e=this._map,i="leaflet-disabled";Fe(this._zoomInButton,i),Fe(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(ie(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(ie(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});le.mergeOptions({zoomControl:!0}),le.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ci,this.addControl(this.zoomControl))});var ul=function(e){return new Ci(e)},Dr=Rt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var i="leaflet-control-scale",s=he("div",i),d=this.options;return this._addScales(d,i+"-line",s),e.on(d.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),s},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,i,s){e.metric&&(this._mScale=he("div",i,s)),e.imperial&&(this._iScale=he("div",i,s))},_update:function(){var e=this._map,i=e.getSize().y/2,s=e.distance(e.containerPointToLatLng([0,i]),e.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(s)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var i=this._getRoundNum(e),s=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,s,i/e)},_updateImperial:function(e){var i=e*3.2808399,s,d,u;i>5280?(s=i/5280,d=this._getRoundNum(s),this._updateScale(this._iScale,d+" mi",d/s)):(u=this._getRoundNum(i),this._updateScale(this._iScale,u+" ft",u/i))},_updateScale:function(e,i,s){e.style.width=Math.round(this.options.maxWidth*s)+"px",e.innerHTML=i},_getRoundNum:function(e){var i=Math.pow(10,(Math.floor(e)+"").length-1),s=e/i;return s=s>=10?10:s>=5?5:s>=3?3:s>=2?2:1,i*s}}),pl=function(e){return new Dr(e)},fl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ki=Rt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(j.inlineSvg?fl+" ":"")+"Leaflet</a>"},initialize:function(e){V(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=he("div","leaflet-control-attribution"),En(this._container);for(var i in e._layers)e._layers[i].getAttribution&&this.addAttribution(e._layers[i].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var i in this._attributions)this._attributions[i]&&e.push(i);var s=[];this.options.prefix&&s.push(this.options.prefix),e.length&&s.push(e.join(", ")),this._container.innerHTML=s.join(' <span aria-hidden="true">|</span> ')}}});le.mergeOptions({attributionControl:!0}),le.addInitHook(function(){this.options.attributionControl&&new Ki().addTo(this)});var ci=function(e){return new Ki(e)};Rt.Layers=Me,Rt.Zoom=Ci,Rt.Scale=Dr,Rt.Attribution=Ki,$i.layers=Pn,$i.zoom=ul,$i.scale=pl,$i.attribution=ci;var Mt=Ue.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Mt.addTo=function(e,i){return e.addHandler(i,this),this};var _l={Events:He},Kt=j.touch?"touchstart mousedown":"mousedown",di=Zt.extend({options:{clickTolerance:3},initialize:function(e,i,s,d){V(this,d),this._element=e,this._dragStartTarget=i||e,this._preventOutline=s},enable:function(){this._enabled||(te(this._dragStartTarget,Kt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(di._dragging===this&&this.finishDrag(!0),Se(this._dragStartTarget,Kt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!ma(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){di._dragging===this&&this.finishDrag();return}if(!(di._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(di._dragging=this,this._preventOutline&&An(this._element),_r(),Dn(),!this._moving)){this.fire("down");var i=e.touches?e.touches[0]:e,s=vr(this._element);this._startPoint=new D(i.clientX,i.clientY),this._startPos=rt(this._element),this._parentScale=br(s);var d=e.type==="mousedown";te(document,d?"mousemove":"touchmove",this._onMove,this),te(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var i=e.touches&&e.touches.length===1?e.touches[0]:e,s=new D(i.clientX,i.clientY)._subtract(this._startPoint);!s.x&&!s.y||Math.abs(s.x)+Math.abs(s.y)<this.options.clickTolerance||(s.x/=this._parentScale.x,s.y/=this._parentScale.y,qe(e),this._moved||(this.fire("dragstart"),this._moved=!0,ie(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ie(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Ce(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Fe(document.body,"leaflet-dragging"),this._lastTarget&&(Fe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Se(document,"mousemove touchmove",this._onMove,this),Se(document,"mouseup touchend touchcancel",this._onUp,this),gr(),Cn();var i=this._moved&&this._moving;this._moving=!1,di._dragging=!1,i&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function ga(e,i,s){var d,u=[1,4,2,8],_,v,k,S,C,Y,Q,ae;for(_=0,Y=e.length;_<Y;_++)e[_]._code=Ti(e[_],i);for(k=0;k<4;k++){for(Q=u[k],d=[],_=0,Y=e.length,v=Y-1;_<Y;v=_++)S=e[_],C=e[v],S._code&Q?C._code&Q||(ae=va(C,S,Q,i,s),ae._code=Ti(ae,i),d.push(ae)):(C._code&Q&&(ae=va(C,S,Q,i,s),ae._code=Ti(ae,i),d.push(ae)),d.push(S));e=d}return e}function fs(e,i){var s,d,u,_,v,k,S,C,Y;if(!e||e.length===0)throw new Error("latlngs not passed");Dt(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Q=U([0,0]),ae=ne(e),st=ae.getNorthWest().distanceTo(ae.getSouthWest())*ae.getNorthEast().distanceTo(ae.getNorthWest());st<1700&&(Q=Cr(e));var We=e.length,At=[];for(s=0;s<We;s++){var mt=U(e[s]);At.push(i.project(U([mt.lat-Q.lat,mt.lng-Q.lng])))}for(k=S=C=0,s=0,d=We-1;s<We;d=s++)u=At[s],_=At[d],v=u.y*_.x-_.y*u.x,S+=(u.x+_.x)*v,C+=(u.y+_.y)*v,k+=v*3;k===0?Y=At[0]:Y=[S/k,C/k];var rn=i.unproject(T(Y));return U([rn.lat+Q.lat,rn.lng+Q.lng])}function Cr(e){for(var i=0,s=0,d=0,u=0;u<e.length;u++){var _=U(e[u]);i+=_.lat,s+=_.lng,d++}return U([i/d,s/d])}var gl={__proto__:null,clipPolygon:ga,polygonCenter:fs,centroid:Cr};function Ln(e,i){if(!i||!e.length)return e.slice();var s=i*i;return e=_s(e,s),e=vl(e,s),e}function ya(e,i,s){return Math.sqrt(Qi(e,i,s,!0))}function yl(e,i,s){return Qi(e,i,s)}function vl(e,i){var s=e.length,d=typeof Uint8Array<"u"?Uint8Array:Array,u=new d(s);u[0]=u[s-1]=1,Tr(e,u,i,0,s-1);var _,v=[];for(_=0;_<s;_++)u[_]&&v.push(e[_]);return v}function Tr(e,i,s,d,u){var _=0,v,k,S;for(k=d+1;k<=u-1;k++)S=Qi(e[k],e[d],e[u],!0),S>_&&(v=k,_=S);_>s&&(i[v]=1,Tr(e,i,s,d,v),Tr(e,i,s,v,u))}function _s(e,i){for(var s=[e[0]],d=1,u=0,_=e.length;d<_;d++)bl(e[d],e[u])>i&&(s.push(e[d]),u=d);return u<_-1&&s.push(e[_-1]),s}var gs;function ys(e,i,s,d,u){var _=d?gs:Ti(e,s),v=Ti(i,s),k,S,C;for(gs=v;;){if(!(_|v))return[e,i];if(_&v)return!1;k=_||v,S=va(e,i,k,s,u),C=Ti(S,s),k===_?(e=S,_=C):(i=S,v=C)}}function va(e,i,s,d,u){var _=i.x-e.x,v=i.y-e.y,k=d.min,S=d.max,C,Y;return s&8?(C=e.x+_*(S.y-e.y)/v,Y=S.y):s&4?(C=e.x+_*(k.y-e.y)/v,Y=k.y):s&2?(C=S.x,Y=e.y+v*(S.x-e.x)/_):s&1&&(C=k.x,Y=e.y+v*(k.x-e.x)/_),new D(C,Y,u)}function Ti(e,i){var s=0;return e.x<i.min.x?s|=1:e.x>i.max.x&&(s|=2),e.y<i.min.y?s|=4:e.y>i.max.y&&(s|=8),s}function bl(e,i){var s=i.x-e.x,d=i.y-e.y;return s*s+d*d}function Qi(e,i,s,d){var u=i.x,_=i.y,v=s.x-u,k=s.y-_,S=v*v+k*k,C;return S>0&&(C=((e.x-u)*v+(e.y-_)*k)/S,C>1?(u=s.x,_=s.y):C>0&&(u+=v*C,_+=k*C)),v=e.x-u,k=e.y-_,d?v*v+k*k:new D(u,_)}function Dt(e){return!oe(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Ai(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dt(e)}function vs(e,i){var s,d,u,_,v,k,S,C;if(!e||e.length===0)throw new Error("latlngs not passed");Dt(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Y=U([0,0]),Q=ne(e),ae=Q.getNorthWest().distanceTo(Q.getSouthWest())*Q.getNorthEast().distanceTo(Q.getNorthWest());ae<1700&&(Y=Cr(e));var st=e.length,We=[];for(s=0;s<st;s++){var At=U(e[s]);We.push(i.project(U([At.lat-Y.lat,At.lng-Y.lng])))}for(s=0,d=0;s<st-1;s++)d+=We[s].distanceTo(We[s+1])/2;if(d===0)C=We[0];else for(s=0,_=0;s<st-1;s++)if(v=We[s],k=We[s+1],u=v.distanceTo(k),_+=u,_>d){S=(_-d)/u,C=[k.x-S*(k.x-v.x),k.y-S*(k.y-v.y)];break}var mt=i.unproject(T(C));return U([mt.lat+Y.lat,mt.lng+Y.lng])}var Ar={__proto__:null,simplify:Ln,pointToSegmentDistance:ya,closestPointOnSegment:yl,clipSegment:ys,_getEdgeIntersection:va,_getBitCode:Ti,_sqClosestPointOnSegment:Qi,isFlat:Dt,_flat:Ai,polylineCenter:vs},Er={project:function(e){return new D(e.lng,e.lat)},unproject:function(e){return new R(e.y,e.x)},bounds:new Z([-180,-90],[180,90])},In={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var i=Math.PI/180,s=this.R,d=e.lat*i,u=this.R_MINOR/s,_=Math.sqrt(1-u*u),v=_*Math.sin(d),k=Math.tan(Math.PI/4-d/2)/Math.pow((1-v)/(1+v),_/2);return d=-s*Math.log(Math.max(k,1e-10)),new D(e.lng*i*s,d)},unproject:function(e){for(var i=180/Math.PI,s=this.R,d=this.R_MINOR/s,u=Math.sqrt(1-d*d),_=Math.exp(-e.y/s),v=Math.PI/2-2*Math.atan(_),k=0,S=.1,C;k<15&&Math.abs(S)>1e-7;k++)C=u*Math.sin(v),C=Math.pow((1-C)/(1+C),u/2),S=Math.PI/2-2*Math.atan(_*C)-v,v+=S;return new R(v*i,e.x*i/s)}},wl={__proto__:null,LonLat:Er,Mercator:In,SphericalMercator:It},xl=t({},_t,{code:"EPSG:3395",projection:In,transformation:function(){var e=.5/(Math.PI*In.R);return jt(e,.5,-e,.5)}()}),bs=t({},_t,{code:"EPSG:4326",projection:Er,transformation:jt(1/180,1,-1/180,.5)}),kl=t({},xt,{projection:Er,transformation:jt(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,i){var s=i.lng-e.lng,d=i.lat-e.lat;return Math.sqrt(s*s+d*d)},infinite:!0});xt.Earth=_t,xt.EPSG3395=xl,xt.EPSG3857=bi,xt.EPSG900913=el,xt.EPSG4326=bs,xt.Simple=kl;var Ct=Zt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[f(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[f(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var i=e.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var s=this.getEvents();i.on(s,this),this.once("remove",function(){i.off(s,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});le.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var i=f(e);return this._layers[i]?this:(this._layers[i]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var i=f(e);return this._layers[i]?(this._loaded&&e.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return f(e)in this._layers},eachLayer:function(e,i){for(var s in this._layers)e.call(i,this._layers[s]);return this},_addLayers:function(e){e=e?oe(e)?e:[e]:[];for(var i=0,s=e.length;i<s;i++)this.addLayer(e[i])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[f(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var i=f(e);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,i=-1/0,s=this._getZoomSpan();for(var d in this._zoomBoundLayers){var u=this._zoomBoundLayers[d].options;e=u.minZoom===void 0?e:Math.min(e,u.minZoom),i=u.maxZoom===void 0?i:Math.max(i,u.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=e===1/0?void 0:e,s!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xi=Ct.extend({initialize:function(e,i){V(this,i),this._layers={};var s,d;if(e)for(s=0,d=e.length;s<d;s++)this.addLayer(e[s])},addLayer:function(e){var i=this.getLayerId(e);return this._layers[i]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var i=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(e){var i=typeof e=="number"?e:this.getLayerId(e);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var i=Array.prototype.slice.call(arguments,1),s,d;for(s in this._layers)d=this._layers[s],d[e]&&d[e].apply(d,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,i){for(var s in this._layers)e.call(i,this._layers[s]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return f(e)}}),ws=function(e,i){return new Xi(e,i)},ce=Xi.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Xi.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Xi.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new xe;for(var i in this._layers){var s=this._layers[i];e.extend(s.getBounds?s.getBounds():s.getLatLng())}return e}}),Sl=function(e,i){return new ce(e,i)},Ji=Ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){V(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,i){var s=this._getIconUrl(e);if(!s){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(s,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(d,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(e,i){var s=this.options,d=s[i+"Size"];typeof d=="number"&&(d=[d,d]);var u=T(d),_=T(i==="shadow"&&s.shadowAnchor||s.iconAnchor||u&&u.divideBy(2,!0));e.className="leaflet-marker-"+i+" "+(s.className||""),_&&(e.style.marginLeft=-_.x+"px",e.style.marginTop=-_.y+"px"),u&&(e.style.width=u.x+"px",e.style.height=u.y+"px")},_createImg:function(e,i){return i=i||document.createElement("img"),i.src=e,i},_getIconUrl:function(e){return j.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function xs(e){return new Ji(e)}var On=Ji.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof On.imagePath!="string"&&(On.imagePath=this._detectIconPath()),(this.options.imagePath||On.imagePath)+Ji.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var i=function(s,d,u){var _=d.exec(s);return _&&_[u]};return e=i(e,/^url\((['"])?(.+)\1\)$/,2),e&&i(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=he("div","leaflet-default-icon-path",document.body),i=kn(e,"background-image")||kn(e,"backgroundImage");if(document.body.removeChild(e),i=this._stripUrl(i),i)return i;var s=document.querySelector('link[href$="leaflet.css"]');return s?s.href.substring(0,s.href.length-11-1):""}}),ks=Mt.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new di(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ie(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Fe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var i=this._marker,s=i._map,d=this._marker.options.autoPanSpeed,u=this._marker.options.autoPanPadding,_=rt(i._icon),v=s.getPixelBounds(),k=s.getPixelOrigin(),S=re(v.min._subtract(k).add(u),v.max._subtract(k).subtract(u));if(!S.contains(_)){var C=T((Math.max(S.max.x,_.x)-S.max.x)/(v.max.x-S.max.x)-(Math.min(S.min.x,_.x)-S.min.x)/(v.min.x-S.min.x),(Math.max(S.max.y,_.y)-S.max.y)/(v.max.y-S.max.y)-(Math.min(S.min.y,_.y)-S.min.y)/(v.min.y-S.min.y)).multiplyBy(d);s.panBy(C,{animate:!1}),this._draggable._newPos._add(C),this._draggable._startPos._add(C),Ce(i._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=Pe(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(ze(this._panRequest),this._panRequest=Pe(this._adjustPan.bind(this,e)))},_onDrag:function(e){var i=this._marker,s=i._shadow,d=rt(i._icon),u=i._map.layerPointToLatLng(d);s&&Ce(s,d),i._latlng=u,e.latlng=u,e.oldLatLng=this._oldLatLng,i.fire("move",e).fire("drag",e)},_onDragEnd:function(e){ze(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),ba=Ct.extend({options:{icon:new On,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,i){V(this,i),this._latlng=U(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var i=this._latlng;return this._latlng=U(e),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),s=e.icon.createIcon(this._icon),d=!1;s!==this._icon&&(this._icon&&this._removeIcon(),d=!0,e.title&&(s.title=e.title),s.tagName==="IMG"&&(s.alt=e.alt||"")),ie(s,i),e.keyboard&&(s.tabIndex="0",s.setAttribute("role","button")),this._icon=s,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&te(s,"focus",this._panOnFocus,this);var u=e.icon.createShadow(this._shadow),_=!1;u!==this._shadow&&(this._removeShadow(),_=!0),u&&(ie(u,i),u.alt=""),this._shadow=u,e.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),u&&_&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Se(this._icon,"focus",this._panOnFocus,this),Le(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Le(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Ce(this._icon,e),this._shadow&&Ce(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(ie(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ks)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ks(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&St(this._icon,e),this._shadow&&St(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var i=this.options.icon.options,s=i.iconSize?T(i.iconSize):T(0,0),d=i.iconAnchor?T(i.iconAnchor):T(0,0);e.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:s.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Rn(e,i){return new ba(e,i)}var hi=Ct.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return V(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),wa=hi.extend({options:{fill:!0,radius:10},initialize:function(e,i){V(this,i),this._latlng=U(e),this._radius=this.options.radius},setLatLng:function(e){var i=this._latlng;return this._latlng=U(e),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var i=e&&e.radius||this._radius;return hi.prototype.setStyle.call(this,e),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,i=this._radiusY||e,s=this._clickTolerance(),d=[e+s,i+s];this._pxBounds=new Z(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ml(e,i){return new wa(e,i)}var en=wa.extend({initialize:function(e,i,s){if(typeof i=="number"&&(i=t({},s,{radius:i})),V(this,i),this._latlng=U(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new xe(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:hi.prototype.setStyle,_project:function(){var e=this._latlng.lng,i=this._latlng.lat,s=this._map,d=s.options.crs;if(d.distance===_t.distance){var u=Math.PI/180,_=this._mRadius/_t.R/u,v=s.project([i+_,e]),k=s.project([i-_,e]),S=v.add(k).divideBy(2),C=s.unproject(S).lat,Y=Math.acos((Math.cos(_*u)-Math.sin(i*u)*Math.sin(C*u))/(Math.cos(i*u)*Math.cos(C*u)))/u;(isNaN(Y)||Y===0)&&(Y=_/Math.cos(Math.PI/180*i)),this._point=S.subtract(s.getPixelOrigin()),this._radius=isNaN(Y)?0:S.x-s.project([C,e-Y]).x,this._radiusY=S.y-v.y}else{var Q=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=s.latLngToLayerPoint(this._latlng),this._radius=this._point.x-s.latLngToLayerPoint(Q).x}this._updateBounds()}});function xa(e,i,s){return new en(e,i,s)}var Ft=hi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,i){V(this,i),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var i=1/0,s=null,d=Qi,u,_,v=0,k=this._parts.length;v<k;v++)for(var S=this._parts[v],C=1,Y=S.length;C<Y;C++){u=S[C-1],_=S[C];var Q=d(e,u,_,!0);Q<i&&(i=Q,s=d(e,u,_))}return s&&(s.distance=Math.sqrt(i)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,i){return i=i||this._defaultShape(),e=U(e),i.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new xe,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Dt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var i=[],s=Dt(e),d=0,u=e.length;d<u;d++)s?(i[d]=U(e[d]),this._bounds.extend(i[d])):i[d]=this._convertLatLngs(e[d]);return i},_project:function(){var e=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),i=new D(e,e);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(e,i,s){var d=e[0]instanceof R,u=e.length,_,v;if(d){for(v=[],_=0;_<u;_++)v[_]=this._map.latLngToLayerPoint(e[_]),s.extend(v[_]);i.push(v)}else for(_=0;_<u;_++)this._projectLatlngs(e[_],i,s)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,s,d,u,_,v,k,S;for(s=0,u=0,_=this._rings.length;s<_;s++)for(S=this._rings[s],d=0,v=S.length;d<v-1;d++)k=ys(S[d],S[d+1],e,d,!0),k&&(i[u]=i[u]||[],i[u].push(k[0]),(k[1]!==S[d+1]||d===v-2)&&(i[u].push(k[1]),u++))}},_simplifyPoints:function(){for(var e=this._parts,i=this.options.smoothFactor,s=0,d=e.length;s<d;s++)e[s]=Ln(e[s],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,i){var s,d,u,_,v,k,S=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(s=0,_=this._parts.length;s<_;s++)for(k=this._parts[s],d=0,v=k.length,u=v-1;d<v;u=d++)if(!(!i&&d===0)&&ya(e,k[u],k[d])<=S)return!0;return!1}});function Dl(e,i){return new Ft(e,i)}Ft._flat=Ai;var Ei=Ft.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var i=Ft.prototype._convertLatLngs.call(this,e),s=i.length;return s>=2&&i[0]instanceof R&&i[0].equals(i[s-1])&&i.pop(),i},_setLatLngs:function(e){Ft.prototype._setLatLngs.call(this,e),Dt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,i=this.options.weight,s=new D(i,i);if(e=new Z(e.min.subtract(s),e.max.add(s)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,u=this._rings.length,_;d<u;d++)_=ga(this._rings[d],e,!0),_.length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var i=!1,s,d,u,_,v,k,S,C;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(_=0,S=this._parts.length;_<S;_++)for(s=this._parts[_],v=0,C=s.length,k=C-1;v<C;k=v++)d=s[v],u=s[k],d.y>e.y!=u.y>e.y&&e.x<(u.x-d.x)*(e.y-d.y)/(u.y-d.y)+d.x&&(i=!i);return i||Ft.prototype._containsPoint.call(this,e,!0)}});function Cl(e,i){return new Ei(e,i)}var Nt=ce.extend({initialize:function(e,i){V(this,i),this._layers={},e&&this.addData(e)},addData:function(e){var i=oe(e)?e:e.features,s,d,u;if(i){for(s=0,d=i.length;s<d;s++)u=i[s],(u.geometries||u.geometry||u.features||u.coordinates)&&this.addData(u);return this}var _=this.options;if(_.filter&&!_.filter(e))return this;var v=tn(e,_);return v?(v.feature=Da(e),v.defaultOptions=v.options,this.resetStyle(v),_.onEachFeature&&_.onEachFeature(e,v),this.addLayer(v)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=t({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(i){this._setLayerStyle(i,e)},this)},_setLayerStyle:function(e,i){e.setStyle&&(typeof i=="function"&&(i=i(e.feature)),e.setStyle(i))}});function tn(e,i){var s=e.type==="Feature"?e.geometry:e,d=s?s.coordinates:null,u=[],_=i&&i.pointToLayer,v=i&&i.coordsToLatLng||Pr,k,S,C,Y;if(!d&&!s)return null;switch(s.type){case"Point":return k=v(d),ka(_,e,k,i);case"MultiPoint":for(C=0,Y=d.length;C<Y;C++)k=v(d[C]),u.push(ka(_,e,k,i));return new ce(u);case"LineString":case"MultiLineString":return S=Sa(d,s.type==="LineString"?0:1,v),new Ft(S,i);case"Polygon":case"MultiPolygon":return S=Sa(d,s.type==="Polygon"?1:2,v),new Ei(S,i);case"GeometryCollection":for(C=0,Y=s.geometries.length;C<Y;C++){var Q=tn({geometry:s.geometries[C],type:"Feature",properties:e.properties},i);Q&&u.push(Q)}return new ce(u);case"FeatureCollection":for(C=0,Y=s.features.length;C<Y;C++){var ae=tn(s.features[C],i);ae&&u.push(ae)}return new ce(u);default:throw new Error("Invalid GeoJSON object.")}}function ka(e,i,s,d){return e?e(i,s):new ba(s,d&&d.markersInheritOptions&&d)}function Pr(e){return new R(e[1],e[0],e[2])}function Sa(e,i,s){for(var d=[],u=0,_=e.length,v;u<_;u++)v=i?Sa(e[u],i-1,s):(s||Pr)(e[u]),d.push(v);return d}function Lr(e,i){return e=U(e),e.alt!==void 0?[O(e.lng,i),O(e.lat,i),O(e.alt,i)]:[O(e.lng,i),O(e.lat,i)]}function Ma(e,i,s,d){for(var u=[],_=0,v=e.length;_<v;_++)u.push(i?Ma(e[_],Dt(e[_])?0:i-1,s,d):Lr(e[_],d));return!i&&s&&u.length>0&&u.push(u[0].slice()),u}function nn(e,i){return e.feature?t({},e.feature,{geometry:i}):Da(i)}function Da(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var Ir={toGeoJSON:function(e){return nn(this,{type:"Point",coordinates:Lr(this.getLatLng(),e)})}};ba.include(Ir),en.include(Ir),wa.include(Ir),Ft.include({toGeoJSON:function(e){var i=!Dt(this._latlngs),s=Ma(this._latlngs,i?1:0,!1,e);return nn(this,{type:(i?"Multi":"")+"LineString",coordinates:s})}}),Ei.include({toGeoJSON:function(e){var i=!Dt(this._latlngs),s=i&&!Dt(this._latlngs[0]),d=Ma(this._latlngs,s?2:i?1:0,!0,e);return i||(d=[d]),nn(this,{type:(s?"Multi":"")+"Polygon",coordinates:d})}}),Xi.include({toMultiPoint:function(e){var i=[];return this.eachLayer(function(s){i.push(s.toGeoJSON(e).geometry.coordinates)}),nn(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(e){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(e);var s=i==="GeometryCollection",d=[];return this.eachLayer(function(u){if(u.toGeoJSON){var _=u.toGeoJSON(e);if(s)d.push(_.geometry);else{var v=Da(_);v.type==="FeatureCollection"?d.push.apply(d,v.features):d.push(v)}}}),s?nn(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function Ss(e,i){return new Nt(e,i)}var Tl=Ss,Ca=Ct.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,i,s){this._url=e,this._bounds=ne(i),V(this,s)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ie(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Le(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&qi(this._image),this},bringToBack:function(){return this._map&&ki(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=ne(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",i=this._image=e?this._url:he("img");if(ie(i,"leaflet-image-layer"),this._zoomAnimated&&ie(i,"leaflet-zoom-animated"),this.options.className&&ie(i,this.options.className),i.onselectstart=x,i.onmousemove=x,i.onload=o(this.fire,this,"load"),i.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(e){var i=this._map.getZoomScale(e.zoom),s=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;li(this._image,s,i)},_reset:function(){var e=this._image,i=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),s=i.getSize();Ce(e,i.min),e.style.width=s.x+"px",e.style.height=s.y+"px"},_updateOpacity:function(){St(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Ms=function(e,i,s){return new Ca(e,i,s)},Ds=Ca.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",i=this._image=e?this._url:he("video");if(ie(i,"leaflet-image-layer"),this._zoomAnimated&&ie(i,"leaflet-zoom-animated"),this.options.className&&ie(i,this.options.className),i.onselectstart=x,i.onmousemove=x,i.onloadeddata=o(this.fire,this,"load"),e){for(var s=i.getElementsByTagName("source"),d=[],u=0;u<s.length;u++)d.push(s[u].src);this._url=s.length>0?d:[i.src];return}oe(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var v=he("source");v.src=this._url[_],i.appendChild(v)}}});function Al(e,i,s){return new Ds(e,i,s)}var Tt=Ca.extend({_initImage:function(){var e=this._image=this._url;ie(e,"leaflet-image-layer"),this._zoomAnimated&&ie(e,"leaflet-zoom-animated"),this.options.className&&ie(e,this.options.className),e.onselectstart=x,e.onmousemove=x}});function Pi(e,i,s){return new Tt(e,i,s)}var zt=Ct.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,i){e&&(e instanceof R||oe(e))?(this._latlng=U(e),V(this,i)):(V(this,e),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&St(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&St(this._container,1),this.bringToFront(),this.options.interactive&&(ie(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(St(this._container,0),this._removeTimeout=setTimeout(o(Le,void 0,this._container),200)):Le(this._container),this.options.interactive&&(Fe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=U(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&qi(this._container),this},bringToBack:function(){return this._map&&ki(this._container),this},_prepareOpen:function(e){var i=this._source;if(!i._map)return!1;if(i instanceof ce){i=null;var s=this._source._layers;for(var d in s)if(s[d]._map){i=s[d];break}if(!i)return!1;this._source=i}if(!e)if(i.getCenter)e=i.getCenter();else if(i.getLatLng)e=i.getLatLng();else if(i.getBounds)e=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")e.innerHTML=i;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),i=T(this.options.offset),s=this._getAnchor();this._zoomAnimated?Ce(this._container,e.add(s)):i=i.add(e).add(s);var d=this._containerBottom=-i.y,u=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=d+"px",this._container.style.left=u+"px"}},_getAnchor:function(){return[0,0]}});le.include({_initOverlay:function(e,i,s,d){var u=i;return u instanceof e||(u=new e(d).setContent(i)),s&&u.setLatLng(s),u}}),Ct.include({_initOverlay:function(e,i,s,d){var u=s;return u instanceof e?(V(u,d),u._source=this):(u=i&&!d?i:new e(d,this),u.setContent(s)),u}});var Ta=zt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,zt.prototype.openOn.call(this,e)},onAdd:function(e){zt.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof hi||this._source.on("preclick",Mi))},onRemove:function(e){zt.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof hi||this._source.off("preclick",Mi))},getEvents:function(){var e=zt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",i=this._container=he("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),s=this._wrapper=he("div",e+"-content-wrapper",i);if(this._contentNode=he("div",e+"-content",s),En(i),Sr(this._contentNode),te(i,"contextmenu",Mi),this._tipContainer=he("div",e+"-tip-container",i),this._tip=he("div",e+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=he("a",e+"-close-button",i);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',te(d,"click",function(u){qe(u),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,i=e.style;i.width="",i.whiteSpace="nowrap";var s=e.offsetWidth;s=Math.min(s,this.options.maxWidth),s=Math.max(s,this.options.minWidth),i.width=s+1+"px",i.whiteSpace="",i.height="";var d=e.offsetHeight,u=this.options.maxHeight,_="leaflet-popup-scrolled";u&&d>u?(i.height=u+"px",ie(e,_)):Fe(e,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),s=this._getAnchor();Ce(this._container,i.add(s))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,i=parseInt(kn(this._container,"marginBottom"),10)||0,s=this._container.offsetHeight+i,d=this._containerWidth,u=new D(this._containerLeft,-s-this._containerBottom);u._add(rt(this._container));var _=e.layerPointToContainerPoint(u),v=T(this.options.autoPanPadding),k=T(this.options.autoPanPaddingTopLeft||v),S=T(this.options.autoPanPaddingBottomRight||v),C=e.getSize(),Y=0,Q=0;_.x+d+S.x>C.x&&(Y=_.x+d-C.x+S.x),_.x-Y-k.x<0&&(Y=_.x-k.x),_.y+s+S.y>C.y&&(Q=_.y+s-C.y+S.y),_.y-Q-k.y<0&&(Q=_.y-k.y),(Y||Q)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([Y,Q]))}},_getAnchor:function(){return T(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Cs=function(e,i){return new Ta(e,i)};le.mergeOptions({closePopupOnClick:!0}),le.include({openPopup:function(e,i,s){return this._initOverlay(Ta,e,i,s).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Ct.include({bindPopup:function(e,i){return this._popup=this._initOverlay(Ta,this._popup,e,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof ce||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){Di(e);var i=e.layer||e.target;if(this._popup._source===i&&!(i instanceof hi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=i,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Fn=zt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){zt.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){zt.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=zt.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",i=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=he("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var i,s,d=this._map,u=this._container,_=d.latLngToContainerPoint(d.getCenter()),v=d.layerPointToContainerPoint(e),k=this.options.direction,S=u.offsetWidth,C=u.offsetHeight,Y=T(this.options.offset),Q=this._getAnchor();k==="top"?(i=S/2,s=C):k==="bottom"?(i=S/2,s=0):k==="center"?(i=S/2,s=C/2):k==="right"?(i=0,s=C/2):k==="left"?(i=S,s=C/2):v.x<_.x?(k="right",i=0,s=C/2):(k="left",i=S+(Y.x+Q.x)*2,s=C/2),e=e.subtract(T(i,s,!0)).add(Y).add(Q),Fe(u,"leaflet-tooltip-right"),Fe(u,"leaflet-tooltip-left"),Fe(u,"leaflet-tooltip-top"),Fe(u,"leaflet-tooltip-bottom"),ie(u,"leaflet-tooltip-"+k),Ce(u,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&St(this._container,e)},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(i)},_getAnchor:function(){return T(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),El=function(e,i){return new Fn(e,i)};le.include({openTooltip:function(e,i,s){return this._initOverlay(Fn,e,i,s).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Ct.include({bindTooltip:function(e,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Fn,this._tooltip,e,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var i=e?"off":"on",s={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?s.add=this._openTooltip:(s.mouseover=this._openTooltip,s.mouseout=this.closeTooltip,s.click=this._openTooltip,this._map?this._addFocusListeners():s.add=this._addFocusListeners),this._tooltip.options.sticky&&(s.mousemove=this._moveTooltip),this[i](s),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof ce||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var i=typeof e.getElement=="function"&&e.getElement();i&&(te(i,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),te(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var i=typeof e.getElement=="function"&&e.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var i=e.latlng,s,d;this._tooltip.options.sticky&&e.originalEvent&&(s=this._map.mouseEventToContainerPoint(e.originalEvent),d=this._map.containerPointToLayerPoint(s),i=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(i)}});var Ts=Ji.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var i=e&&e.tagName==="DIV"?e:document.createElement("div"),s=this.options;if(s.html instanceof Element?(ha(i),i.appendChild(s.html)):i.innerHTML=s.html!==!1?s.html:"",s.bgPos){var d=T(s.bgPos);i.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function As(e){return new Ts(e)}Ji.Default=On;var Nn=Ct.extend({options:{tileSize:256,opacity:1,updateWhenIdle:j.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){V(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Le(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(qi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ki(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof D?e:new D(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var i=this.getPane().children,s=-e(-1/0,1/0),d=0,u=i.length,_;d<u;d++)_=i[d].style.zIndex,i[d]!==this._container&&_&&(s=e(s,+_));isFinite(s)&&(this.options.zIndex=s+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!j.ielt9){St(this._container,this.options.opacity);var e=+new Date,i=!1,s=!1;for(var d in this._tiles){var u=this._tiles[d];if(!(!u.current||!u.loaded)){var _=Math.min(1,(e-u.loaded)/200);St(u.el,_),_<1?i=!0:(u.active?s=!0:this._onOpaqueTile(u),u.active=!0)}}s&&!this._noPrune&&this._pruneTiles(),i&&(ze(this._fadeFrame),this._fadeFrame=Pe(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=he("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,i=this.options.maxZoom;if(e!==void 0){for(var s in this._levels)s=Number(s),this._levels[s].el.children.length||s===e?(this._levels[s].el.style.zIndex=i-Math.abs(e-s),this._onUpdateLevel(s)):(Le(this._levels[s].el),this._removeTilesAtZoom(s),this._onRemoveLevel(s),delete this._levels[s]);var d=this._levels[e],u=this._map;return d||(d=this._levels[e]={},d.el=he("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=i,d.origin=u.project(u.unproject(u.getPixelOrigin()),e).round(),d.zoom=e,this._setZoomTransform(d,u.getCenter(),u.getZoom()),x(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var e,i,s=this._map.getZoom();if(s>this.options.maxZoom||s<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)i=this._tiles[e],i.retain=i.current;for(e in this._tiles)if(i=this._tiles[e],i.current&&!i.active){var d=i.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var i in this._tiles)this._tiles[i].coords.z===e&&this._removeTile(i)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Le(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,i,s,d){var u=Math.floor(e/2),_=Math.floor(i/2),v=s-1,k=new D(+u,+_);k.z=+v;var S=this._tileCoordsToKey(k),C=this._tiles[S];return C&&C.active?(C.retain=!0,!0):(C&&C.loaded&&(C.retain=!0),v>d?this._retainParent(u,_,v,d):!1)},_retainChildren:function(e,i,s,d){for(var u=2*e;u<2*e+2;u++)for(var _=2*i;_<2*i+2;_++){var v=new D(u,_);v.z=s+1;var k=this._tileCoordsToKey(v),S=this._tiles[k];if(S&&S.active){S.retain=!0;continue}else S&&S.loaded&&(S.retain=!0);s+1<d&&this._retainChildren(u,_,s+1,d)}},_resetView:function(e){var i=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var i=this.options;return i.minNativeZoom!==void 0&&e<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<e?i.maxNativeZoom:e},_setView:function(e,i,s,d){var u=Math.round(i);this.options.maxZoom!==void 0&&u>this.options.maxZoom||this.options.minZoom!==void 0&&u<this.options.minZoom?u=void 0:u=this._clampZoom(u);var _=this.options.updateWhenZooming&&u!==this._tileZoom;(!d||_)&&(this._tileZoom=u,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),u!==void 0&&this._update(e),s||this._pruneTiles(),this._noPrune=!!s),this._setZoomTransforms(e,i)},_setZoomTransforms:function(e,i){for(var s in this._levels)this._setZoomTransform(this._levels[s],e,i)},_setZoomTransform:function(e,i,s){var d=this._map.getZoomScale(s,e.zoom),u=e.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(i,s)).round();j.any3d?li(e.el,u,d):Ce(e.el,u)},_resetGrid:function(){var e=this._map,i=e.options.crs,s=this._tileSize=this.getTileSize(),d=this._tileZoom,u=this._map.getPixelWorldBounds(this._tileZoom);u&&(this._globalTileRange=this._pxBoundsToTileRange(u)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,i.wrapLng[0]],d).x/s.x),Math.ceil(e.project([0,i.wrapLng[1]],d).x/s.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([i.wrapLat[0],0],d).y/s.x),Math.ceil(e.project([i.wrapLat[1],0],d).y/s.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var i=this._map,s=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),d=i.getZoomScale(s,this._tileZoom),u=i.project(e,this._tileZoom).floor(),_=i.getSize().divideBy(d*2);return new Z(u.subtract(_),u.add(_))},_update:function(e){var i=this._map;if(i){var s=this._clampZoom(i.getZoom());if(e===void 0&&(e=i.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(e),u=this._pxBoundsToTileRange(d),_=u.getCenter(),v=[],k=this.options.keepBuffer,S=new Z(u.getBottomLeft().subtract([k,-k]),u.getTopRight().add([k,-k]));if(!(isFinite(u.min.x)&&isFinite(u.min.y)&&isFinite(u.max.x)&&isFinite(u.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var C in this._tiles){var Y=this._tiles[C].coords;(Y.z!==this._tileZoom||!S.contains(new D(Y.x,Y.y)))&&(this._tiles[C].current=!1)}if(Math.abs(s-this._tileZoom)>1){this._setView(e,s);return}for(var Q=u.min.y;Q<=u.max.y;Q++)for(var ae=u.min.x;ae<=u.max.x;ae++){var st=new D(ae,Q);if(st.z=this._tileZoom,!!this._isValidTile(st)){var We=this._tiles[this._tileCoordsToKey(st)];We?We.current=!0:v.push(st)}}if(v.sort(function(mt,rn){return mt.distanceTo(_)-rn.distanceTo(_)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var At=document.createDocumentFragment();for(ae=0;ae<v.length;ae++)this._addTile(v[ae],At);this._level.el.appendChild(At)}}}},_isValidTile:function(e){var i=this._map.options.crs;if(!i.infinite){var s=this._globalTileRange;if(!i.wrapLng&&(e.x<s.min.x||e.x>s.max.x)||!i.wrapLat&&(e.y<s.min.y||e.y>s.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(e);return ne(this.options.bounds).overlaps(d)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var i=this._map,s=this.getTileSize(),d=e.scaleBy(s),u=d.add(s),_=i.unproject(d,e.z),v=i.unproject(u,e.z);return[_,v]},_tileCoordsToBounds:function(e){var i=this._tileCoordsToNwSe(e),s=new xe(i[0],i[1]);return this.options.noWrap||(s=this._map.wrapLatLngBounds(s)),s},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var i=e.split(":"),s=new D(+i[0],+i[1]);return s.z=+i[2],s},_removeTile:function(e){var i=this._tiles[e];i&&(Le(i.el),delete this._tiles[e],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){ie(e,"leaflet-tile");var i=this.getTileSize();e.style.width=i.x+"px",e.style.height=i.y+"px",e.onselectstart=x,e.onmousemove=x,j.ielt9&&this.options.opacity<1&&St(e,this.options.opacity)},_addTile:function(e,i){var s=this._getTilePos(e),d=this._tileCoordsToKey(e),u=this.createTile(this._wrapCoords(e),o(this._tileReady,this,e));this._initTile(u),this.createTile.length<2&&Pe(o(this._tileReady,this,e,null,u)),Ce(u,s),this._tiles[d]={el:u,coords:e,current:!0},i.appendChild(u),this.fire("tileloadstart",{tile:u,coords:e})},_tileReady:function(e,i,s){i&&this.fire("tileerror",{error:i,tile:s,coords:e});var d=this._tileCoordsToKey(e);s=this._tiles[d],s&&(s.loaded=+new Date,this._map._fadeAnimated?(St(s.el,0),ze(this._fadeFrame),this._fadeFrame=Pe(this._updateOpacity,this)):(s.active=!0,this._pruneTiles()),i||(ie(s.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:s.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),j.ielt9||!this._map._fadeAnimated?Pe(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var i=new D(this._wrapX?w(e.x,this._wrapX):e.x,this._wrapY?w(e.y,this._wrapY):e.y);return i.z=e.z,i},_pxBoundsToTileRange:function(e){var i=this.getTileSize();return new Z(e.min.unscaleBy(i).floor(),e.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Pl(e){return new Nn(e)}var an=Nn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,i){this._url=e,i=V(this,i),i.detectRetina&&j.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,i){return this._url===e&&i===void 0&&(i=!0),this._url=e,i||this.redraw(),this},createTile:function(e,i){var s=document.createElement("img");return te(s,"load",o(this._tileOnLoad,this,i,s)),te(s,"error",o(this._tileOnError,this,i,s)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(s.referrerPolicy=this.options.referrerPolicy),s.alt="",s.src=this.getTileUrl(e),s},getTileUrl:function(e){var i={r:j.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var s=this._globalTileRange.max.y-e.y;this.options.tms&&(i.y=s),i["-y"]=s}return fe(this._url,t(i,this.options))},_tileOnLoad:function(e,i){j.ielt9?setTimeout(o(e,this,null,i),0):e(null,i)},_tileOnError:function(e,i,s){var d=this.options.errorTileUrl;d&&i.getAttribute("src")!==d&&(i.src=d),e(s,i)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,i=this.options.maxZoom,s=this.options.zoomReverse,d=this.options.zoomOffset;return s&&(e=i-e),e+d},_getSubdomain:function(e){var i=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var e,i;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(i=this._tiles[e].el,i.onload=x,i.onerror=x,!i.complete)){i.src=Ie;var s=this._tiles[e].coords;Le(i),delete this._tiles[e],this.fire("tileabort",{tile:i,coords:s})}},_removeTile:function(e){var i=this._tiles[e];if(i)return i.el.setAttribute("src",Ie),Nn.prototype._removeTile.call(this,e)},_tileReady:function(e,i,s){if(!(!this._map||s&&s.getAttribute("src")===Ie))return Nn.prototype._tileReady.call(this,e,i,s)}});function Es(e,i){return new an(e,i)}var Ps=an.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,i){this._url=e;var s=t({},this.defaultWmsParams);for(var d in i)d in this.options||(s[d]=i[d]);i=V(this,i);var u=i.detectRetina&&j.retina?2:1,_=this.getTileSize();s.width=_.x*u,s.height=_.y*u,this.wmsParams=s},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,an.prototype.onAdd.call(this,e)},getTileUrl:function(e){var i=this._tileCoordsToNwSe(e),s=this._crs,d=re(s.project(i[0]),s.project(i[1])),u=d.min,_=d.max,v=(this._wmsVersion>=1.3&&this._crs===bs?[u.y,u.x,_.y,_.x]:[u.x,u.y,_.x,_.y]).join(","),k=an.prototype.getTileUrl.call(this,e);return k+E(this.wmsParams,k,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(e,i){return t(this.wmsParams,e),i||this.redraw(),this}});function Ll(e,i){return new Ps(e,i)}an.WMS=Ps,Es.wms=Ll;var ai=Ct.extend({options:{padding:.1},initialize:function(e){V(this,e),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ie(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,i){var s=this._map.getZoomScale(i,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),u=this._map.project(this._center,i),_=d.multiplyBy(-s).add(u).subtract(this._map._getNewPixelOrigin(e,i));j.any3d?li(this._container,_,s):Ce(this._container,_)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,i=this._map.getSize(),s=this._map.containerPointToLayerPoint(i.multiplyBy(-e)).round();this._bounds=new Z(s,s.add(i.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ls=ai.extend({options:{tolerance:0},getEvents:function(){var e=ai.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ai.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");te(e,"mousemove",this._onMouseMove,this),te(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),te(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){ze(this._redrawRequest),delete this._ctx,Le(this._container),Se(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var i in this._layers)e=this._layers[i],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ai.prototype._update.call(this);var e=this._bounds,i=this._container,s=e.getSize(),d=j.retina?2:1;Ce(i,e.min),i.width=d*s.x,i.height=d*s.y,i.style.width=s.x+"px",i.style.height=s.y+"px",j.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){ai.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[f(e)]=e;var i=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var i=e._order,s=i.next,d=i.prev;s?s.prev=d:this._drawLast=d,d?d.next=s:this._drawFirst=s,delete e._order,delete this._layers[f(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var i=e.options.dashArray.split(/[, ]+/),s=[],d,u;for(u=0;u<i.length;u++){if(d=Number(i[u]),isNaN(d))return;s.push(d)}e.options._dashArray=s}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||Pe(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var i=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(e._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(e._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var i=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,i=this._redrawBounds;if(this._ctx.save(),i){var s=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,s.x,s.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)e=d.layer,(!i||e._pxBounds&&e._pxBounds.intersects(i))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,i){if(this._drawing){var s,d,u,_,v=e._parts,k=v.length,S=this._ctx;if(k){for(S.beginPath(),s=0;s<k;s++){for(d=0,u=v[s].length;d<u;d++)_=v[s][d],S[d?"lineTo":"moveTo"](_.x,_.y);i&&S.closePath()}this._fillStroke(S,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var i=e._point,s=this._ctx,d=Math.max(Math.round(e._radius),1),u=(Math.max(Math.round(e._radiusY),1)||d)/d;u!==1&&(s.save(),s.scale(1,u)),s.beginPath(),s.arc(i.x,i.y/u,d,0,Math.PI*2,!1),u!==1&&s.restore(),this._fillStroke(s,e)}},_fillStroke:function(e,i){var s=i.options;s.fill&&(e.globalAlpha=s.fillOpacity,e.fillStyle=s.fillColor||s.color,e.fill(s.fillRule||"evenodd")),s.stroke&&s.weight!==0&&(e.setLineDash&&e.setLineDash(i.options&&i.options._dashArray||[]),e.globalAlpha=s.opacity,e.lineWidth=s.weight,e.strokeStyle=s.color,e.lineCap=s.lineCap,e.lineJoin=s.lineJoin,e.stroke())},_onClick:function(e){for(var i=this._map.mouseEventToLayerPoint(e),s,d,u=this._drawFirst;u;u=u.next)s=u.layer,s.options.interactive&&s._containsPoint(i)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(s))&&(d=s);this._fireEvent(d?[d]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,i)}},_handleMouseOut:function(e){var i=this._hoveredLayer;i&&(Fe(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,i){if(!this._mouseHoverThrottled){for(var s,d,u=this._drawFirst;u;u=u.next)s=u.layer,s.options.interactive&&s._containsPoint(i)&&(d=s);d!==this._hoveredLayer&&(this._handleMouseOut(e),d&&(ie(this._container,"leaflet-interactive"),this._fireEvent([d],e,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,i,s){this._map._fireDOMEvent(i,s||i.type,e)},_bringToFront:function(e){var i=e._order;if(i){var s=i.next,d=i.prev;if(s)s.prev=d;else return;d?d.next=s:s&&(this._drawFirst=s),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(e)}},_bringToBack:function(e){var i=e._order;if(i){var s=i.next,d=i.prev;if(d)d.next=s;else return;s?s.prev=d:d&&(this._drawLast=d),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(e)}}});function Is(e){return j.canvas?new Ls(e):null}var zn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Il={_initContainer:function(){this._container=he("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ai.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var i=e._container=zn("shape");ie(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",e._path=zn("path"),i.appendChild(e._path),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){var i=e._container;this._container.appendChild(i),e.options.interactive&&e.addInteractiveTarget(i)},_removePath:function(e){var i=e._container;Le(i),e.removeInteractiveTarget(i),delete this._layers[f(e)]},_updateStyle:function(e){var i=e._stroke,s=e._fill,d=e.options,u=e._container;u.stroked=!!d.stroke,u.filled=!!d.fill,d.stroke?(i||(i=e._stroke=zn("stroke")),u.appendChild(i),i.weight=d.weight+"px",i.color=d.color,i.opacity=d.opacity,d.dashArray?i.dashStyle=oe(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=d.lineCap.replace("butt","flat"),i.joinstyle=d.lineJoin):i&&(u.removeChild(i),e._stroke=null),d.fill?(s||(s=e._fill=zn("fill")),u.appendChild(s),s.color=d.fillColor||d.color,s.opacity=d.fillOpacity):s&&(u.removeChild(s),e._fill=null)},_updateCircle:function(e){var i=e._point.round(),s=Math.round(e._radius),d=Math.round(e._radiusY||s);this._setPath(e,e._empty()?"M0 0":"AL "+i.x+","+i.y+" "+s+","+d+" 0,"+65535*360)},_setPath:function(e,i){e._path.v=i},_bringToFront:function(e){qi(e._container)},_bringToBack:function(e){ki(e._container)}},Aa=j.vml?zn:ts,Vn=ai.extend({_initContainer:function(){this._container=Aa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Aa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Le(this._container),Se(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ai.prototype._update.call(this);var e=this._bounds,i=e.getSize(),s=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,s.setAttribute("width",i.x),s.setAttribute("height",i.y)),Ce(s,e.min),s.setAttribute("viewBox",[e.min.x,e.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(e){var i=e._path=Aa("path");e.options.className&&ie(i,e.options.className),e.options.interactive&&ie(i,"leaflet-interactive"),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Le(e._path),e.removeInteractiveTarget(e._path),delete this._layers[f(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var i=e._path,s=e.options;i&&(s.stroke?(i.setAttribute("stroke",s.color),i.setAttribute("stroke-opacity",s.opacity),i.setAttribute("stroke-width",s.weight),i.setAttribute("stroke-linecap",s.lineCap),i.setAttribute("stroke-linejoin",s.lineJoin),s.dashArray?i.setAttribute("stroke-dasharray",s.dashArray):i.removeAttribute("stroke-dasharray"),s.dashOffset?i.setAttribute("stroke-dashoffset",s.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),s.fill?(i.setAttribute("fill",s.fillColor||s.color),i.setAttribute("fill-opacity",s.fillOpacity),i.setAttribute("fill-rule",s.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(e,i){this._setPath(e,is(e._parts,i))},_updateCircle:function(e){var i=e._point,s=Math.max(Math.round(e._radius),1),d=Math.max(Math.round(e._radiusY),1)||s,u="a"+s+","+d+" 0 1,0 ",_=e._empty()?"M0 0":"M"+(i.x-s)+","+i.y+u+s*2+",0 "+u+-s*2+",0 ";this._setPath(e,_)},_setPath:function(e,i){e._path.setAttribute("d",i)},_bringToFront:function(e){qi(e._path)},_bringToBack:function(e){ki(e._path)}});j.vml&&Vn.include(Il);function Os(e){return j.svg||j.vml?new Vn(e):null}le.include({getRenderer:function(e){var i=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var i=this._paneRenderers[e];return i===void 0&&(i=this._createRenderer({pane:e}),this._paneRenderers[e]=i),i},_createRenderer:function(e){return this.options.preferCanvas&&Is(e)||Os(e)}});var Bn=Ei.extend({initialize:function(e,i){Ei.prototype.initialize.call(this,this._boundsToLatLngs(e),i)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=ne(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Ol(e,i){return new Bn(e,i)}Vn.create=Aa,Vn.pointsToPath=is,Nt.geometryToLayer=tn,Nt.coordsToLatLng=Pr,Nt.coordsToLatLngs=Sa,Nt.latLngToCoords=Lr,Nt.latLngsToCoords=Ma,Nt.getFeature=nn,Nt.asFeature=Da,le.mergeOptions({boxZoom:!0});var Rs=Mt.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Se(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Le(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Dn(),_r(),this._startPoint=this._map.mouseEventToContainerPoint(e),te(document,{contextmenu:Di,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=he("div","leaflet-zoom-box",this._container),ie(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var i=new Z(this._point,this._startPoint),s=i.getSize();Ce(this._box,i.min),this._box.style.width=s.x+"px",this._box.style.height=s.y+"px"},_finish:function(){this._moved&&(Le(this._box),Fe(this._container,"leaflet-crosshair")),Cn(),gr(),Se(document,{contextmenu:Di,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var i=new xe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});le.addInitHook("addHandler","boxZoom",Rs),le.mergeOptions({doubleClickZoom:!0});var Fs=Mt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var i=this._map,s=i.getZoom(),d=i.options.zoomDelta,u=e.originalEvent.shiftKey?s-d:s+d;i.options.doubleClickZoom==="center"?i.setZoom(u):i.setZoomAround(e.containerPoint,u)}});le.addInitHook("addHandler","doubleClickZoom",Fs),le.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ns=Mt.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new di(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}ie(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Fe(this._map._container,"leaflet-grab"),Fe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=ne(this._map.options.maxBounds);this._offsetLimit=re(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var i=this._lastTime=+new Date,s=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(s),this._times.push(i),this._prunePositions(i)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,i){return e-(e-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;e.x<i.min.x&&(e.x=this._viscousLimit(e.x,i.min.x)),e.y<i.min.y&&(e.y=this._viscousLimit(e.y,i.min.y)),e.x>i.max.x&&(e.x=this._viscousLimit(e.x,i.max.x)),e.y>i.max.y&&(e.y=this._viscousLimit(e.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,i=Math.round(e/2),s=this._initialWorldOffset,d=this._draggable._newPos.x,u=(d-i+s)%e+i-s,_=(d+i+s)%e-i-s,v=Math.abs(u+s)<Math.abs(_+s)?u:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(e){var i=this._map,s=i.options,d=!s.inertia||e.noInertia||this._times.length<2;if(i.fire("dragend",e),d)i.fire("moveend");else{this._prunePositions(+new Date);var u=this._lastPos.subtract(this._positions[0]),_=(this._lastTime-this._times[0])/1e3,v=s.easeLinearity,k=u.multiplyBy(v/_),S=k.distanceTo([0,0]),C=Math.min(s.inertiaMaxSpeed,S),Y=k.multiplyBy(C/S),Q=C/(s.inertiaDeceleration*v),ae=Y.multiplyBy(-Q/2).round();!ae.x&&!ae.y?i.fire("moveend"):(ae=i._limitOffset(ae,i.options.maxBounds),Pe(function(){i.panBy(ae,{duration:Q,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});le.addInitHook("addHandler","dragging",Ns),le.mergeOptions({keyboard:!0,keyboardPanDelta:80});var zs=Mt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),te(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Se(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,i=document.documentElement,s=e.scrollTop||i.scrollTop,d=e.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(d,s)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var i=this._panKeys={},s=this.keyCodes,d,u;for(d=0,u=s.left.length;d<u;d++)i[s.left[d]]=[-1*e,0];for(d=0,u=s.right.length;d<u;d++)i[s.right[d]]=[e,0];for(d=0,u=s.down.length;d<u;d++)i[s.down[d]]=[0,e];for(d=0,u=s.up.length;d<u;d++)i[s.up[d]]=[0,-1*e]},_setZoomDelta:function(e){var i=this._zoomKeys={},s=this.keyCodes,d,u;for(d=0,u=s.zoomIn.length;d<u;d++)i[s.zoomIn[d]]=e;for(d=0,u=s.zoomOut.length;d<u;d++)i[s.zoomOut[d]]=-e},_addHooks:function(){te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Se(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var i=e.keyCode,s=this._map,d;if(i in this._panKeys){if(!s._panAnim||!s._panAnim._inProgress)if(d=this._panKeys[i],e.shiftKey&&(d=T(d).multiplyBy(3)),s.options.maxBounds&&(d=s._limitOffset(T(d),s.options.maxBounds)),s.options.worldCopyJump){var u=s.wrapLatLng(s.unproject(s.project(s.getCenter()).add(d)));s.panTo(u)}else s.panBy(d)}else if(i in this._zoomKeys)s.setZoom(s.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&s._popup&&s._popup.options.closeOnEscapeKey)s.closePopup();else return;Di(e)}}});le.addInitHook("addHandler","keyboard",zs),le.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Vs=Mt.extend({addHooks:function(){te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Se(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var i=ms(e),s=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var d=Math.max(s-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),d),Di(e)},_performZoom:function(){var e=this._map,i=e.getZoom(),s=this._map.options.zoomSnap||0;e._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),u=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,_=s?Math.ceil(u/s)*s:u,v=e._limitZoom(i+(this._delta>0?_:-_))-i;this._delta=0,this._startTime=null,v&&(e.options.scrollWheelZoom==="center"?e.setZoom(i+v):e.setZoomAround(this._lastMousePos,i+v))}});le.addInitHook("addHandler","scrollWheelZoom",Vs);var Rl=600;le.mergeOptions({tapHold:j.touchNative&&j.safari&&j.mobile,tapTolerance:15});var Bs=Mt.extend({addHooks:function(){te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Se(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var i=e.touches[0];this._startPos=this._newPos=new D(i.clientX,i.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(te(document,"touchend",qe),te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),Rl),te(document,"touchend touchcancel contextmenu",this._cancel,this),te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Se(document,"touchend",qe),Se(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Se(document,"touchend touchcancel contextmenu",this._cancel,this),Se(document,"touchmove",this._onMove,this)},_onMove:function(e){var i=e.touches[0];this._newPos=new D(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,i){var s=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});s._simulated=!0,i.target.dispatchEvent(s)}});le.addInitHook("addHandler","tapHold",Bs),le.mergeOptions({touchZoom:j.touch,bounceAtZoomLimits:!0});var Or=Mt.extend({addHooks:function(){ie(this._map._container,"leaflet-touch-zoom"),te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Fe(this._map._container,"leaflet-touch-zoom"),Se(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var i=this._map;if(!(!e.touches||e.touches.length!==2||i._animatingZoom||this._zooming)){var s=i.mouseEventToContainerPoint(e.touches[0]),d=i.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(s.add(d)._divideBy(2))),this._startDist=s.distanceTo(d),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),te(document,"touchmove",this._onTouchMove,this),te(document,"touchend touchcancel",this._onTouchEnd,this),qe(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var i=this._map,s=i.mouseEventToContainerPoint(e.touches[0]),d=i.mouseEventToContainerPoint(e.touches[1]),u=s.distanceTo(d)/this._startDist;if(this._zoom=i.getScaleZoom(u,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&u<1||this._zoom>i.getMaxZoom()&&u>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,u===1)return}else{var _=s._add(d)._divideBy(2)._subtract(this._centerPoint);if(u===1&&_.x===0&&_.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),ze(this._animRequest);var v=o(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Pe(v,this,!0),qe(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ze(this._animRequest),Se(document,"touchmove",this._onTouchMove,this),Se(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});le.addInitHook("addHandler","touchZoom",Or),le.BoxZoom=Rs,le.DoubleClickZoom=Fs,le.Drag=Ns,le.Keyboard=zs,le.ScrollWheelZoom=Vs,le.TapHold=Bs,le.TouchZoom=Or,c.Bounds=Z,c.Browser=j,c.CRS=xt,c.Canvas=Ls,c.Circle=en,c.CircleMarker=wa,c.Class=Ue,c.Control=Rt,c.DivIcon=Ts,c.DivOverlay=zt,c.DomEvent=us,c.DomUtil=hl,c.Draggable=di,c.Evented=Zt,c.FeatureGroup=ce,c.GeoJSON=Nt,c.GridLayer=Nn,c.Handler=Mt,c.Icon=Ji,c.ImageOverlay=Ca,c.LatLng=R,c.LatLngBounds=xe,c.Layer=Ct,c.LayerGroup=Xi,c.LineUtil=Ar,c.Map=le,c.Marker=ba,c.Mixin=_l,c.Path=hi,c.Point=D,c.PolyUtil=gl,c.Polygon=Ei,c.Polyline=Ft,c.Popup=Ta,c.PosAnimation=ps,c.Projection=wl,c.Rectangle=Bn,c.Renderer=ai,c.SVG=Vn,c.SVGOverlay=Tt,c.TileLayer=an,c.Tooltip=Fn,c.Transformation=Je,c.Util=ft,c.VideoOverlay=Ds,c.bind=o,c.bounds=re,c.canvas=Is,c.circle=xa,c.circleMarker=Ml,c.control=$i,c.divIcon=As,c.extend=t,c.featureGroup=Sl,c.geoJSON=Ss,c.geoJson=Tl,c.gridLayer=Pl,c.icon=xs,c.imageOverlay=Ms,c.latLng=U,c.latLngBounds=ne,c.layerGroup=ws,c.map=ml,c.marker=Rn,c.point=T,c.polygon=Cl,c.polyline=Dl,c.popup=Cs,c.rectangle=Ol,c.setOptions=V,c.stamp=f,c.svg=Os,c.svgOverlay=Pi,c.tileLayer=Es,c.tooltip=El,c.transformation=jt,c.version=r,c.videoOverlay=Al;var Ys=window.L;c.noConflict=function(){return window.L=Ys,this},window.L=c})});var fc=_d((pc,Xa)=>{(function(c,r){typeof pc=="object"&&typeof Xa<"u"?Xa.exports=r():typeof define=="function"&&define.amd?define(r):c.moment=r()})(pc,function(){"use strict";var c;function r(){return c.apply(null,arguments)}function t(n){c=n}function a(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function o(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function h(n,l){return Object.prototype.hasOwnProperty.call(n,l)}function f(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var l;for(l in n)if(h(n,l))return!1;return!0}function y(n){return n===void 0}function w(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function x(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function O(n,l){var m=[],p,g=n.length;for(p=0;p<g;++p)m.push(l(n[p],p));return m}function z(n,l){for(var m in l)h(l,m)&&(n[m]=l[m]);return h(l,"toString")&&(n.toString=l.toString),h(l,"valueOf")&&(n.valueOf=l.valueOf),n}function B(n,l,m,p){return ws(n,l,m,p,!0).utc()}function V(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function E(n){return n._pf==null&&(n._pf=V()),n._pf}var K;Array.prototype.some?K=Array.prototype.some:K=function(n){var l=Object(this),m=l.length>>>0,p;for(p=0;p<m;p++)if(p in l&&n.call(this,l[p],p,l))return!0;return!1};function fe(n){var l=null,m=!1,p=n._d&&!isNaN(n._d.getTime());if(p&&(l=E(n),m=K.call(l.parsedDateParts,function(g){return g!=null}),p=l.overflow<0&&!l.empty&&!l.invalidEra&&!l.invalidMonth&&!l.invalidWeekday&&!l.weekdayMismatch&&!l.nullInput&&!l.invalidFormat&&!l.userInvalidated&&(!l.meridiem||l.meridiem&&m),n._strict&&(p=p&&l.charsLeftOver===0&&l.unusedTokens.length===0&&l.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=p;else return p;return n._isValid}function oe(n){var l=B(NaN);return n!=null?z(E(l),n):E(l).userInvalidated=!0,l}var Te=r.momentProperties=[],Ie=!1;function Ae(n,l){var m,p,g,b=Te.length;if(y(l._isAMomentObject)||(n._isAMomentObject=l._isAMomentObject),y(l._i)||(n._i=l._i),y(l._f)||(n._f=l._f),y(l._l)||(n._l=l._l),y(l._strict)||(n._strict=l._strict),y(l._tzm)||(n._tzm=l._tzm),y(l._isUTC)||(n._isUTC=l._isUTC),y(l._offset)||(n._offset=l._offset),y(l._pf)||(n._pf=E(l)),y(l._locale)||(n._locale=l._locale),b>0)for(m=0;m<b;m++)p=Te[m],g=l[p],y(g)||(n[p]=g);return n}function pt(n){Ae(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Ie===!1&&(Ie=!0,r.updateOffset(this),Ie=!1)}function Ee(n){return n instanceof pt||n!=null&&n._isAMomentObject!=null}function Ne(n){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+n)}function ge(n,l){var m=!0;return z(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,n),m){var p=[],g,b,M,W=arguments.length;for(b=0;b<W;b++){if(g="",typeof arguments[b]=="object"){g+=`
[`+b+"] ";for(M in arguments[0])h(arguments[0],M)&&(g+=M+": "+arguments[0][M]+", ");g=g.slice(0,-2)}else g=arguments[b];p.push(g)}Ne(n+`
Arguments: `+Array.prototype.slice.call(p).join("")+`
`+new Error().stack),m=!1}return l.apply(this,arguments)},l)}var Pe={};function ze(n,l){r.deprecationHandler!=null&&r.deprecationHandler(n,l),Pe[n]||(Ne(l),Pe[n]=!0)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;function ft(n){return typeof Function<"u"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function Ue(n){var l,m;for(m in n)h(n,m)&&(l=n[m],ft(l)?this[m]=l:this["_"+m]=l);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function vi(n,l){var m=z({},n),p;for(p in l)h(l,p)&&(o(n[p])&&o(l[p])?(m[p]={},z(m[p],n[p]),z(m[p],l[p])):l[p]!=null?m[p]=l[p]:delete m[p]);for(p in n)h(n,p)&&!h(l,p)&&o(n[p])&&(m[p]=z({},m[p]));return m}function He(n){n!=null&&this.set(n)}var Zt;Object.keys?Zt=Object.keys:Zt=function(n){var l,m=[];for(l in n)h(n,l)&&m.push(l);return m};var D={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function G(n,l,m){var p=this._calendar[n]||this._calendar.sameElse;return ft(p)?p.call(l,m):p}function T(n,l,m){var p=""+Math.abs(n),g=l-p.length,b=n>=0;return(b?m?"+":"":"-")+Math.pow(10,Math.max(0,g)).toString().substr(1)+p}var Z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,re=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,xe={},ne={};function R(n,l,m,p){var g=p;typeof p=="string"&&(g=function(){return this[p]()}),n&&(ne[n]=g),l&&(ne[l[0]]=function(){return T(g.apply(this,arguments),l[1],l[2])}),m&&(ne[m]=function(){return this.localeData().ordinal(g.apply(this,arguments),n)})}function U(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function xt(n){var l=n.match(Z),m,p;for(m=0,p=l.length;m<p;m++)ne[l[m]]?l[m]=ne[l[m]]:l[m]=U(l[m]);return function(g){var b="",M;for(M=0;M<p;M++)b+=ft(l[M])?l[M].call(g,n):l[M];return b}}function _t(n,l){return n.isValid()?(l=Ve(l,n.localeData()),xe[l]=xe[l]||xt(l),xe[l](n)):n.localeData().invalidDate()}function Ve(n,l){var m=5;function p(g){return l.longDateFormat(g)||g}for(re.lastIndex=0;m>=0&&re.test(n);)n=n.replace(re,p),re.lastIndex=0,m-=1;return n}var It={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Je(n){var l=this._longDateFormat[n],m=this._longDateFormat[n.toUpperCase()];return l||!m?l:(this._longDateFormat[n]=m.match(Z).map(function(p){return p==="MMMM"||p==="MM"||p==="DD"||p==="dddd"?p.slice(1):p}).join(""),this._longDateFormat[n])}var jt="Invalid date";function bi(){return this._invalidDate}var el="%d",ts=/\d{1,2}/;function is(n){return this._ordinal.replace("%d",n)}var rr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ra(n,l,m,p){var g=this._relativeTime[m];return ft(g)?g(n,l,m,p):g.replace(/%d/i,n)}function tl(n,l){var m=this._relativeTime[n>0?"future":"past"];return ft(m)?m(l):m.replace(/%s/i,l)}var sr={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function dt(n){return typeof n=="string"?sr[n]||sr[n.toLowerCase()]:void 0}function sa(n){var l={},m,p;for(p in n)h(n,p)&&(m=dt(p),m&&(l[m]=n[p]));return l}var ns={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function il(n){var l=[],m;for(m in n)h(n,m)&&l.push({unit:m,priority:ns[m]});return l.sort(function(p,g){return p.priority-g.priority}),l}var as=/\d/,at=/\d\d/,or=/\d{3}/,oa=/\d{4}/,la=/[+-]?\d{6}/,ke=/\d\d?/,lr=/\d\d\d\d?/,rs=/\d\d\d\d\d\d?/,_n=/\d{1,3}/,gn=/\d{1,4}/,yn=/[+-]?\d{1,6}/,ji=/\d+/,oi=/[+-]?\d+/,nl=/Z|[+-]\d\d:?\d\d/gi,ca=/Z|[+-]\d\d(?::?\d\d)?/gi,ss=/[+-]?\d+(\.\d{1,3})?/,Ui=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,wi=/^[1-9]\d?/,cr=/^([1-9]\d|\d)/,da;da={};function H(n,l,m){da[n]=ft(l)?l:function(p,g){return p&&m?m:l}}function al(n,l){return h(da,n)?da[n](l._strict,l._locale):new RegExp(rl(n))}function rl(n){return ni(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(l,m,p,g,b){return m||p||g||b}))}function ni(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ht(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function se(n){var l=+n,m=0;return l!==0&&isFinite(l)&&(m=ht(l)),m}var dr={};function ye(n,l){var m,p=l,g;for(typeof n=="string"&&(n=[n]),w(l)&&(p=function(b,M){M[l]=se(b)}),g=n.length,m=0;m<g;m++)dr[n[m]]=p}function vn(n,l){ye(n,function(m,p,g,b){g._w=g._w||{},l(m,g._w,g,b)})}function Ut(n,l,m){l!=null&&h(dr,n)&&dr[n](l,m._a,m,n)}function j(n){return n%4===0&&n%100!==0||n%400===0}var Ge=0,Gt=1,Ot=2,Be=3,gt=4,qt=5,kt=6,os=7,sl=8;R("Y",0,0,function(){var n=this.year();return n<=9999?T(n,4):"+"+n}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),H("Y",oi),H("YY",ke,at),H("YYYY",gn,oa),H("YYYYY",yn,la),H("YYYYYY",yn,la),ye(["YYYYY","YYYYYY"],Ge),ye("YYYY",function(n,l){l[Ge]=n.length===2?r.parseTwoDigitYear(n):se(n)}),ye("YY",function(n,l){l[Ge]=r.parseTwoDigitYear(n)}),ye("Y",function(n,l){l[Ge]=parseInt(n,10)});function bn(n){return j(n)?366:365}r.parseTwoDigitYear=function(n){return se(n)+(se(n)>68?1900:2e3)};var ls=xi("FullYear",!0);function ol(){return j(this.year())}function xi(n,l){return function(m){return m!=null?(xn(this,n,m),r.updateOffset(this,l),this):wn(this,n)}}function wn(n,l){if(!n.isValid())return NaN;var m=n._d,p=n._isUTC;switch(l){case"Milliseconds":return p?m.getUTCMilliseconds():m.getMilliseconds();case"Seconds":return p?m.getUTCSeconds():m.getSeconds();case"Minutes":return p?m.getUTCMinutes():m.getMinutes();case"Hours":return p?m.getUTCHours():m.getHours();case"Date":return p?m.getUTCDate():m.getDate();case"Day":return p?m.getUTCDay():m.getDay();case"Month":return p?m.getUTCMonth():m.getMonth();case"FullYear":return p?m.getUTCFullYear():m.getFullYear();default:return NaN}}function xn(n,l,m){var p,g,b,M,W;if(!(!n.isValid()||isNaN(m))){switch(p=n._d,g=n._isUTC,l){case"Milliseconds":return void(g?p.setUTCMilliseconds(m):p.setMilliseconds(m));case"Seconds":return void(g?p.setUTCSeconds(m):p.setSeconds(m));case"Minutes":return void(g?p.setUTCMinutes(m):p.setMinutes(m));case"Hours":return void(g?p.setUTCHours(m):p.setHours(m));case"Date":return void(g?p.setUTCDate(m):p.setDate(m));case"FullYear":break;default:return}b=m,M=n.month(),W=n.date(),W=W===29&&M===1&&!j(b)?28:W,g?p.setUTCFullYear(b,M,W):p.setFullYear(b,M,W)}}function ll(n){return n=dt(n),ft(this[n])?this[n]():this}function cl(n,l){if(typeof n=="object"){n=sa(n);var m=il(n),p,g=m.length;for(p=0;p<g;p++)this[m[p].unit](n[m[p].unit])}else if(n=dt(n),ft(this[n]))return this[n](l);return this}function dl(n,l){return(n%l+l)%l}var Re;Array.prototype.indexOf?Re=Array.prototype.indexOf:Re=function(n){var l;for(l=0;l<this.length;++l)if(this[l]===n)return l;return-1};function hr(n,l){if(isNaN(n)||isNaN(l))return NaN;var m=dl(l,12);return n+=(l-m)/12,m===1?j(n)?29:28:31-m%7%2}R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)}),R("MMMM",0,0,function(n){return this.localeData().months(this,n)}),H("M",ke,wi),H("MM",ke,at),H("MMM",function(n,l){return l.monthsShortRegex(n)}),H("MMMM",function(n,l){return l.monthsRegex(n)}),ye(["M","MM"],function(n,l){l[Gt]=se(n)-1}),ye(["MMM","MMMM"],function(n,l,m,p){var g=m._locale.monthsParse(n,p,m._strict);g!=null?l[Gt]=g:E(m).invalidMonth=n});var mr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Gi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ur=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,cs=Ui,kn=Ui;function he(n,l){return n?a(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||ur).test(l)?"format":"standalone"][n.month()]:a(this._months)?this._months:this._months.standalone}function Le(n,l){return n?a(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[ur.test(l)?"format":"standalone"][n.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ha(n,l,m){var p,g,b,M=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],p=0;p<12;++p)b=B([2e3,p]),this._shortMonthsParse[p]=this.monthsShort(b,"").toLocaleLowerCase(),this._longMonthsParse[p]=this.months(b,"").toLocaleLowerCase();return m?l==="MMM"?(g=Re.call(this._shortMonthsParse,M),g!==-1?g:null):(g=Re.call(this._longMonthsParse,M),g!==-1?g:null):l==="MMM"?(g=Re.call(this._shortMonthsParse,M),g!==-1?g:(g=Re.call(this._longMonthsParse,M),g!==-1?g:null)):(g=Re.call(this._longMonthsParse,M),g!==-1?g:(g=Re.call(this._shortMonthsParse,M),g!==-1?g:null))}function qi(n,l,m){var p,g,b;if(this._monthsParseExact)return ha.call(this,n,l,m);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),p=0;p<12;p++){if(g=B([2e3,p]),m&&!this._longMonthsParse[p]&&(this._longMonthsParse[p]=new RegExp("^"+this.months(g,"").replace(".","")+"$","i"),this._shortMonthsParse[p]=new RegExp("^"+this.monthsShort(g,"").replace(".","")+"$","i")),!m&&!this._monthsParse[p]&&(b="^"+this.months(g,"")+"|^"+this.monthsShort(g,""),this._monthsParse[p]=new RegExp(b.replace(".",""),"i")),m&&l==="MMMM"&&this._longMonthsParse[p].test(n))return p;if(m&&l==="MMM"&&this._shortMonthsParse[p].test(n))return p;if(!m&&this._monthsParse[p].test(n))return p}}function ki(n,l){if(!n.isValid())return n;if(typeof l=="string"){if(/^\d+$/.test(l))l=se(l);else if(l=n.localeData().monthsParse(l),!w(l))return n}var m=l,p=n.date();return p=p<29?p:Math.min(p,hr(n.year(),m)),n._isUTC?n._d.setUTCMonth(m,p):n._d.setMonth(m,p),n}function ma(n){return n!=null?(ki(this,n),r.updateOffset(this,!0),this):wn(this,"Month")}function ie(){return hr(this.year(),this.month())}function Fe(n){return this._monthsParseExact?(h(this,"_monthsRegex")||Sn.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=cs),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function pr(n){return this._monthsParseExact?(h(this,"_monthsRegex")||Sn.call(this),n?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=kn),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function Sn(){function n(J,de){return de.length-J.length}var l=[],m=[],p=[],g,b,M,W;for(g=0;g<12;g++)b=B([2e3,g]),M=ni(this.monthsShort(b,"")),W=ni(this.months(b,"")),l.push(M),m.push(W),p.push(W),p.push(M);l.sort(n),m.sort(n),p.sort(n),this._monthsRegex=new RegExp("^("+p.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+l.join("|")+")","i")}function St(n,l,m,p,g,b,M){var W;return n<100&&n>=0?(W=new Date(n+400,l,m,p,g,b,M),isFinite(W.getFullYear())&&W.setFullYear(n)):W=new Date(n,l,m,p,g,b,M),W}function Mn(n){var l,m;return n<100&&n>=0?(m=Array.prototype.slice.call(arguments),m[0]=n+400,l=new Date(Date.UTC.apply(null,m)),isFinite(l.getUTCFullYear())&&l.setUTCFullYear(n)):l=new Date(Date.UTC.apply(null,arguments)),l}function Si(n,l,m){var p=7+l-m,g=(7+Mn(n,0,p).getUTCDay()-l)%7;return-g+p-1}function li(n,l,m,p,g){var b=(7+m-p)%7,M=Si(n,p,g),W=1+7*(l-1)+b+M,J,de;return W<=0?(J=n-1,de=bn(J)+W):W>bn(n)?(J=n+1,de=W-bn(n)):(J=n,de=W),{year:J,dayOfYear:de}}function Ce(n,l,m){var p=Si(n.year(),l,m),g=Math.floor((n.dayOfYear()-p-1)/7)+1,b,M;return g<1?(M=n.year()-1,b=g+rt(M,l,m)):g>rt(n.year(),l,m)?(b=g-rt(n.year(),l,m),M=n.year()+1):(M=n.year(),b=g),{week:b,year:M}}function rt(n,l,m){var p=Si(n,l,m),g=Si(n+1,l,m);return(bn(n)-p+g)/7}R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),H("w",ke,wi),H("ww",ke,at),H("W",ke,wi),H("WW",ke,at),vn(["w","ww","W","WW"],function(n,l,m,p){l[p.substr(0,1)]=se(n)});function Dn(n){return Ce(n,this._week.dow,this._week.doy).week}var Cn={dow:0,doy:6};function fr(){return this._week.dow}function Tn(){return this._week.doy}function _r(n){var l=this.localeData().week(this);return n==null?l:this.add((n-l)*7,"d")}function gr(n){var l=Ce(this,1,4).week;return n==null?l:this.add((n-l)*7,"d")}R("d",0,"do","day"),R("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)}),R("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)}),R("dddd",0,0,function(n){return this.localeData().weekdays(this,n)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),H("d",ke),H("e",ke),H("E",ke),H("dd",function(n,l){return l.weekdaysMinRegex(n)}),H("ddd",function(n,l){return l.weekdaysShortRegex(n)}),H("dddd",function(n,l){return l.weekdaysRegex(n)}),vn(["dd","ddd","dddd"],function(n,l,m,p){var g=m._locale.weekdaysParse(n,p,m._strict);g!=null?l.d=g:E(m).invalidWeekday=n}),vn(["d","e","E"],function(n,l,m,p){l[p]=se(n)});function ua(n,l){return typeof n!="string"?n:isNaN(n)?(n=l.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function yr(n,l){return typeof n=="string"?l.weekdaysParse(n)%7||7:isNaN(n)?null:n}function An(n,l){return n.slice(l,7).concat(n.slice(0,l))}var pa="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),vr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),br="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),hl=Ui,te=Ui,$t=Ui;function Se(n,l){var m=a(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(l)?"format":"standalone"];return n===!0?An(m,this._week.dow):n?m[n.day()]:m}function ds(n){return n===!0?An(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function wr(n){return n===!0?An(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function xr(n,l,m){var p,g,b,M=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],p=0;p<7;++p)b=B([2e3,1]).day(p),this._minWeekdaysParse[p]=this.weekdaysMin(b,"").toLocaleLowerCase(),this._shortWeekdaysParse[p]=this.weekdaysShort(b,"").toLocaleLowerCase(),this._weekdaysParse[p]=this.weekdays(b,"").toLocaleLowerCase();return m?l==="dddd"?(g=Re.call(this._weekdaysParse,M),g!==-1?g:null):l==="ddd"?(g=Re.call(this._shortWeekdaysParse,M),g!==-1?g:null):(g=Re.call(this._minWeekdaysParse,M),g!==-1?g:null):l==="dddd"?(g=Re.call(this._weekdaysParse,M),g!==-1||(g=Re.call(this._shortWeekdaysParse,M),g!==-1)?g:(g=Re.call(this._minWeekdaysParse,M),g!==-1?g:null)):l==="ddd"?(g=Re.call(this._shortWeekdaysParse,M),g!==-1||(g=Re.call(this._weekdaysParse,M),g!==-1)?g:(g=Re.call(this._minWeekdaysParse,M),g!==-1?g:null)):(g=Re.call(this._minWeekdaysParse,M),g!==-1||(g=Re.call(this._weekdaysParse,M),g!==-1)?g:(g=Re.call(this._shortWeekdaysParse,M),g!==-1?g:null))}function kr(n,l,m){var p,g,b;if(this._weekdaysParseExact)return xr.call(this,n,l,m);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),p=0;p<7;p++){if(g=B([2e3,1]).day(p),m&&!this._fullWeekdaysParse[p]&&(this._fullWeekdaysParse[p]=new RegExp("^"+this.weekdays(g,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[p]=new RegExp("^"+this.weekdaysShort(g,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[p]=new RegExp("^"+this.weekdaysMin(g,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[p]||(b="^"+this.weekdays(g,"")+"|^"+this.weekdaysShort(g,"")+"|^"+this.weekdaysMin(g,""),this._weekdaysParse[p]=new RegExp(b.replace(".",""),"i")),m&&l==="dddd"&&this._fullWeekdaysParse[p].test(n))return p;if(m&&l==="ddd"&&this._shortWeekdaysParse[p].test(n))return p;if(m&&l==="dd"&&this._minWeekdaysParse[p].test(n))return p;if(!m&&this._weekdaysParse[p].test(n))return p}}function Mi(n){if(!this.isValid())return n!=null?this:NaN;var l=wn(this,"Day");return n!=null?(n=ua(n,this.localeData()),this.add(n-l,"d")):l}function Sr(n){if(!this.isValid())return n!=null?this:NaN;var l=(this.day()+7-this.localeData()._week.dow)%7;return n==null?l:this.add(n-l,"d")}function En(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var l=yr(n,this.localeData());return this.day(this.day()%7?l:l-7)}else return this.day()||7}function qe(n){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||fa.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=hl),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function Di(n){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||fa.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=te),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function hs(n){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||fa.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=$t),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function fa(){function n(yt,Ri){return Ri.length-yt.length}var l=[],m=[],p=[],g=[],b,M,W,J,de;for(b=0;b<7;b++)M=B([2e3,1]).day(b),W=ni(this.weekdaysMin(M,"")),J=ni(this.weekdaysShort(M,"")),de=ni(this.weekdays(M,"")),l.push(W),m.push(J),p.push(de),g.push(W),g.push(J),g.push(de);l.sort(n),m.sort(n),p.sort(n),g.sort(n),this._weekdaysRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+l.join("|")+")","i")}function Mr(){return this.hours()%12||12}function ms(){return this.hours()||24}R("H",["HH",2],0,"hour"),R("h",["hh",2],0,Mr),R("k",["kk",2],0,ms),R("hmm",0,0,function(){return""+Mr.apply(this)+T(this.minutes(),2)}),R("hmmss",0,0,function(){return""+Mr.apply(this)+T(this.minutes(),2)+T(this.seconds(),2)}),R("Hmm",0,0,function(){return""+this.hours()+T(this.minutes(),2)}),R("Hmmss",0,0,function(){return""+this.hours()+T(this.minutes(),2)+T(this.seconds(),2)});function _a(n,l){R(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),l)})}_a("a",!0),_a("A",!1);function us(n,l){return l._meridiemParse}H("a",us),H("A",us),H("H",ke,cr),H("h",ke,wi),H("k",ke,wi),H("HH",ke,at),H("hh",ke,at),H("kk",ke,at),H("hmm",lr),H("hmmss",rs),H("Hmm",lr),H("Hmmss",rs),ye(["H","HH"],Be),ye(["k","kk"],function(n,l,m){var p=se(n);l[Be]=p===24?0:p}),ye(["a","A"],function(n,l,m){m._isPm=m._locale.isPM(n),m._meridiem=n}),ye(["h","hh"],function(n,l,m){l[Be]=se(n),E(m).bigHour=!0}),ye("hmm",function(n,l,m){var p=n.length-2;l[Be]=se(n.substr(0,p)),l[gt]=se(n.substr(p)),E(m).bigHour=!0}),ye("hmmss",function(n,l,m){var p=n.length-4,g=n.length-2;l[Be]=se(n.substr(0,p)),l[gt]=se(n.substr(p,2)),l[qt]=se(n.substr(g)),E(m).bigHour=!0}),ye("Hmm",function(n,l,m){var p=n.length-2;l[Be]=se(n.substr(0,p)),l[gt]=se(n.substr(p))}),ye("Hmmss",function(n,l,m){var p=n.length-4,g=n.length-2;l[Be]=se(n.substr(0,p)),l[gt]=se(n.substr(p,2)),l[qt]=se(n.substr(g))});function ps(n){return(n+"").toLowerCase().charAt(0)==="p"}var le=/[ap]\.?m?\.?/i,ml=xi("Hours",!0);function Rt(n,l,m){return n>11?m?"pm":"PM":m?"am":"AM"}var $i={calendar:D,longDateFormat:It,invalidDate:jt,ordinal:el,dayOfMonthOrdinalParse:ts,relativeTime:rr,months:mr,monthsShort:Gi,week:Cn,weekdays:pa,weekdaysMin:br,weekdaysShort:vr,meridiemParse:le},Me={},Pn={},Ci;function ul(n,l){var m,p=Math.min(n.length,l.length);for(m=0;m<p;m+=1)if(n[m]!==l[m])return m;return p}function Dr(n){return n&&n.toLowerCase().replace("_","-")}function pl(n){for(var l=0,m,p,g,b;l<n.length;){for(b=Dr(n[l]).split("-"),m=b.length,p=Dr(n[l+1]),p=p?p.split("-"):null;m>0;){if(g=Ki(b.slice(0,m).join("-")),g)return g;if(p&&p.length>=m&&ul(b,p)>=m-1)break;m--}l++}return Ci}function fl(n){return!!(n&&n.match("^[^/\\\\]*$"))}function Ki(n){var l=null,m;if(Me[n]===void 0&&typeof Xa<"u"&&Xa&&Xa.exports&&fl(n))try{l=Ci._abbr,m=pd,m("./locale/"+n),ci(l)}catch{Me[n]=null}return Me[n]}function ci(n,l){var m;return n&&(y(l)?m=Kt(n):m=Mt(n,l),m?Ci=m:typeof console<"u"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),Ci._abbr}function Mt(n,l){if(l!==null){var m,p=$i;if(l.abbr=n,Me[n]!=null)ze("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),p=Me[n]._config;else if(l.parentLocale!=null)if(Me[l.parentLocale]!=null)p=Me[l.parentLocale]._config;else if(m=Ki(l.parentLocale),m!=null)p=m._config;else return Pn[l.parentLocale]||(Pn[l.parentLocale]=[]),Pn[l.parentLocale].push({name:n,config:l}),null;return Me[n]=new He(vi(p,l)),Pn[n]&&Pn[n].forEach(function(g){Mt(g.name,g.config)}),ci(n),Me[n]}else return delete Me[n],null}function _l(n,l){if(l!=null){var m,p,g=$i;Me[n]!=null&&Me[n].parentLocale!=null?Me[n].set(vi(Me[n]._config,l)):(p=Ki(n),p!=null&&(g=p._config),l=vi(g,l),p==null&&(l.abbr=n),m=new He(l),m.parentLocale=Me[n],Me[n]=m),ci(n)}else Me[n]!=null&&(Me[n].parentLocale!=null?(Me[n]=Me[n].parentLocale,n===ci()&&ci(n)):Me[n]!=null&&delete Me[n]);return Me[n]}function Kt(n){var l;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return Ci;if(!a(n)){if(l=Ki(n),l)return l;n=[n]}return pl(n)}function di(){return Zt(Me)}function ga(n){var l,m=n._a;return m&&E(n).overflow===-2&&(l=m[Gt]<0||m[Gt]>11?Gt:m[Ot]<1||m[Ot]>hr(m[Ge],m[Gt])?Ot:m[Be]<0||m[Be]>24||m[Be]===24&&(m[gt]!==0||m[qt]!==0||m[kt]!==0)?Be:m[gt]<0||m[gt]>59?gt:m[qt]<0||m[qt]>59?qt:m[kt]<0||m[kt]>999?kt:-1,E(n)._overflowDayOfYear&&(l<Ge||l>Ot)&&(l=Ot),E(n)._overflowWeeks&&l===-1&&(l=os),E(n)._overflowWeekday&&l===-1&&(l=sl),E(n).overflow=l),n}var fs=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Cr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gl=/Z|[+-]\d\d(?::?\d\d)?/,Ln=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ya=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yl=/^\/?Date\((-?\d+)/i,vl=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Tr={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function _s(n){var l,m,p=n._i,g=fs.exec(p)||Cr.exec(p),b,M,W,J,de=Ln.length,yt=ya.length;if(g){for(E(n).iso=!0,l=0,m=de;l<m;l++)if(Ln[l][1].exec(g[1])){M=Ln[l][0],b=Ln[l][2]!==!1;break}if(M==null){n._isValid=!1;return}if(g[3]){for(l=0,m=yt;l<m;l++)if(ya[l][1].exec(g[3])){W=(g[2]||" ")+ya[l][0];break}if(W==null){n._isValid=!1;return}}if(!b&&W!=null){n._isValid=!1;return}if(g[4])if(gl.exec(g[4]))J="Z";else{n._isValid=!1;return}n._f=M+(W||"")+(J||""),In(n)}else n._isValid=!1}function gs(n,l,m,p,g,b){var M=[ys(n),Gi.indexOf(l),parseInt(m,10),parseInt(p,10),parseInt(g,10)];return b&&M.push(parseInt(b,10)),M}function ys(n){var l=parseInt(n,10);return l<=49?2e3+l:l<=999?1900+l:l}function va(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ti(n,l,m){if(n){var p=vr.indexOf(n),g=new Date(l[0],l[1],l[2]).getDay();if(p!==g)return E(m).weekdayMismatch=!0,m._isValid=!1,!1}return!0}function bl(n,l,m){if(n)return Tr[n];if(l)return 0;var p=parseInt(m,10),g=p%100,b=(p-g)/100;return b*60+g}function Qi(n){var l=vl.exec(va(n._i)),m;if(l){if(m=gs(l[4],l[3],l[2],l[5],l[6],l[7]),!Ti(l[1],m,n))return;n._a=m,n._tzm=bl(l[8],l[9],l[10]),n._d=Mn.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),E(n).rfc2822=!0}else n._isValid=!1}function Dt(n){var l=yl.exec(n._i);if(l!==null){n._d=new Date(+l[1]);return}if(_s(n),n._isValid===!1)delete n._isValid;else return;if(Qi(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:r.createFromInputFallback(n)}r.createFromInputFallback=ge("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function Ai(n,l,m){return n??l??m}function vs(n){var l=new Date(r.now());return n._useUTC?[l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()]:[l.getFullYear(),l.getMonth(),l.getDate()]}function Ar(n){var l,m,p=[],g,b,M;if(!n._d){for(g=vs(n),n._w&&n._a[Ot]==null&&n._a[Gt]==null&&Er(n),n._dayOfYear!=null&&(M=Ai(n._a[Ge],g[Ge]),(n._dayOfYear>bn(M)||n._dayOfYear===0)&&(E(n)._overflowDayOfYear=!0),m=Mn(M,0,n._dayOfYear),n._a[Gt]=m.getUTCMonth(),n._a[Ot]=m.getUTCDate()),l=0;l<3&&n._a[l]==null;++l)n._a[l]=p[l]=g[l];for(;l<7;l++)n._a[l]=p[l]=n._a[l]==null?l===2?1:0:n._a[l];n._a[Be]===24&&n._a[gt]===0&&n._a[qt]===0&&n._a[kt]===0&&(n._nextDay=!0,n._a[Be]=0),n._d=(n._useUTC?Mn:St).apply(null,p),b=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[Be]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==b&&(E(n).weekdayMismatch=!0)}}function Er(n){var l,m,p,g,b,M,W,J,de;l=n._w,l.GG!=null||l.W!=null||l.E!=null?(b=1,M=4,m=Ai(l.GG,n._a[Ge],Ce(ce(),1,4).year),p=Ai(l.W,1),g=Ai(l.E,1),(g<1||g>7)&&(J=!0)):(b=n._locale._week.dow,M=n._locale._week.doy,de=Ce(ce(),b,M),m=Ai(l.gg,n._a[Ge],de.year),p=Ai(l.w,de.week),l.d!=null?(g=l.d,(g<0||g>6)&&(J=!0)):l.e!=null?(g=l.e+b,(l.e<0||l.e>6)&&(J=!0)):g=b),p<1||p>rt(m,b,M)?E(n)._overflowWeeks=!0:J!=null?E(n)._overflowWeekday=!0:(W=li(m,p,g,b,M),n._a[Ge]=W.year,n._dayOfYear=W.dayOfYear)}r.ISO_8601=function(){},r.RFC_2822=function(){};function In(n){if(n._f===r.ISO_8601){_s(n);return}if(n._f===r.RFC_2822){Qi(n);return}n._a=[],E(n).empty=!0;var l=""+n._i,m,p,g,b,M,W=l.length,J=0,de,yt;for(g=Ve(n._f,n._locale).match(Z)||[],yt=g.length,m=0;m<yt;m++)b=g[m],p=(l.match(al(b,n))||[])[0],p&&(M=l.substr(0,l.indexOf(p)),M.length>0&&E(n).unusedInput.push(M),l=l.slice(l.indexOf(p)+p.length),J+=p.length),ne[b]?(p?E(n).empty=!1:E(n).unusedTokens.push(b),Ut(b,p,n)):n._strict&&!p&&E(n).unusedTokens.push(b);E(n).charsLeftOver=W-J,l.length>0&&E(n).unusedInput.push(l),n._a[Be]<=12&&E(n).bigHour===!0&&n._a[Be]>0&&(E(n).bigHour=void 0),E(n).parsedDateParts=n._a.slice(0),E(n).meridiem=n._meridiem,n._a[Be]=wl(n._locale,n._a[Be],n._meridiem),de=E(n).era,de!==null&&(n._a[Ge]=n._locale.erasConvertYear(de,n._a[Ge])),Ar(n),ga(n)}function wl(n,l,m){var p;return m==null?l:n.meridiemHour!=null?n.meridiemHour(l,m):(n.isPM!=null&&(p=n.isPM(m),p&&l<12&&(l+=12),!p&&l===12&&(l=0)),l)}function xl(n){var l,m,p,g,b,M,W=!1,J=n._f.length;if(J===0){E(n).invalidFormat=!0,n._d=new Date(NaN);return}for(g=0;g<J;g++)b=0,M=!1,l=Ae({},n),n._useUTC!=null&&(l._useUTC=n._useUTC),l._f=n._f[g],In(l),fe(l)&&(M=!0),b+=E(l).charsLeftOver,b+=E(l).unusedTokens.length*10,E(l).score=b,W?b<p&&(p=b,m=l):(p==null||b<p||M)&&(p=b,m=l,M&&(W=!0));z(n,m||l)}function bs(n){if(!n._d){var l=sa(n._i),m=l.day===void 0?l.date:l.day;n._a=O([l.year,l.month,m,l.hour,l.minute,l.second,l.millisecond],function(p){return p&&parseInt(p,10)}),Ar(n)}}function kl(n){var l=new pt(ga(Ct(n)));return l._nextDay&&(l.add(1,"d"),l._nextDay=void 0),l}function Ct(n){var l=n._i,m=n._f;return n._locale=n._locale||Kt(n._l),l===null||m===void 0&&l===""?oe({nullInput:!0}):(typeof l=="string"&&(n._i=l=n._locale.preparse(l)),Ee(l)?new pt(ga(l)):(x(l)?n._d=l:a(m)?xl(n):m?In(n):Xi(n),fe(n)||(n._d=null),n))}function Xi(n){var l=n._i;y(l)?n._d=new Date(r.now()):x(l)?n._d=new Date(l.valueOf()):typeof l=="string"?Dt(n):a(l)?(n._a=O(l.slice(0),function(m){return parseInt(m,10)}),Ar(n)):o(l)?bs(n):w(l)?n._d=new Date(l):r.createFromInputFallback(n)}function ws(n,l,m,p,g){var b={};return(l===!0||l===!1)&&(p=l,l=void 0),(m===!0||m===!1)&&(p=m,m=void 0),(o(n)&&f(n)||a(n)&&n.length===0)&&(n=void 0),b._isAMomentObject=!0,b._useUTC=b._isUTC=g,b._l=m,b._i=n,b._f=l,b._strict=p,kl(b)}function ce(n,l,m,p){return ws(n,l,m,p,!1)}var Sl=ge("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=ce.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:oe()}),Ji=ge("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=ce.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:oe()});function xs(n,l){var m,p;if(l.length===1&&a(l[0])&&(l=l[0]),!l.length)return ce();for(m=l[0],p=1;p<l.length;++p)(!l[p].isValid()||l[p][n](m))&&(m=l[p]);return m}function On(){var n=[].slice.call(arguments,0);return xs("isBefore",n)}function ks(){var n=[].slice.call(arguments,0);return xs("isAfter",n)}var ba=function(){return Date.now?Date.now():+new Date},Rn=["year","quarter","month","week","day","hour","minute","second","millisecond"];function hi(n){var l,m=!1,p,g=Rn.length;for(l in n)if(h(n,l)&&!(Re.call(Rn,l)!==-1&&(n[l]==null||!isNaN(n[l]))))return!1;for(p=0;p<g;++p)if(n[Rn[p]]){if(m)return!1;parseFloat(n[Rn[p]])!==se(n[Rn[p]])&&(m=!0)}return!0}function wa(){return this._isValid}function Ml(){return Tt(NaN)}function en(n){var l=sa(n),m=l.year||0,p=l.quarter||0,g=l.month||0,b=l.week||l.isoWeek||0,M=l.day||0,W=l.hour||0,J=l.minute||0,de=l.second||0,yt=l.millisecond||0;this._isValid=hi(l),this._milliseconds=+yt+de*1e3+J*6e4+W*1e3*60*60,this._days=+M+b*7,this._months=+g+p*3+m*12,this._data={},this._locale=Kt(),this._bubble()}function xa(n){return n instanceof en}function Ft(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function Dl(n,l,m){var p=Math.min(n.length,l.length),g=Math.abs(n.length-l.length),b=0,M;for(M=0;M<p;M++)(m&&n[M]!==l[M]||!m&&se(n[M])!==se(l[M]))&&b++;return b+g}function Ei(n,l){R(n,0,0,function(){var m=this.utcOffset(),p="+";return m<0&&(m=-m,p="-"),p+T(~~(m/60),2)+l+T(~~m%60,2)})}Ei("Z",":"),Ei("ZZ",""),H("Z",ca),H("ZZ",ca),ye(["Z","ZZ"],function(n,l,m){m._useUTC=!0,m._tzm=Nt(ca,n)});var Cl=/([\+\-]|\d\d)/gi;function Nt(n,l){var m=(l||"").match(n),p,g,b;return m===null?null:(p=m[m.length-1]||[],g=(p+"").match(Cl)||["-",0,0],b=+(g[1]*60)+se(g[2]),b===0?0:g[0]==="+"?b:-b)}function tn(n,l){var m,p;return l._isUTC?(m=l.clone(),p=(Ee(n)||x(n)?n.valueOf():ce(n).valueOf())-m.valueOf(),m._d.setTime(m._d.valueOf()+p),r.updateOffset(m,!1),m):ce(n).local()}function ka(n){return-Math.round(n._d.getTimezoneOffset())}r.updateOffset=function(){};function Pr(n,l,m){var p=this._offset||0,g;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=Nt(ca,n),n===null)return this}else Math.abs(n)<16&&!m&&(n=n*60);return!this._isUTC&&l&&(g=ka(this)),this._offset=n,this._isUTC=!0,g!=null&&this.add(g,"m"),p!==n&&(!l||this._changeInProgress?Fn(this,Tt(n-p,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?p:ka(this)}function Sa(n,l){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,l),this):-this.utcOffset()}function Lr(n){return this.utcOffset(0,n)}function Ma(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(ka(this),"m")),this}function nn(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=Nt(nl,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function Da(n){return this.isValid()?(n=n?ce(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function Ir(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ss(){if(!y(this._isDSTShifted))return this._isDSTShifted;var n={},l;return Ae(n,this),n=Ct(n),n._a?(l=n._isUTC?B(n._a):ce(n._a),this._isDSTShifted=this.isValid()&&Dl(n._a,l.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Tl(){return this.isValid()?!this._isUTC:!1}function Ca(){return this.isValid()?this._isUTC:!1}function Ms(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ds=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Al=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Tt(n,l){var m=n,p=null,g,b,M;return xa(n)?m={ms:n._milliseconds,d:n._days,M:n._months}:w(n)||!isNaN(+n)?(m={},l?m[l]=+n:m.milliseconds=+n):(p=Ds.exec(n))?(g=p[1]==="-"?-1:1,m={y:0,d:se(p[Ot])*g,h:se(p[Be])*g,m:se(p[gt])*g,s:se(p[qt])*g,ms:se(Ft(p[kt]*1e3))*g}):(p=Al.exec(n))?(g=p[1]==="-"?-1:1,m={y:Pi(p[2],g),M:Pi(p[3],g),w:Pi(p[4],g),d:Pi(p[5],g),h:Pi(p[6],g),m:Pi(p[7],g),s:Pi(p[8],g)}):m==null?m={}:typeof m=="object"&&("from"in m||"to"in m)&&(M=Ta(ce(m.from),ce(m.to)),m={},m.ms=M.milliseconds,m.M=M.months),b=new en(m),xa(n)&&h(n,"_locale")&&(b._locale=n._locale),xa(n)&&h(n,"_isValid")&&(b._isValid=n._isValid),b}Tt.fn=en.prototype,Tt.invalid=Ml;function Pi(n,l){var m=n&&parseFloat(n.replace(",","."));return(isNaN(m)?0:m)*l}function zt(n,l){var m={};return m.months=l.month()-n.month()+(l.year()-n.year())*12,n.clone().add(m.months,"M").isAfter(l)&&--m.months,m.milliseconds=+l-+n.clone().add(m.months,"M"),m}function Ta(n,l){var m;return n.isValid()&&l.isValid()?(l=tn(l,n),n.isBefore(l)?m=zt(n,l):(m=zt(l,n),m.milliseconds=-m.milliseconds,m.months=-m.months),m):{milliseconds:0,months:0}}function Cs(n,l){return function(m,p){var g,b;return p!==null&&!isNaN(+p)&&(ze(l,"moment()."+l+"(period, number) is deprecated. Please use moment()."+l+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),b=m,m=p,p=b),g=Tt(m,p),Fn(this,g,n),this}}function Fn(n,l,m,p){var g=l._milliseconds,b=Ft(l._days),M=Ft(l._months);n.isValid()&&(p=p??!0,M&&ki(n,wn(n,"Month")+M*m),b&&xn(n,"Date",wn(n,"Date")+b*m),g&&n._d.setTime(n._d.valueOf()+g*m),p&&r.updateOffset(n,b||M))}var El=Cs(1,"add"),Ts=Cs(-1,"subtract");function As(n){return typeof n=="string"||n instanceof String}function Nn(n){return Ee(n)||x(n)||As(n)||w(n)||an(n)||Pl(n)||n===null||n===void 0}function Pl(n){var l=o(n)&&!f(n),m=!1,p=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],g,b,M=p.length;for(g=0;g<M;g+=1)b=p[g],m=m||h(n,b);return l&&m}function an(n){var l=a(n),m=!1;return l&&(m=n.filter(function(p){return!w(p)&&As(n)}).length===0),l&&m}function Es(n){var l=o(n)&&!f(n),m=!1,p=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],g,b;for(g=0;g<p.length;g+=1)b=p[g],m=m||h(n,b);return l&&m}function Ps(n,l){var m=n.diff(l,"days",!0);return m<-6?"sameElse":m<-1?"lastWeek":m<0?"lastDay":m<1?"sameDay":m<2?"nextDay":m<7?"nextWeek":"sameElse"}function Ll(n,l){arguments.length===1&&(arguments[0]?Nn(arguments[0])?(n=arguments[0],l=void 0):Es(arguments[0])&&(l=arguments[0],n=void 0):(n=void 0,l=void 0));var m=n||ce(),p=tn(m,this).startOf("day"),g=r.calendarFormat(this,p)||"sameElse",b=l&&(ft(l[g])?l[g].call(this,m):l[g]);return this.format(b||this.localeData().calendar(g,this,ce(m)))}function ai(){return new pt(this)}function Ls(n,l){var m=Ee(n)?n:ce(n);return this.isValid()&&m.isValid()?(l=dt(l)||"millisecond",l==="millisecond"?this.valueOf()>m.valueOf():m.valueOf()<this.clone().startOf(l).valueOf()):!1}function Is(n,l){var m=Ee(n)?n:ce(n);return this.isValid()&&m.isValid()?(l=dt(l)||"millisecond",l==="millisecond"?this.valueOf()<m.valueOf():this.clone().endOf(l).valueOf()<m.valueOf()):!1}function zn(n,l,m,p){var g=Ee(n)?n:ce(n),b=Ee(l)?l:ce(l);return this.isValid()&&g.isValid()&&b.isValid()?(p=p||"()",(p[0]==="("?this.isAfter(g,m):!this.isBefore(g,m))&&(p[1]===")"?this.isBefore(b,m):!this.isAfter(b,m))):!1}function Il(n,l){var m=Ee(n)?n:ce(n),p;return this.isValid()&&m.isValid()?(l=dt(l)||"millisecond",l==="millisecond"?this.valueOf()===m.valueOf():(p=m.valueOf(),this.clone().startOf(l).valueOf()<=p&&p<=this.clone().endOf(l).valueOf())):!1}function Aa(n,l){return this.isSame(n,l)||this.isAfter(n,l)}function Vn(n,l){return this.isSame(n,l)||this.isBefore(n,l)}function Os(n,l,m){var p,g,b;if(!this.isValid())return NaN;if(p=tn(n,this),!p.isValid())return NaN;switch(g=(p.utcOffset()-this.utcOffset())*6e4,l=dt(l),l){case"year":b=Bn(this,p)/12;break;case"month":b=Bn(this,p);break;case"quarter":b=Bn(this,p)/3;break;case"second":b=(this-p)/1e3;break;case"minute":b=(this-p)/6e4;break;case"hour":b=(this-p)/36e5;break;case"day":b=(this-p-g)/864e5;break;case"week":b=(this-p-g)/6048e5;break;default:b=this-p}return m?b:ht(b)}function Bn(n,l){if(n.date()<l.date())return-Bn(l,n);var m=(l.year()-n.year())*12+(l.month()-n.month()),p=n.clone().add(m,"months"),g,b;return l-p<0?(g=n.clone().add(m-1,"months"),b=(l-p)/(p-g)):(g=n.clone().add(m+1,"months"),b=(l-p)/(g-p)),-(m+b)||0}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ol(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Rs(n){if(!this.isValid())return null;var l=n!==!0,m=l?this.clone().utc():this;return m.year()<0||m.year()>9999?_t(m,l?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ft(Date.prototype.toISOString)?l?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",_t(m,"Z")):_t(m,l?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Fs(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",l="",m,p,g,b;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",l="Z"),m="["+n+'("]',p=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",g="-MM-DD[T]HH:mm:ss.SSS",b=l+'[")]',this.format(m+p+g+b)}function Ns(n){n||(n=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var l=_t(this,n);return this.localeData().postformat(l)}function zs(n,l){return this.isValid()&&(Ee(n)&&n.isValid()||ce(n).isValid())?Tt({to:this,from:n}).locale(this.locale()).humanize(!l):this.localeData().invalidDate()}function Vs(n){return this.from(ce(),n)}function Rl(n,l){return this.isValid()&&(Ee(n)&&n.isValid()||ce(n).isValid())?Tt({from:this,to:n}).locale(this.locale()).humanize(!l):this.localeData().invalidDate()}function Bs(n){return this.to(ce(),n)}function Or(n){var l;return n===void 0?this._locale._abbr:(l=Kt(n),l!=null&&(this._locale=l),this)}var Ys=ge("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function e(){return this._locale}var i=1e3,s=60*i,d=60*s,u=(365*400+97)*24*d;function _(n,l){return(n%l+l)%l}function v(n,l,m){return n<100&&n>=0?new Date(n+400,l,m)-u:new Date(n,l,m).valueOf()}function k(n,l,m){return n<100&&n>=0?Date.UTC(n+400,l,m)-u:Date.UTC(n,l,m)}function S(n){var l,m;if(n=dt(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?k:v,n){case"year":l=m(this.year(),0,1);break;case"quarter":l=m(this.year(),this.month()-this.month()%3,1);break;case"month":l=m(this.year(),this.month(),1);break;case"week":l=m(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":l=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":l=m(this.year(),this.month(),this.date());break;case"hour":l=this._d.valueOf(),l-=_(l+(this._isUTC?0:this.utcOffset()*s),d);break;case"minute":l=this._d.valueOf(),l-=_(l,s);break;case"second":l=this._d.valueOf(),l-=_(l,i);break}return this._d.setTime(l),r.updateOffset(this,!0),this}function C(n){var l,m;if(n=dt(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?k:v,n){case"year":l=m(this.year()+1,0,1)-1;break;case"quarter":l=m(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":l=m(this.year(),this.month()+1,1)-1;break;case"week":l=m(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":l=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":l=m(this.year(),this.month(),this.date()+1)-1;break;case"hour":l=this._d.valueOf(),l+=d-_(l+(this._isUTC?0:this.utcOffset()*s),d)-1;break;case"minute":l=this._d.valueOf(),l+=s-_(l,s)-1;break;case"second":l=this._d.valueOf(),l+=i-_(l,i)-1;break}return this._d.setTime(l),r.updateOffset(this,!0),this}function Y(){return this._d.valueOf()-(this._offset||0)*6e4}function Q(){return Math.floor(this.valueOf()/1e3)}function ae(){return new Date(this.valueOf())}function st(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function We(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function At(){return this.isValid()?this.toISOString():null}function mt(){return fe(this)}function rn(){return z({},E(this))}function Fl(){return E(this).overflow}function Nl(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}R("N",0,0,"eraAbbr"),R("NN",0,0,"eraAbbr"),R("NNN",0,0,"eraAbbr"),R("NNNN",0,0,"eraName"),R("NNNNN",0,0,"eraNarrow"),R("y",["y",1],"yo","eraYear"),R("y",["yy",2],0,"eraYear"),R("y",["yyy",3],0,"eraYear"),R("y",["yyyy",4],0,"eraYear"),H("N",Pa),H("NN",Pa),H("NNN",Pa),H("NNNN",Wl),H("NNNNN",Um),ye(["N","NN","NNN","NNNN","NNNNN"],function(n,l,m,p){var g=m._locale.erasParse(n,p,m._strict);g?E(m).era=g:E(m).invalidEra=n}),H("y",ji),H("yy",ji),H("yyy",ji),H("yyyy",ji),H("yo",Gm),ye(["y","yy","yyy","yyyy"],Ge),ye(["yo"],function(n,l,m,p){var g;m._locale._eraYearOrdinalRegex&&(g=n.match(m._locale._eraYearOrdinalRegex)),m._locale.eraYearOrdinalParse?l[Ge]=m._locale.eraYearOrdinalParse(n,g):l[Ge]=parseInt(n,10)});function zl(n,l){var m,p,g,b=this._eras||Kt("en")._eras;for(m=0,p=b.length;m<p;++m){switch(typeof b[m].since){case"string":g=r(b[m].since).startOf("day"),b[m].since=g.valueOf();break}switch(typeof b[m].until){case"undefined":b[m].until=1/0;break;case"string":g=r(b[m].until).startOf("day").valueOf(),b[m].until=g.valueOf();break}}return b}function Hs(n,l,m){var p,g,b=this.eras(),M,W,J;for(n=n.toUpperCase(),p=0,g=b.length;p<g;++p)if(M=b[p].name.toUpperCase(),W=b[p].abbr.toUpperCase(),J=b[p].narrow.toUpperCase(),m)switch(l){case"N":case"NN":case"NNN":if(W===n)return b[p];break;case"NNNN":if(M===n)return b[p];break;case"NNNNN":if(J===n)return b[p];break}else if([M,W,J].indexOf(n)>=0)return b[p]}function Vl(n,l){var m=n.since<=n.until?1:-1;return l===void 0?r(n.since).year():r(n.since).year()+(l-n.offset)*m}function Ws(){var n,l,m,p=this.localeData().eras();for(n=0,l=p.length;n<l;++n)if(m=this.clone().startOf("day").valueOf(),p[n].since<=m&&m<=p[n].until||p[n].until<=m&&m<=p[n].since)return p[n].name;return""}function Ye(){var n,l,m,p=this.localeData().eras();for(n=0,l=p.length;n<l;++n)if(m=this.clone().startOf("day").valueOf(),p[n].since<=m&&m<=p[n].until||p[n].until<=m&&m<=p[n].since)return p[n].narrow;return""}function Ea(){var n,l,m,p=this.localeData().eras();for(n=0,l=p.length;n<l;++n)if(m=this.clone().startOf("day").valueOf(),p[n].since<=m&&m<=p[n].until||p[n].until<=m&&m<=p[n].since)return p[n].abbr;return""}function Bl(){var n,l,m,p,g=this.localeData().eras();for(n=0,l=g.length;n<l;++n)if(m=g[n].since<=g[n].until?1:-1,p=this.clone().startOf("day").valueOf(),g[n].since<=p&&p<=g[n].until||g[n].until<=p&&p<=g[n].since)return(this.year()-r(g[n].since).year())*m+g[n].offset;return this.year()}function Yl(n){return h(this,"_erasNameRegex")||Zl.call(this),n?this._erasNameRegex:this._erasRegex}function Hl(n){return h(this,"_erasAbbrRegex")||Zl.call(this),n?this._erasAbbrRegex:this._erasRegex}function Rr(n){return h(this,"_erasNarrowRegex")||Zl.call(this),n?this._erasNarrowRegex:this._erasRegex}function Pa(n,l){return l.erasAbbrRegex(n)}function Wl(n,l){return l.erasNameRegex(n)}function Um(n,l){return l.erasNarrowRegex(n)}function Gm(n,l){return l._eraYearOrdinalRegex||ji}function Zl(){var n=[],l=[],m=[],p=[],g,b,M,W,J,de=this.eras();for(g=0,b=de.length;g<b;++g)M=ni(de[g].name),W=ni(de[g].abbr),J=ni(de[g].narrow),l.push(M),n.push(W),m.push(J),p.push(M),p.push(W),p.push(J);this._erasRegex=new RegExp("^("+p.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+l.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+m.join("|")+")","i")}R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Zs(n,l){R(0,[n,n.length],0,l)}Zs("gggg","weekYear"),Zs("ggggg","weekYear"),Zs("GGGG","isoWeekYear"),Zs("GGGGG","isoWeekYear"),H("G",oi),H("g",oi),H("GG",ke,at),H("gg",ke,at),H("GGGG",gn,oa),H("gggg",gn,oa),H("GGGGG",yn,la),H("ggggg",yn,la),vn(["gggg","ggggg","GGGG","GGGGG"],function(n,l,m,p){l[p.substr(0,2)]=se(n)}),vn(["gg","GG"],function(n,l,m,p){l[p]=r.parseTwoDigitYear(n)});function qm(n){return ad.call(this,n,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function $m(n){return ad.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function Km(){return rt(this.year(),1,4)}function Qm(){return rt(this.isoWeekYear(),1,4)}function Xm(){var n=this.localeData()._week;return rt(this.year(),n.dow,n.doy)}function Jm(){var n=this.localeData()._week;return rt(this.weekYear(),n.dow,n.doy)}function ad(n,l,m,p,g){var b;return n==null?Ce(this,p,g).year:(b=rt(n,p,g),l>b&&(l=b),eu.call(this,n,l,m,p,g))}function eu(n,l,m,p,g){var b=li(n,l,m,p,g),M=Mn(b.year,0,b.dayOfYear);return this.year(M.getUTCFullYear()),this.month(M.getUTCMonth()),this.date(M.getUTCDate()),this}R("Q",0,"Qo","quarter"),H("Q",as),ye("Q",function(n,l){l[Gt]=(se(n)-1)*3});function tu(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}R("D",["DD",2],"Do","date"),H("D",ke,wi),H("DD",ke,at),H("Do",function(n,l){return n?l._dayOfMonthOrdinalParse||l._ordinalParse:l._dayOfMonthOrdinalParseLenient}),ye(["D","DD"],Ot),ye("Do",function(n,l){l[Ot]=se(n.match(ke)[0])});var rd=xi("Date",!0);R("DDD",["DDDD",3],"DDDo","dayOfYear"),H("DDD",_n),H("DDDD",or),ye(["DDD","DDDD"],function(n,l,m){m._dayOfYear=se(n)});function iu(n){var l=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?l:this.add(n-l,"d")}R("m",["mm",2],0,"minute"),H("m",ke,cr),H("mm",ke,at),ye(["m","mm"],gt);var nu=xi("Minutes",!1);R("s",["ss",2],0,"second"),H("s",ke,cr),H("ss",ke,at),ye(["s","ss"],qt);var au=xi("Seconds",!1);R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,function(){return this.millisecond()*10}),R(0,["SSSSS",5],0,function(){return this.millisecond()*100}),R(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),R(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),R(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),R(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),H("S",_n,as),H("SS",_n,at),H("SSS",_n,or);var sn,sd;for(sn="SSSS";sn.length<=9;sn+="S")H(sn,ji);function ru(n,l){l[kt]=se(("0."+n)*1e3)}for(sn="S";sn.length<=9;sn+="S")ye(sn,ru);sd=xi("Milliseconds",!1),R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");function su(){return this._isUTC?"UTC":""}function ou(){return this._isUTC?"Coordinated Universal Time":""}var F=pt.prototype;F.add=El,F.calendar=Ll,F.clone=ai,F.diff=Os,F.endOf=C,F.format=Ns,F.from=zs,F.fromNow=Vs,F.to=Rl,F.toNow=Bs,F.get=ll,F.invalidAt=Fl,F.isAfter=Ls,F.isBefore=Is,F.isBetween=zn,F.isSame=Il,F.isSameOrAfter=Aa,F.isSameOrBefore=Vn,F.isValid=mt,F.lang=Ys,F.locale=Or,F.localeData=e,F.max=Ji,F.min=Sl,F.parsingFlags=rn,F.set=cl,F.startOf=S,F.subtract=Ts,F.toArray=st,F.toObject=We,F.toDate=ae,F.toISOString=Rs,F.inspect=Fs,typeof Symbol<"u"&&Symbol.for!=null&&(F[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),F.toJSON=At,F.toString=Ol,F.unix=Q,F.valueOf=Y,F.creationData=Nl,F.eraName=Ws,F.eraNarrow=Ye,F.eraAbbr=Ea,F.eraYear=Bl,F.year=ls,F.isLeapYear=ol,F.weekYear=qm,F.isoWeekYear=$m,F.quarter=F.quarters=tu,F.month=ma,F.daysInMonth=ie,F.week=F.weeks=_r,F.isoWeek=F.isoWeeks=gr,F.weeksInYear=Xm,F.weeksInWeekYear=Jm,F.isoWeeksInYear=Km,F.isoWeeksInISOWeekYear=Qm,F.date=rd,F.day=F.days=Mi,F.weekday=Sr,F.isoWeekday=En,F.dayOfYear=iu,F.hour=F.hours=ml,F.minute=F.minutes=nu,F.second=F.seconds=au,F.millisecond=F.milliseconds=sd,F.utcOffset=Pr,F.utc=Lr,F.local=Ma,F.parseZone=nn,F.hasAlignedHourOffset=Da,F.isDST=Ir,F.isLocal=Tl,F.isUtcOffset=Ca,F.isUtc=Ms,F.isUTC=Ms,F.zoneAbbr=su,F.zoneName=ou,F.dates=ge("dates accessor is deprecated. Use date instead.",rd),F.months=ge("months accessor is deprecated. Use month instead",ma),F.years=ge("years accessor is deprecated. Use year instead",ls),F.zone=ge("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Sa),F.isDSTShifted=ge("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ss);function lu(n){return ce(n*1e3)}function cu(){return ce.apply(null,arguments).parseZone()}function od(n){return n}var pe=He.prototype;pe.calendar=G,pe.longDateFormat=Je,pe.invalidDate=bi,pe.ordinal=is,pe.preparse=od,pe.postformat=od,pe.relativeTime=ra,pe.pastFuture=tl,pe.set=Ue,pe.eras=zl,pe.erasParse=Hs,pe.erasConvertYear=Vl,pe.erasAbbrRegex=Hl,pe.erasNameRegex=Yl,pe.erasNarrowRegex=Rr,pe.months=he,pe.monthsShort=Le,pe.monthsParse=qi,pe.monthsRegex=pr,pe.monthsShortRegex=Fe,pe.week=Dn,pe.firstDayOfYear=Tn,pe.firstDayOfWeek=fr,pe.weekdays=Se,pe.weekdaysMin=wr,pe.weekdaysShort=ds,pe.weekdaysParse=kr,pe.weekdaysRegex=qe,pe.weekdaysShortRegex=Di,pe.weekdaysMinRegex=hs,pe.isPM=ps,pe.meridiem=Rt;function js(n,l,m,p){var g=Kt(),b=B().set(p,l);return g[m](b,n)}function ld(n,l,m){if(w(n)&&(l=n,n=void 0),n=n||"",l!=null)return js(n,l,m,"month");var p,g=[];for(p=0;p<12;p++)g[p]=js(n,p,m,"month");return g}function jl(n,l,m,p){typeof n=="boolean"?(w(l)&&(m=l,l=void 0),l=l||""):(l=n,m=l,n=!1,w(l)&&(m=l,l=void 0),l=l||"");var g=Kt(),b=n?g._week.dow:0,M,W=[];if(m!=null)return js(l,(m+b)%7,p,"day");for(M=0;M<7;M++)W[M]=js(l,(M+b)%7,p,"day");return W}function du(n,l){return ld(n,l,"months")}function hu(n,l){return ld(n,l,"monthsShort")}function mu(n,l,m){return jl(n,l,m,"weekdays")}function uu(n,l,m){return jl(n,l,m,"weekdaysShort")}function pu(n,l,m){return jl(n,l,m,"weekdaysMin")}ci("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var l=n%10,m=se(n%100/10)===1?"th":l===1?"st":l===2?"nd":l===3?"rd":"th";return n+m}}),r.lang=ge("moment.lang is deprecated. Use moment.locale instead.",ci),r.langData=ge("moment.langData is deprecated. Use moment.localeData instead.",Kt);var Li=Math.abs;function fu(){var n=this._data;return this._milliseconds=Li(this._milliseconds),this._days=Li(this._days),this._months=Li(this._months),n.milliseconds=Li(n.milliseconds),n.seconds=Li(n.seconds),n.minutes=Li(n.minutes),n.hours=Li(n.hours),n.months=Li(n.months),n.years=Li(n.years),this}function cd(n,l,m,p){var g=Tt(l,m);return n._milliseconds+=p*g._milliseconds,n._days+=p*g._days,n._months+=p*g._months,n._bubble()}function _u(n,l){return cd(this,n,l,1)}function gu(n,l){return cd(this,n,l,-1)}function dd(n){return n<0?Math.floor(n):Math.ceil(n)}function yu(){var n=this._milliseconds,l=this._days,m=this._months,p=this._data,g,b,M,W,J;return n>=0&&l>=0&&m>=0||n<=0&&l<=0&&m<=0||(n+=dd(Ul(m)+l)*864e5,l=0,m=0),p.milliseconds=n%1e3,g=ht(n/1e3),p.seconds=g%60,b=ht(g/60),p.minutes=b%60,M=ht(b/60),p.hours=M%24,l+=ht(M/24),J=ht(hd(l)),m+=J,l-=dd(Ul(J)),W=ht(m/12),m%=12,p.days=l,p.months=m,p.years=W,this}function hd(n){return n*4800/146097}function Ul(n){return n*146097/4800}function vu(n){if(!this.isValid())return NaN;var l,m,p=this._milliseconds;if(n=dt(n),n==="month"||n==="quarter"||n==="year")switch(l=this._days+p/864e5,m=this._months+hd(l),n){case"month":return m;case"quarter":return m/3;case"year":return m/12}else switch(l=this._days+Math.round(Ul(this._months)),n){case"week":return l/7+p/6048e5;case"day":return l+p/864e5;case"hour":return l*24+p/36e5;case"minute":return l*1440+p/6e4;case"second":return l*86400+p/1e3;case"millisecond":return Math.floor(l*864e5)+p;default:throw new Error("Unknown unit "+n)}}function Ii(n){return function(){return this.as(n)}}var md=Ii("ms"),bu=Ii("s"),wu=Ii("m"),xu=Ii("h"),ku=Ii("d"),Su=Ii("w"),Mu=Ii("M"),Du=Ii("Q"),Cu=Ii("y"),Tu=md;function Au(){return Tt(this)}function Eu(n){return n=dt(n),this.isValid()?this[n+"s"]():NaN}function Yn(n){return function(){return this.isValid()?this._data[n]:NaN}}var Pu=Yn("milliseconds"),Lu=Yn("seconds"),Iu=Yn("minutes"),Ou=Yn("hours"),Ru=Yn("days"),Fu=Yn("months"),Nu=Yn("years");function zu(){return ht(this.days()/7)}var Oi=Math.round,La={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Vu(n,l,m,p,g){return g.relativeTime(l||1,!!m,n,p)}function Bu(n,l,m,p){var g=Tt(n).abs(),b=Oi(g.as("s")),M=Oi(g.as("m")),W=Oi(g.as("h")),J=Oi(g.as("d")),de=Oi(g.as("M")),yt=Oi(g.as("w")),Ri=Oi(g.as("y")),on=b<=m.ss&&["s",b]||b<m.s&&["ss",b]||M<=1&&["m"]||M<m.m&&["mm",M]||W<=1&&["h"]||W<m.h&&["hh",W]||J<=1&&["d"]||J<m.d&&["dd",J];return m.w!=null&&(on=on||yt<=1&&["w"]||yt<m.w&&["ww",yt]),on=on||de<=1&&["M"]||de<m.M&&["MM",de]||Ri<=1&&["y"]||["yy",Ri],on[2]=l,on[3]=+n>0,on[4]=p,Vu.apply(null,on)}function Yu(n){return n===void 0?Oi:typeof n=="function"?(Oi=n,!0):!1}function Hu(n,l){return La[n]===void 0?!1:l===void 0?La[n]:(La[n]=l,n==="s"&&(La.ss=l-1),!0)}function Wu(n,l){if(!this.isValid())return this.localeData().invalidDate();var m=!1,p=La,g,b;return typeof n=="object"&&(l=n,n=!1),typeof n=="boolean"&&(m=n),typeof l=="object"&&(p=Object.assign({},La,l),l.s!=null&&l.ss==null&&(p.ss=l.s-1)),g=this.localeData(),b=Bu(this,!m,p,g),m&&(b=g.pastFuture(+this,b)),g.postformat(b)}var Gl=Math.abs;function Ia(n){return(n>0)-(n<0)||+n}function Us(){if(!this.isValid())return this.localeData().invalidDate();var n=Gl(this._milliseconds)/1e3,l=Gl(this._days),m=Gl(this._months),p,g,b,M,W=this.asSeconds(),J,de,yt,Ri;return W?(p=ht(n/60),g=ht(p/60),n%=60,p%=60,b=ht(m/12),m%=12,M=n?n.toFixed(3).replace(/\.?0+$/,""):"",J=W<0?"-":"",de=Ia(this._months)!==Ia(W)?"-":"",yt=Ia(this._days)!==Ia(W)?"-":"",Ri=Ia(this._milliseconds)!==Ia(W)?"-":"",J+"P"+(b?de+b+"Y":"")+(m?de+m+"M":"")+(l?yt+l+"D":"")+(g||p||n?"T":"")+(g?Ri+g+"H":"")+(p?Ri+p+"M":"")+(n?Ri+M+"S":"")):"P0D"}var me=en.prototype;me.isValid=wa,me.abs=fu,me.add=_u,me.subtract=gu,me.as=vu,me.asMilliseconds=md,me.asSeconds=bu,me.asMinutes=wu,me.asHours=xu,me.asDays=ku,me.asWeeks=Su,me.asMonths=Mu,me.asQuarters=Du,me.asYears=Cu,me.valueOf=Tu,me._bubble=yu,me.clone=Au,me.get=Eu,me.milliseconds=Pu,me.seconds=Lu,me.minutes=Iu,me.hours=Ou,me.days=Ru,me.weeks=zu,me.months=Fu,me.years=Nu,me.humanize=Wu,me.toISOString=Us,me.toString=Us,me.toJSON=Us,me.locale=Or,me.localeData=e,me.toIsoString=ge("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Us),me.lang=Ys,R("X",0,0,"unix"),R("x",0,0,"valueOf"),H("x",oi),H("X",ss),ye("X",function(n,l,m){m._d=new Date(parseFloat(n)*1e3)}),ye("x",function(n,l,m){m._d=new Date(se(n))});return r.version="2.30.1",t(ce),r.fn=F,r.min=On,r.max=ks,r.now=ba,r.utc=B,r.unix=lu,r.months=du,r.isDate=x,r.locale=ci,r.invalid=oe,r.duration=Tt,r.isMoment=Ee,r.weekdays=mu,r.parseZone=cu,r.localeData=Kt,r.isDuration=xa,r.monthsShort=hu,r.weekdaysMin=pu,r.defineLocale=Mt,r.updateLocale=_l,r.locales=di,r.weekdaysShort=uu,r.normalizeUnits=dt,r.relativeTimeRounding=Yu,r.relativeTimeThreshold=Hu,r.calendarFormat=Ps,r.prototype=F,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r})});var ph={production:!0};var ee=function(c){return c[c.State=0]="State",c[c.Transition=1]="Transition",c[c.Sequence=2]="Sequence",c[c.Group=3]="Group",c[c.Animate=4]="Animate",c[c.Keyframes=5]="Keyframes",c[c.Style=6]="Style",c[c.Trigger=7]="Trigger",c[c.Reference=8]="Reference",c[c.AnimateChild=9]="AnimateChild",c[c.AnimateRef=10]="AnimateRef",c[c.Query=11]="Query",c[c.Stagger=12]="Stagger",c}(ee||{}),ei="*";function dc(c,r){return{type:ee.Trigger,name:c,definitions:r,options:{}}}function hn(c,r=null){return{type:ee.Animate,styles:r,timings:c}}function So(c,r=null){return{type:ee.Group,steps:c,options:r}}function fh(c,r=null){return{type:ee.Sequence,steps:c,options:r}}function Ht(c){return{type:ee.Style,styles:c,offset:null}}function Mo(c,r,t){return{type:ee.State,name:c,styles:r,options:t}}function Do(c,r,t=null){return{type:ee.Transition,expr:c,animation:r,options:t}}var gi=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(r=0,t=0){this.totalTime=r+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){let t=r=="start"?this._onStartFns:this._onDoneFns;t.forEach(a=>a()),t.length=0}},Xn=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(r){this.players=r;let t=0,a=0,o=0,h=this.players.length;h==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++t==h&&this._onFinish()}),f.onDestroy(()=>{++a==h&&this._onDestroy()}),f.onStart(()=>{++o==h&&this._onStart()})}),this.totalTime=this.players.reduce((f,y)=>Math.max(f,y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){let t=r*this.totalTime;this.players.forEach(a=>{let o=a.totalTime?Math.min(1,t/a.totalTime):1;a.setPosition(o)})}getPosition(){let r=this.players.reduce((t,a)=>t===null||a.totalTime>t.totalTime?a:t,null);return r!=null?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){let t=r=="start"?this._onStartFns:this._onDoneFns;t.forEach(a=>a()),t.length=0}},qa="!";var _h=[dc("slideUp",[Mo("down",Ht({"max-height":"500px",opacity:"1",visibility:"visible"})),Mo("up",Ht({"max-height":"0px",opacity:"0",visibility:"hidden"})),Do("down => up",[So([hn("1s 0.3s ease-in-out",Ht({opacity:"0"})),hn("1.8s ease-in-out",Ht({"max-height":"0px"})),hn("1s ease-in-out",Ht({visibility:"hidden"}))])]),Do("up => down",[So([hn("1s ease-in-out",Ht({visibility:"visible"})),hn("1.8s ease-in-out",Ht({"max-height":"500px"})),hn("1s 0.3s ease-in-out",Ht({opacity:"1"}))])])])];var Zu=["mat-menu-item",""],ju=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Uu=["mat-icon, [matMenuItemIcon]","*"];function Gu(c,r){c&1&&(ln(),I(0,"svg",2),_e(1,"polygon",3),N())}var qu=["*"];function $u(c,r){if(c&1){let t=ot();I(0,"div",0),we("click",function(){ve(t);let o=X();return be(o.closed.emit("click"))})("animationstart",function(o){ve(t);let h=X();return be(h._onAnimationStart(o.animationName))})("animationend",function(o){ve(t);let h=X();return be(h._onAnimationDone(o.animationName))})("animationcancel",function(o){ve(t);let h=X();return be(h._onAnimationDone(o.animationName))}),I(1,"div",1),Qt(2),N()()}if(c&2){let t=X();Gn(t._classList),je("mat-menu-panel-animations-disabled",t._animationsDisabled)("mat-menu-panel-exit-animation",t._panelAnimationState==="void")("mat-menu-panel-animating",t._isAnimating),q("id",t.panelId),tt("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}var uc=new mi("MAT_MENU_PANEL"),Wr=(()=>{class c{_elementRef=P(ui);_document=P(jn);_focusMonitor=P(tc);_parentMenu=P(uc,{optional:!0});_changeDetectorRef=P(ut);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new Ni;_focused=new Ni;_highlighted=!1;_triggersSubmenu=!1;constructor(){P(Kn).load(po),this._parentMenu?.addItem?.(this)}focus(t,a){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,a):this._getHostElement().focus(a),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let t=this._elementRef.nativeElement.cloneNode(!0),a=t.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<a.length;o++)a[o].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(a){return new(a||c)};static \u0275cmp=Oe({type:c,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(a,o){a&1&&we("click",function(f){return o._checkDisabled(f)})("mouseenter",function(){return o._handleMouseEnter()}),a&2&&(tt("role",o.role)("tabindex",o._getTabIndex())("aria-disabled",o.disabled)("disabled",o.disabled||null),je("mat-mdc-menu-item-highlighted",o._highlighted)("mat-mdc-menu-item-submenu-trigger",o._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",qn],disableRipple:[2,"disableRipple","disableRipple",qn]},exportAs:["matMenuItem"],attrs:Zu,ngContentSelectors:Uu,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(a,o){a&1&&(pi(ju),Qt(0),I(1,"span",0),Qt(2,1),N(),_e(3,"div",1),it(4,Gu,2,0,":svg:svg",2)),a&2&&(A(3),q("matRippleDisabled",o.disableRipple||o.disabled)("matRippleTrigger",o._getHostElement()),A(),nt(o._triggersSubmenu?4:-1))},dependencies:[Xd],encapsulation:2,changeDetection:0})}return c})();var Ku=new mi("MatMenuContent");var Qu=new mi("mat-menu-default-options",{providedIn:"root",factory:Xu});function Xu(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var hc="_mat-menu-enter",Co="_mat-menu-exit",$a=(()=>{class c{_elementRef=P(ui);_changeDetectorRef=P(ut);_injector=P(Bi);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled=Yr();_allItems;_directDescendantItems=new xd;_classList={};_panelAnimationState="void";_animationDone=new Ni;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(t){let a=this._previousPanelClass,o=Hn({},this._classList);a&&a.length&&a.split(" ").forEach(h=>{o[h]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(h=>{o[h]=!0}),this._elementRef.nativeElement.className=""),this._classList=o}_previousPanelClass;get classList(){return this.panelClass}set classList(t){this.panelClass=t}closed=new De;close=this.closed;panelId=P(Br).getId("mat-menu-panel-");constructor(){let t=P(Qu);this.overlayPanelClass=t.overlayPanelClass||"",this._xPosition=t.xPosition,this._yPosition=t.yPosition,this.backdropClass=t.backdropClass,this.overlapTrigger=t.overlapTrigger,this.hasBackdrop=t.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Qd(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Et(this._directDescendantItems),Ra(t=>Wn(...t.map(a=>a._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{let a=this._keyManager;if(this._panelAnimationState==="enter"&&a.activeItem?._hasFocus()){let o=t.toArray(),h=Math.max(0,Math.min(o.length-1,a.activeItemIndex||0));o[h]&&!o[h].disabled?a.setActiveItem(h):a.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(Et(this._directDescendantItems),Ra(a=>Wn(...a.map(o=>o._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){let a=t.keyCode,o=this._keyManager;switch(a){case 27:mo(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(a===38||a===40)&&o.setFocusOrigin("keyboard"),o.onKeydown(t);return}}focusFirstItem(t="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=qs(()=>{let a=this._resolvePanel();if(!a||!a.contains(document.activeElement)){let o=this._keyManager;o.setFocusOrigin(t).setFirstItemActive(),!o.activeItem&&a&&a.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){}setPositionClasses(t=this.xPosition,a=this.yPosition){this._classList=ud(Hn({},this._classList),{"mat-menu-before":t==="before","mat-menu-after":t==="after","mat-menu-above":a==="above","mat-menu-below":a==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(t){let a=t===Co;(a||t===hc)&&(a&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(a?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(t){(t===hc||t===Co)&&(this._isAnimating=!0)}_setIsOpen(t){if(this._panelAnimationState=t?"enter":"void",t){if(this._keyManager.activeItemIndex===0){let a=this._resolvePanel();a&&(a.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(Co),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(t?hc:Co)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(Et(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(a=>a._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let t=null;return this._directDescendantItems.length&&(t=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),t}static \u0275fac=function(a){return new(a||c)};static \u0275cmp=Oe({type:c,selectors:[["mat-menu"]],contentQueries:function(a,o,h){if(a&1&&(fi(h,Ku,5),fi(h,Wr,5),fi(h,Wr,4)),a&2){let f;Ke(f=Qe())&&(o.lazyContent=f.first),Ke(f=Qe())&&(o._allItems=f),Ke(f=Qe())&&(o.items=f)}},viewQuery:function(a,o){if(a&1&&Xt(Xl,5),a&2){let h;Ke(h=Qe())&&(o.templateRef=h.first)}},hostVars:3,hostBindings:function(a,o){a&2&&tt("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",qn],hasBackdrop:[2,"hasBackdrop","hasBackdrop",t=>t==null?null:qn(t)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[Na([{provide:uc,useExisting:c}])],ngContentSelectors:qu,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(a,o){a&1&&(pi(),wt(0,$u,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return c})(),gh=new mi("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let c=P(Bi);return()=>Ya(c)}});function Ju(c){let r=P(Bi);return()=>Ya(r)}var ep={provide:gh,deps:[],useFactory:Ju};var Hr=new WeakMap,yh=(()=>{class c{_element=P(ui);_viewContainerRef=P(Jl);_menuItemInstance=P(Wr,{optional:!0,self:!0});_dir=P(Va,{optional:!0});_focusMonitor=P(tc);_ngZone=P(Un);_injector=P(Bi);_scrollStrategy=P(gh);_changeDetectorRef=P(ut);_animationsDisabled=Yr();_cleanupTouchstart;_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=Fi.EMPTY;_hoverSubscription=Fi.EMPTY;_menuCloseSubscription=Fi.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._parentMaterialMenu,this._menuCloseSubscription=t.close.subscribe(a=>{this._destroyMenu(a),(a==="click"||a==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(a)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new De;onMenuOpen=this.menuOpened;menuClosed=new De;onMenuClose=this.menuClosed;constructor(){let t=P(uc,{optional:!0}),a=P(Nr);this._parentMaterialMenu=t instanceof $a?t:void 0,this._cleanupTouchstart=a.listen(this._element.nativeElement,"touchstart",o=>{jd(o)||(this._openedBy="touch")},{passive:!0})}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&Hr.delete(this.menu),this._cleanupTouchstart(),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let t=this.menu;if(this._menuOpen||!t)return;this._pendingRemoval?.unsubscribe();let a=Hr.get(t);Hr.set(t,this),a&&a!==this&&a.closeMenu();let o=this._createOverlay(t),h=o.getConfig(),f=h.positionStrategy;this._setPosition(t,f),h.hasBackdrop=t.hasBackdrop==null?!this.triggersSubmenu():t.hasBackdrop,o.hasAttached()||(o.attach(this._getPortal(t)),t.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),t instanceof $a&&(t._setIsOpen(!0),t._directDescendantItems.changes.pipe(yd(t.close)).subscribe(()=>{f.withLockedPosition(!1).reapplyLastPosition(),f.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,a){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,a):this._element.nativeElement.focus(a)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){let a=this._overlayRef,o=this._menu;!a||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),o instanceof $a&&this._ownsMenu(o)?(this._pendingRemoval=o._animationDone.pipe(Kl(1)).subscribe(()=>{a.detach(),o.lazyContent?.detach()}),o._setIsOpen(!1)):(a.detach(),o?.lazyContent?.detach()),o&&this._ownsMenu(o)&&Hr.delete(o),this.restoreFocus&&(t==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){let a=this._getOverlayConfig(t);this._subscribeToPositions(t,a.positionStrategy),this._overlayRef=sc(this._injector,a),this._overlayRef.keydownEvents().subscribe(o=>{this.menu instanceof $a&&this.menu._handleKeydown(o)})}return this._overlayRef}_getOverlayConfig(t){return new ac({positionStrategy:rc(this._injector,this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr",disableAnimations:this._animationsDisabled})}_subscribeToPositions(t,a){t.setPositionClasses&&a.positionChanges.subscribe(o=>{this._ngZone.run(()=>{let h=o.connectionPair.overlayX==="start"?"after":"before",f=o.connectionPair.overlayY==="top"?"below":"above";t.setPositionClasses(h,f)})})}_setPosition(t,a){let[o,h]=t.xPosition==="before"?["end","start"]:["start","end"],[f,y]=t.yPosition==="above"?["bottom","top"]:["top","bottom"],[w,x]=[f,y],[O,z]=[o,h],B=0;if(this.triggersSubmenu()){if(z=o=t.xPosition==="before"?"start":"end",h=O=o==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let V=this._parentMaterialMenu.items.first;this._parentInnerPadding=V?V._getHostElement().offsetTop:0}B=f==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(w=f==="top"?"bottom":"top",x=y==="top"?"bottom":"top");a.withPositions([{originX:o,originY:w,overlayX:O,overlayY:f,offsetY:B},{originX:h,originY:w,overlayX:z,overlayY:f,offsetY:B},{originX:o,originY:x,overlayX:O,overlayY:y,offsetY:-B},{originX:h,originY:x,overlayX:z,overlayY:y,offsetY:-B}])}_menuClosingActions(){let t=this._overlayRef.backdropClick(),a=this._overlayRef.detachments(),o=this._parentMaterialMenu?this._parentMaterialMenu.closed:$e(),h=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe($l(f=>this._menuOpen&&f!==this._menuItemInstance)):$e();return Wn(t,o,h,a)}_handleMousedown(t){Zd(t)||(this._openedBy=t.button===0?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){let a=t.keyCode;(a===13||a===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(a===39&&this.dir==="ltr"||a===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(t=>{t===this._menuItemInstance&&!t.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new ic(t.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(t){return Hr.get(t)===this}static \u0275fac=function(a){return new(a||c)};static \u0275dir=cn({type:c,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(a,o){a&1&&we("click",function(f){return o._handleClick(f)})("mousedown",function(f){return o._handleMousedown(f)})("keydown",function(f){return o._handleKeydown(f)}),a&2&&tt("aria-haspopup",o.menu?"menu":null)("aria-expanded",o.menuOpen)("aria-controls",o.menuOpen?o.menu==null?null:o.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return c})(),To=(()=>{class c{static \u0275fac=function(a){return new(a||c)};static \u0275mod=bt({type:c});static \u0275inj=vt({providers:[ep],imports:[go,Yt,_o,fo,Yt]})}return c})(),vh={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},og=vh.fadeInItems,lg=vh.transformMenu;var ip=["*",[["mat-toolbar-row"]]],np=["*","mat-toolbar-row"],ap=(()=>{class c{static \u0275fac=function(a){return new(a||c)};static \u0275dir=cn({type:c,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return c})(),bh=(()=>{class c{_elementRef=P(ui);_platform=P(co);_document=P(jn);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(a){return new(a||c)};static \u0275cmp=Oe({type:c,selectors:[["mat-toolbar"]],contentQueries:function(a,o,h){if(a&1&&fi(h,ap,5),a&2){let f;Ke(f=Qe())&&(o._toolbarRows=f)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(a,o){a&2&&(Gn(o.color?"mat-"+o.color:""),je("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:np,decls:2,vars:0,template:function(a,o){a&1&&(pi(ip),Qt(0),Qt(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return c})();var Ao=(()=>{class c{static \u0275fac=function(a){return new(a||c)};static \u0275mod=bt({type:c});static \u0275inj=vt({imports:[Yt,Yt]})}return c})();var wh=(()=>{let r=class r{constructor(){this.currentYear=new Date().getFullYear()}};r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=Oe({type:r,selectors:[["app-footer"]],decls:8,vars:1,consts:[[1,"footer"],["href","https://database.factgrid.de/","target","_blank","rel","noopener"],["href","https://github.com/Belhoste/factgridviewer","target","_blank","rel","noopener","aria-label","GitHub"],["src","https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png","alt","GitHub","width","24","height","24",2,"vertical-align","middle"]],template:function(o,h){o&1&&(I(0,"footer",0)(1,"div"),$(2),I(3,"a",1),$(4,"FactGrid"),N(),$(5," \xA0|\xA0 "),I(6,"a",2),_e(7,"img",3),N()()()),o&2&&(A(2),lt(" ",h.currentYear," factgridviewer \xA0|\xA0 "))},styles:[".footer[_ngcontent-%COMP%]{width:100%;text-align:center;padding:1em 0;background:#f5f5f5;color:#555;font-size:.95em;border-top:1px solid #ddd}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:underline}.github-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:#f5f5f5;border-radius:50%;padding:2px;transition:box-shadow .2s,opacity .2s;opacity:.8}.github-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{box-shadow:0 0 4px #888;opacity:1}"]});let c=r;return c})();var Eo=(()=>{let r=class r{constructor(){this.showResearchFieldSubject=new zi(!1),this.showResearchField$=this.showResearchFieldSubject.asObservable();let a=localStorage.selectedResearchField,o={id:"all",name:"all",description:""};if(a)try{let h=JSON.parse(a);o={id:h.id,name:h.name,description:h.description??""}}catch{}this.subject=new zi(o),this.selectedResearchField$=this.subject.asObservable()}setSelectedResearchField(a){let o={id:a.id,name:a.name,description:a.description??""};localStorage.selectedResearchField=JSON.stringify(o),this.subject.next(o)}getSelectedResearchField(){return this.subject.getValue()}setShowResearchField(a){this.showResearchFieldSubject.next(a)}getShowResearchField(){return this.showResearchFieldSubject.getValue()}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ze({token:r,factory:r.\u0275fac,providedIn:"root"});let c=r;return c})();function up(c,r){if(c&1&&(I(0,"span",25),$(1),N()),c&2){let t=X().$implicit;A(),lt(" ",t.description," ")}}function pp(c,r){c&1&&(I(0,"mat-icon",26),$(1,"check_circle"),N())}function fp(c,r){if(c&1&&(I(0,"mat-option",22)(1,"span"),$(2),N(),wt(3,up,2,1,"span",23)(4,pp,2,0,"mat-icon",24),N()),c&2){let t=r.$implicit,a=X(2);q("value",t),A(2),Xe(t.name),A(),q("ngIf",t.description),A(),q("ngIf",t.id===a.selectedResearchField)}}function _p(c,r){if(c&1){let t=ot();I(0,"div",17)(1,"mat-form-field",18)(2,"mat-label"),$(3),N(),_e(4,"input",19,1),I(6,"mat-autocomplete",20,2),we("optionSelected",function(o){ve(t);let h=X();return be(h.researchFieldSelect(o.option.value))}),wt(8,fp,5,4,"mat-option",21),Vt(9,"async"),N()()()}if(c&2){let t=zr(7),a=X();A(3),Xe(a.projectSearch),A(),q("formControl",a.searchResearchField)("matAutocomplete",t)("placeholder",a.projectName),A(2),q("displayWith",a.displayResearchField),A(2),q("ngForOf",Bt(9,6,a.filteredResearchFields$))}}function gp(c,r){if(c&1&&_e(0,"img",28),c&2){let t=X().$implicit;q("src",t.flag,kd)}}function yp(c,r){c&1&&(I(0,"mat-icon",30),$(1,"check_circle"),N())}function vp(c,r){if(c&1){let t=ot();I(0,"button",27),we("click",function(){let o=ve(t).$implicit,h=X();return be(h.langSetting(o))}),it(1,gp,1,1,"img",28),I(2,"span",29),$(3),N(),it(4,yp,2,0,"mat-icon",30),N()}if(c&2){let t=r.$implicit,a=X();je("selected-lang",t.code===a.selectedLang),A(),nt(t.flag?1:-1),A(2),Xe(t.name),A(),nt(t.code===a.selectedLang?4:-1)}}function bp(c,r){if(c&1&&(I(0,"span",25),$(1),N()),c&2){let t=X().$implicit;A(),lt(" ",t.description," ")}}function wp(c,r){c&1&&(I(0,"mat-icon",26),$(1,"check_circle"),N())}function xp(c,r){if(c&1&&(I(0,"mat-option",22)(1,"span"),$(2),N(),wt(3,bp,2,1,"span",23)(4,wp,2,0,"mat-icon",24),N()),c&2){let t=r.$implicit,a=X(2);q("value",t),A(2),Xe(t.name),A(),q("ngIf",t.description),A(),q("ngIf",t.id===a.selectedResearchField)}}function kp(c,r){if(c&1){let t=ot();I(0,"div",31)(1,"mat-form-field",32)(2,"mat-label"),$(3),N(),_e(4,"input",19,3),I(6,"mat-autocomplete",20,2),we("optionSelected",function(o){ve(t);let h=X();return be(h.researchFieldSelect(o.option.value))}),wt(8,xp,5,4,"mat-option",21),Vt(9,"async"),N()()()}if(c&2){let t=zr(7),a=X();A(3),Xe(a.projectSearch),A(),q("formControl",a.searchResearchField)("matAutocomplete",t)("placeholder",a.projectName),A(2),q("displayWith",a.displayResearchField),A(2),q("ngForOf",Bt(9,6,a.filteredResearchFields$))}}var xh=(()=>{let r=class r{getResearchFieldQuery(a){return`https://database.factgrid.de/sparql?query=SELECT ?item ?itemLabel ?itemDescription  
    WHERE {
      SERVICE wikibase:label { bd:serviceParam wikibase:language "${a},en". }
      ?item wdt:P2 wd:Q11295.
    }`}constructor(){this.router=P(Hd),this.request=P(Ua),this.selectedResearchFieldService=P(Eo),this.lang=P(Ga),this.langs=[{name:"English",code:"en"},{name:"Deutsch",code:"de"},{name:"Fran\xE7ais",code:"fr"},{name:"Espa\xF1ol",code:"es"},{name:"\u4E2D\u6587",code:"zh"},{name:"Italiano",code:"it"},{name:"Magyar",code:"hu"},{name:"Svenska",code:"se"}],this.specialPages=[{name:"Harmonia Universalis",address:"harmonia_universalis"},{name:"Paris",address:"paris"}],this.researchFields=[],this.researchFields$=new zi([]),this.searchResearchField=new $n(null),this.selectedLang=localStorage.selectedLang===void 0?"en":localStorage.selectedLang,this.selectedPage=sessionStorage.selectedPage===void 0?JSON.stringify([{name:"FactGrid",address:""}]):sessionStorage.selectedPage,this.selectedItems=[],this.selectedParisItems=[],this.selectedResearchField=localStorage.selectedResearchField,this.title="factgrid",this.searchInput=new $n,this.searchToken="on",this.isDown=!0,this.items=[],this.showResearchField=!1,this.projectSearch="Search a project",this.projectName="Project name"}ngOnInit(){localStorage.selectedLang===void 0&&localStorage.setItem("selectedLang","en"),localStorage.selectedItems===void 0&&localStorage.setItem("selectedItems",JSON.stringify([{value:{id:"Q152233"},label:"FactGrid"}])),localStorage.selectedResearchField===void 0&&localStorage.setItem("selectedResearchField","all"),localStorage.selectedParisItems===void 0&&localStorage.setItem("selectedParisItems",JSON.stringify([{value:{id:"Q152233"},label:"FactGrid"}])),this.projectSearch=this.lang.getTranslation("projectSearch",this.lang.selectedLang),this.projectName=this.lang.getTranslation("projectName",this.lang.selectedLang);let a=this.selectedResearchFieldService.getSelectedResearchField();this.searchResearchField.setValue(a),this.selectedResearchFieldService.showResearchField$.subscribe(o=>{this.showResearchField=o}),this.selectedResearchFieldService.selectedResearchField$.subscribe(o=>{this.searchResearchField.value?.id!==o?.id&&this.searchResearchField.setValue(o,{emitEvent:!1})}),this.filteredResearchFields$=Fr([this.researchFields$,this.searchResearchField.valueChanges.pipe(Et(""))]).pipe(et(([o,h])=>{let f=(typeof h=="string"?h:h?.name||"").toLowerCase();return o.filter(y=>y.name.toLowerCase().includes(f))})),this.request.getList(this.getResearchFieldQuery(this.selectedLang)).pipe(et(o=>this.listFromSparql(o)),et(o=>[{name:"-",id:"-"},...o.results.bindings.map(h=>({name:h.itemLabel.value,id:h.item.id,description:h.itemDescription?.value??""}))])).subscribe(o=>{o.sort((h,f)=>h.name.localeCompare(f.name)),this.researchFields=o,this.researchFields$.next(o)})}langSetting(a){a!==void 0&&(this.selectedLang=a.code),localStorage.selectedLang=this.selectedLang,window.location.reload()}researchFieldSelect(a){this.selectedResearchFieldService.setSelectedResearchField({id:a.id,name:a.name,description:a.description??""}),this.searchResearchField.setValue(a)}linking(){window.open("https://database.factgrid.de/wiki/Main_Page","_blank")}listFromSparql(a){if(a!==void 0){if(a.results!==void 0)for(let o=0;o<a.results.bindings.length;o++)a.results.bindings[o].item.id=a.results.bindings[o].item.value.replace("https://database.factgrid.de/entity/",""),a.results.bindings[o].item.id.startsWith("P")?a.results.bindings[o].item.entity="property":a.results.bindings[o].item.entity="item"}else a={head:{vars:["item","itemLabel","itemDescription","fLabel","activityLabel"]},results:{bindings:[]}};return a}displayResearchField(a){return a&&a.name?a.name:"-"}toggleResearchField(){this.showResearchField=!this.showResearchField,this.selectedResearchFieldService.setShowResearchField(this.showResearchField)}};r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=Oe({type:r,selectors:[["app-root"]],decls:23,vars:3,consts:[["menuLanguage","matMenu"],["searchResearchFieldInput",""],["autoResearchField","matAutocomplete"],["searchResearchFieldInputMobile",""],["href",Sd`https://fonts.googleapis.com/icon?family=Material+Icons`,"rel","stylesheet"],[1,"app-container"],[1,"custom-toolbar"],["src","https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/FactGrid-Logo.png/289px-FactGrid-Logo.png","width","90","height","90",2,"vertical-align","bottom","padding","10px","margin","10px",3,"click"],[1,"toolbar-spacer"],["class","desktop-only",4,"ngIf"],["mat-icon-button","","aria-label","S\xE9lection du projet de recherche",1,"toolbar-btn",3,"click"],["mat-icon-button","","onClick","window.open('https://blog.factgrid.de/archives/2684')","aria-label","Informations",1,"toolbar-btn"],["mat-icon-button","","aria-label","S\xE9lection de la langue",1,"toolbar-btn",3,"matMenuTriggerFor"],[1,"language-menu"],["mat-menu-item","",3,"selected-lang"],["class","mobile-only researchfield-mobile",4,"ngIf"],[1,"main-content"],[1,"desktop-only"],["appearance","outline",2,"width","250px","margin","8px"],["type","text","matInput","",3,"formControl","matAutocomplete","placeholder"],[1,"wide-autocomplete",3,"optionSelected","displayWith"],["class","research-field-option",3,"value",4,"ngFor","ngForOf"],[1,"research-field-option",3,"value"],["class","research-field-description",4,"ngIf"],["color","primary","style","margin-left:8px;",4,"ngIf"],[1,"research-field-description"],["color","primary",2,"margin-left","8px"],["mat-menu-item","",3,"click"],["width","24","height","16",2,"margin-right","8px","border-radius","2px",3,"src"],[2,"flex","1","font-weight","500"],["color","primary"],[1,"mobile-only","researchfield-mobile"],["appearance","outline",2,"width","90vw","max-width","350px"]],template:function(o,h){if(o&1){let f=ot();_e(0,"link",4),I(1,"div",5)(2,"mat-toolbar",6)(3,"img",7),we("click",function(){return ve(f),be(h.linking())}),N(),_e(4,"span",8),wt(5,_p,10,8,"div",9),I(6,"button",10),we("click",function(){return ve(f),be(h.toggleResearchField())}),I(7,"mat-icon"),$(8,"settings"),N()(),I(9,"button",11)(10,"mat-icon"),$(11,"info"),N()(),I(12,"button",12)(13,"mat-icon"),$(14,"language"),N()(),I(15,"mat-menu",13,0),Yi(17,vp,5,5,"button",14,$s),N()(),wt(19,kp,10,8,"div",15),I(20,"main",16),_e(21,"router-outlet"),N(),_e(22,"app-footer"),N()}if(o&2){let f=zr(16);A(5),q("ngIf",h.showResearchField),A(7),q("matMenuTriggerFor",f),A(5),Hi(h.langs),A(2),q("ngIf",h.showResearchField)}},dependencies:[ao,Ld,io,no,Ao,bh,dn,Qn,To,$a,Wr,yh,Ba,uo,_i,Yd,wh,ja,Ha,vo,yo,Wa,bo,za,ro,so,oo,wo,rh,nh,sh,Za],styles:['@charset "UTF-8";.custom-toolbar[_ngcontent-%COMP%]{display:flex;flex-flow:row;padding-top:50px;padding-bottom:20px;background-color:#fff}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.toolbar-btn[_ngcontent-%COMP%]{margin-top:-10px}.desktop-only[_ngcontent-%COMP%]{display:inline-block;padding-right:40px}.mobile-only[_ngcontent-%COMP%]{display:none}@media (max-width: 700px){.desktop-only[_ngcontent-%COMP%]{display:none!important}.mobile-only[_ngcontent-%COMP%]{display:block!important}}.language-menu[_ngcontent-%COMP%]   .mat-menu-item.selected-lang[_ngcontent-%COMP%]{background:#e3f2fd;font-weight:700}.language-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover{background:#bbdefb}.language-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:8px}.researchfield-menu[_ngcontent-%COMP%]   .mat-menu-item.selected-researchfield[_ngcontent-%COMP%]{background:#e3f2fd;font-weight:700}.researchfield-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover{background:#bbdefb}.researchfield-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:8px}.researchfield-mobile[_ngcontent-%COMP%]{margin-left:10px;margin-top:200px}@media (max-width: 700px){.custom-toolbar[_ngcontent-%COMP%]{padding-bottom:0}.researchfield-mobile[_ngcontent-%COMP%]{margin-top:60px;margin-left:10px;width:90vw;max-width:350px}}@media (min-width: 700px){.researchfield-mobile[_ngcontent-%COMP%]{margin-top:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}body[_ngcontent-%COMP%], app-root[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;height:100%}.main-content[_ngcontent-%COMP%]{flex:1 0 auto;display:flex;flex-direction:column}[matSuffix][_ngcontent-%COMP%]{display:flex;align-items:center;gap:0!important}[matSuffix][_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{margin:0!important;padding:0!important;min-width:0!important;width:28px!important;height:28px!important}[matSuffix][_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px!important;width:18px!important;height:18px!important;line-height:18px!important}footer[_ngcontent-%COMP%], app-footer[_ngcontent-%COMP%]{flex-shrink:0}'],data:{animation:[_h]}});let c=r;return c})();var kh=(()=>{let r=class r{constructor(a,o){this.request=a,this.lang=o}fetchAllIds(a){let o=[0,500,1e3,1500],h=y=>(y.query?.search??[]).map(w=>{let x=w.title.match(/Q\d+/);return x?x[0]:null}).filter(w=>!!w),f=o.map(y=>this.request.getItem(`${a}&sroffset=${y}`).pipe(et(h)));return Oa(f).pipe(et(y=>Array.from(new Set(y.flat()))))}fetchAutocompleteEntities(a){let o=`https://database.factgrid.de/w/api.php?action=wbsearchentities&search=${encodeURIComponent(a)}&language=${this.lang.selectedLang}&type=item&limit=500&format=json&origin=*`;return this.request.getItem(o).pipe(et(h=>(h.search||[]).map(f=>({id:f.id,label:f.label,aliases:f.aliases||[],description:f.description||""}))))}fetchEntities(a){if(a.length===0)return $e([]);let f=((y,w)=>{let x=[];for(let O=0;O<y.length;O+=w)x.push(y.slice(O,O+w));return x})(a,50).map(y=>{let x=`https://database.factgrid.de/w/api.php?action=wbgetentities&ids=${y.join("|")}&format=json&languages=${this.lang.selectedLang}&origin=*`;return this.request.getItem(x).pipe(et(O=>O.entities?this.adaptEntities(Object.values(O.entities),this.lang.selectedLang):[]))});return f.length>0?Oa(f).pipe(et(y=>y.flat())):$e([])}adaptEntities(a,o){return a.map(h=>({id:h.id,label:h.labels?.[o]?.value||"",aliases:h.aliases?.[o]?.map(f=>f.value)||[],description:h.descriptions?.[o]?.value||""}))}buildSearchUrl(a){return`https://database.factgrid.de/w/api.php?action=query&list=search&format=json&origin=*&srsearch=${encodeURIComponent(a)}&srnamespace=120&srlimit=500`}};r.\u0275fac=function(o){return new(o||r)(Vi(Ua),Vi(Ga))},r.\u0275prov=Ze({token:r,factory:r.\u0275fac,providedIn:"root"});let c=r;return c})();var Sh=(()=>{let r=class r{normalizeString(a){return a?a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim():""}buildSearchFilters(a,o,h,f){let y=[];return h&&y.push("haswbstatement:P2=Q7"),f&&y.push("haswbstatement:P2=Q20"),o&&o!=="-"&&o!=="Q0"&&o!=="all"&&y.push(`haswbstatement:P131=${o}`),y.push(`${a}*`),y}matchesSearchCriteria(a,o,h){let f=this.normalizeString(a.label),y=(a.aliases||[]).map(this.normalizeString),w=this.normalizeString(a.description);return!!(f.includes(o)||y.some(x=>x.includes(o))||h&&w.includes(o))}filterResultsLocally(a,o,h){let f=this.normalizeString(o);return a.filter(y=>this.matchesSearchCriteria(y,f,h))}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ze({token:r,factory:r.\u0275fac,providedIn:"root"});let c=r;return c})();var Mh=(()=>{let r=class r{constructor(){this.broadCacheInput="",this.broadCacheItems=[],this.broadCacheComplete=!1}invalidateCache(){this.broadCacheInput="",this.broadCacheItems=[],this.broadCacheComplete=!1}setCacheComplete(a){this.broadCacheComplete=a}getItems(){return this.broadCacheItems}isComplete(){return this.broadCacheComplete}cacheItems(a,o){this.broadCacheInput=a,this.broadCacheItems=o}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ze({token:r,factory:r.\u0275fac,providedIn:"root"});let c=r;return c})();var Dh=c=>["/item",c],Sp=()=>["./advanced_search"],Mp=(c,r)=>r.id;function Dp(c,r){if(c&1){let t=ot();$(0),I(1,"button",11),we("click",function(){ve(t);let o=X();return be(o.clearProjectSearch())}),I(2,"mat-icon"),$(3,"close"),N()()}if(c&2){X();let t=Ad(5);lt(" ",t.name," ")}}function Cp(c,r){if(c&1){let t=ot();I(0,"button",12),we("click",function(){ve(t);let o=X();return be(o.clearItemSearch())}),I(1,"mat-icon"),$(2,"close"),N()()}}function Tp(c,r){if(c&1){let t=ot();I(0,"div",9)(1,"button",13),we("click",function(){ve(t);let o=X();return be(o.togglePeopleFilter())}),I(2,"mat-icon",14),$(3),N()(),I(4,"button",15),we("click",function(){ve(t);let o=X();return be(o.togglePublicationFilter())}),I(5,"mat-icon",14),$(6),N()()()}if(c&2){let t=X();A(),je("active",t.filterPeople==="people"),q("matTooltip",t.filterPeople==="people"?t.filterPeopleDeactivate:t.filterPeopleActivate),A(),q("ngClass",t.filterPeople==="people"?"icon-active":"icon-inactive"),A(),lt(" ",t.filterPeople==="people"?"person":"person_outline"," "),A(),je("active",t.filterPublication==="publication"),q("matTooltip",t.filterPublication==="publication"?t.filterPublicationDeactivate:t.filterPublicationActivate),A(),q("ngClass",t.filterPublication==="publication"?"icon-active":"icon-inactive"),A(),lt(" ",(t.filterPublication==="publication","menu_book")," ")}}function Ap(c,r){if(c&1&&(I(0,"span",24),$(1),N()),c&2){let t=X().$implicit;A(),Xe(t.description)}}function Ep(c,r){if(c&1&&(I(0,"li",21)(1,"div",22)(2,"span",23),$(3),N(),it(4,Ap,2,1,"span",24),N(),I(5,"span",25)(6,"button",26)(7,"mat-icon",27),$(8,"open_in_new"),N()()()()),c&2){let t=r.$implicit;A(3),lt(" ",t.label," "),A(),nt(t.description?4:-1),A(2),q("routerLink",ec(4,Dh,t.id)),A(),q("inline",!0)}}function Pp(c,r){if(c&1&&(I(0,"div",10)(1,"div",16)(2,"div",17)(3,"mat-form-field",18)(4,"mat-label"),$(5),N(),_e(6,"input",19),N(),I(7,"span",20),$(8),Vt(9,"async"),N()(),I(10,"ul"),Yi(11,Ep,9,6,"li",21,Mp),Vt(13,"async"),N()()()),c&2){let t,a=X();A(5),Xe(a.filterResults),A(),q("formControl",a.filterInput),A(2),Vr(" ",((t=Bt(9,4,a.filteredItems$))==null?null:t.length)||0," ",a.dataOptions," "),A(3),Hi(Bt(13,6,a.filteredItems$))}}function Lp(c,r){if(c&1&&(I(0,"span",36),$(1),I(2,"mat-icon-button",37)(3,"mat-icon",38),$(4,"open_in_new"),N()(),$(5,"\xA0\xA0\xA0\xA0\xA0 "),N()),c&2){let t=X().$implicit;A(),lt(" ",t.label,"\xA0 "),A(),q("routerLink",ec(3,Dh,t.value.id)),A(),q("inline",!0)}}function Ip(c,r){if(c&1&&(I(0,"div",35),it(1,Lp,6,5,"span",36),_e(2,"br"),N()),c&2){let t=r.$implicit;A(),nt(t?1:-1)}}function Op(c,r){if(c&1&&(I(0,"div")(1,"div",28)(2,"a",29),$(3),N(),I(4,"span"),$(5,"\xA0\xA0|\xA0\xA0"),N(),I(6,"a",30),$(7," sparql query "),N(),I(8,"span"),$(9,"\xA0\xA0|\xA0\xA0"),N()(),I(10,"div",31)(11,"mat-card",32)(12,"div",33),$(13),N(),I(14,"div",34),_e(15,"hr"),I(16,"mat-card-content")(17,"div"),Yi(18,Ip,3,1,"div",35,$s),N()()()()()()),c&2){let t=X();A(2),q("routerLink",Ed(3,Sp)),A(),Xe(t.advanced_search),A(10),Xe(t.formerVisitsTitle),A(5),Hi(t.selectedItemsList)}}function Jn(c){return c?c.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim():""}function Rp(c,r){let t=[];for(let a=0;a<c.length;a+=r)t.push(c.slice(a,a+r));return t}var Ch=(()=>{let r=class r{constructor(){this.changeDetector=P(ut),this.request=P(Ua),this.setLanguage=P(hh),this.lang=P(Ga),this.selectedResearchField=P(Eo),this.wikibaseSearch=P(kh),this.searchFilter=P(Sh),this.searchCache=P(Mh),this.title="factgrid",this.subtitle="",this.advanced_search="",this.projects="",this.fields="",this.dataOptions="",this.projectsInput="",this.itemsInput="",this.filterResults="",this.formerVisitsTitle="",this.filterPeopleActivate="",this.filterPeopleDeactivate="",this.filterPublicationActivate="",this.filterPublicationDeactivate="",this.showResearchField=!1,this.showInDescription=!1,this.isSearching=!1,this.searchResearchField=new $n(""),this.searchInput=new $n,this.filterInput=new $n(""),this.researchFields=[],this.researchFields$=new zi([]),this.items=[],this.items$=new zi([]),this.selectedItemsList=[],this.selectedResearchField$=this.selectedResearchField.selectedResearchField$,this.subscriptions=[],this.showInDescriptionSubject=new zi(!1),this.baseGetURL="https://database.factgrid.de//w/api.php?action=wbgetentities&ids=",this.getUrlSuffix="&format=json&origin=*",this.filterPeople=null,this.filterPublication=null,this.termCache={},this.broadCacheInput="",this.broadCacheItems=[],this.broadCacheComplete=!1,this.searchInputValue$=this.searchInput.valueChanges.pipe(Et(this.searchInput.value||""))}togglePeopleFilter(){this.filterPeople==="people"?this.filterPeople=null:(this.filterPeople="people",this.filterPublication=null),this.searchInput.setValue(this.searchInput.value||"")}togglePublicationFilter(){this.filterPublication==="publication"?this.filterPublication=null:(this.filterPublication="publication",this.filterPeople=null),this.searchInput.setValue(this.searchInput.value||"")}ngOnInit(){this.initTranslations(),this.initSelectedItemsList(),this.initShowResearchFieldSync(),this.initResearchFields(),this.initSearchResults(),this.initFilteredItems(),this.initHintValue()}initResearchFields(){let a=this.selectedResearchField.selectedResearchField$.subscribe(()=>{this.searchInput.setValue(""),this.items=[],this.items$.next([]),this.changeDetector.markForCheck()});this.subscriptions.push(a)}ngOnDestroy(){this.subscriptions.forEach(a=>a.unsubscribe()),this.items=[],this.items$.next([]),this.termCache={},this.broadCacheItems=[]}initTranslations(){let a=this.lang.selectedLang;this.subtitle=this.lang.getTranslation("subtitle",a),this.advanced_search=this.lang.getTranslation("advanced_search",a),this.projects=this.lang.getTranslation("projects",a),this.fields=this.lang.getTranslation("fields",a),this.projectsInput=this.lang.getTranslation("projectsInput",a),this.itemsInput=this.lang.getTranslation("itemsInput",a),this.formerVisitsTitle=this.lang.getTranslation("formerVisitsTitle",a),this.filterResults=this.lang.getTranslation("filterResults",a),this.filterPeopleActivate=this.lang.getTranslation("filterPeopleActivate",a),this.filterPeopleDeactivate=this.lang.getTranslation("filterPeopleDeactivate",a),this.filterPublicationActivate=this.lang.getTranslation("filterPublicationActivate",a),this.filterPublicationDeactivate=this.lang.getTranslation("filterPublicationDeactivate",a),this.dataOptions=this.lang.getTranslation("results",a)}initSelectedItemsList(){let a=localStorage.getItem("selectedItems");this.selectedItemsList=a?JSON.parse(a).filter(o=>o!==null):[]}initShowResearchFieldSync(){let a=this.selectedResearchField.showResearchField$.subscribe(o=>{this.showResearchField=o,this.changeDetector.markForCheck()});this.subscriptions.push(a)}fetchAllIds(a){let o=[0,500,1e3,1500],h=y=>(y.query?.search??[]).map(w=>{let x=w.title.match(/Q\d+/);return x?x[0]:null}).filter(w=>!!w),f=o.map(y=>this.request.getItem(`${a}&sroffset=${y}`).pipe(et(h)));return Oa(f).pipe(et(y=>Array.from(new Set(y.flat()))))}fetchAutocompleteEntities(a){let o=`https://database.factgrid.de/w/api.php?action=wbsearchentities&search=${encodeURIComponent(a)}&language=${this.lang.selectedLang}&type=item&limit=500&format=json&origin=*`;return this.request.getItem(o).pipe(et(h=>(h.search||[]).map(f=>({id:f.id,label:f.label,aliases:f.aliases||[],description:f.description||""}))))}initSearchResults(){this.searchResults$=Fr([this.searchInput.valueChanges.pipe(Et("")),this.showInDescriptionSubject,this.selectedResearchField.selectedResearchField$]).pipe(Zn(([a])=>{this.isSearching=!!a&&a.length>0}),gd(250),Ra(([a,o,h])=>{let f=Jn(a),y=h?.id||"all";if(!f)return this.searchCache.invalidateCache(),this.resetSearchState(),$e([]);if(!y||y==="all"||y==="-"||y==="Q0")return this.wikibaseSearch.fetchAutocompleteEntities(f).pipe(Zn(B=>this.updateItemsList(B)));let w=f.split(" ")[0],O=this.searchFilter.buildSearchFilters(w,y,this.filterPeople==="people",this.filterPublication==="publication").join(" "),z=this.wikibaseSearch.buildSearchUrl(O);return this.wikibaseSearch.fetchAllIds(z).pipe(Zn(B=>{let V=B.length<2e3;this.searchCache.setCacheComplete(V)}),Ra(B=>this.wikibaseSearch.fetchEntities(B)),et(B=>this.searchFilter.filterResultsLocally(B,f,o)),Zn(B=>{this.searchCache.isComplete()&&this.searchCache.cacheItems(f,B),this.updateItemsList(B)}))}))}resetSearchState(){this.items=[],this.items$.next([]),this.updateHintValue(),this.changeDetector.markForCheck(),this.termCache={},this.broadCacheInput="",this.broadCacheItems=[],this.broadCacheComplete=!1}buildSearchFilters(a,o){let h=[];return this.filterPeople==="people"&&h.push("haswbstatement:P2=Q7"),this.filterPublication==="publication"&&h.push("haswbstatement:P2=Q20"),a&&a!=="-"&&a!=="Q0"&&a!=="all"&&h.push(`haswbstatement:P131=${a}`),h.push(`${o}*`),h}buildSearchUrl(a){return`https://database.factgrid.de/w/api.php?action=query&list=search&format=json&origin=*&srsearch=${encodeURIComponent(a)}&srnamespace=120&srlimit=500`}fetchEntities(a){if(a.length===0)return $e([]);let h=Rp(a,50).map(f=>{let w=`https://database.factgrid.de/w/api.php?action=wbgetentities&ids=${f.join("|")}&format=json&languages=${this.lang.selectedLang}&origin=*`;return this.request.getItem(w).pipe(et(x=>x.entities?this.adaptEntities(Object.values(x.entities),this.lang.selectedLang):[]))});return h.length>0?Oa(h).pipe(et(f=>f.flat())):$e([])}filterResultsLocally(a,o,h){return!this.broadCacheComplete&&this.broadCacheItems.length>0?this.broadCacheItems.filter(f=>this.matchesSearchCriteria(f,o,h)):a.filter(f=>this.matchesSearchCriteria(f,o,h))}matchesSearchCriteria(a,o,h){let f=Jn(a.label),y=(a.aliases||[]).map(Jn),w=Jn(a.description);return!!(f.includes(o)||y.some(x=>x.includes(o))||h&&w.includes(o))}updateItemsList(a){this.items=a,this.items$.next(a),this.updateHintValue(),this.changeDetector.markForCheck()}initFilteredItems(){this.filteredItems$=Fr([this.items$,this.filterInput.valueChanges.pipe(Et(""))]).pipe(et(([o,h])=>{let f=Jn(h||"");return f?o.filter(y=>Jn(y.label).includes(f)||Jn(y.description).includes(f)):o}));let a=this.filteredItems$.subscribe();this.subscriptions.push(a)}initHintValue(){this.hintValue$=$e(0)}updateHintValue(){let a=this.selectedResearchField.getSelectedResearchField();this.hintValue$=this.items.length>0?$e(this.items.length):!a||a.id==="Q0"?this.pages:$e(0)}isArray(a){return Array.isArray(a)}createList(a){let h=(a.search??[]).map(f=>f.id).join("|");return this.baseGetURL+h+this.getUrlSuffix}listFromSparql(a){if(a?.results)for(let o=0;o<a.results.bindings.length;o++){let h=a.results.bindings[o];h.item.id=h.item.value.replace("https://database.factgrid.de/entity/",""),h.item.id.startsWith("P")?h.item.entity="property":h.item.entity="item",h.itemLabel.value=h.itemLabel.value,h.itemDescription?h.itemDescription.value=h.itemDescription.value:h.itemDescription={value:""}}else a={head:{vars:["item","itemLabel","itemDescription"]},results:{bindings:[]}};return a}adaptEntities(a,o){return a.map(h=>({id:h.id,label:h.labels?.[o]?.value||"",aliases:h.aliases?.[o]?.map(f=>f.value)||[],description:h.descriptions?.[o]?.value||""}))}researchFieldSelect(a){if(!a)this.selectedResearchField.setSelectedResearchField({id:"all",name:"all",description:""});else if(this.selectedResearchField.setSelectedResearchField({id:a.id,name:a.name,description:a.description??""}),a.name==="Paris"||a.name==="Harmonia Universalis")return;this.updateHintValue()}displayResearchField(a){return typeof a=="string"?a:a&&a.name?a.name:""}clearProjectSearch(){this.searchResearchField.setValue(""),this.selectedResearchField.setSelectedResearchField({id:"all",name:"all",description:""}),this.selectedResearchField.setShowResearchField(!1),this.updateHintValue()}clearItemSearch(){this.searchInput.setValue("",{emitEvent:!1}),this.items=[],this.items$.next([]),this.changeDetector.detectChanges()}onShowInDescriptionChange(a){this.showInDescription=a,this.showInDescriptionSubject.next(a)}};r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=Oe({type:r,selectors:[["app-search"]],decls:27,vars:25,consts:[[1,"cardBackground"],[1,"FactGridTitle"],[1,"subTitle"],[1,"selected-research-field",2,"display","flex","align-items","center","gap","4px"],[1,"search-center2"],[1,"search-field-col"],["appearance","outline",1,"search-field"],["matInput","","placeholder","ex: Goethe",1,"search-input-style",3,"formControl"],["mat-icon-button","","matSuffix","","aria-label","Effacer",3,"click",4,"ngIf"],[1,"search-icons-row"],[1,"items-list-container"],["mat-icon-button","","aria-label","D\xE9s\xE9lectionner le projet",2,"margin-left","2px","font-size","18px",3,"click"],["mat-icon-button","","matSuffix","","aria-label","Effacer",3,"click"],["mat-icon-button","","aria-label","Filtrer par personnes",1,"small-icon-btn","people-btn",3,"click","matTooltip"],[1,"small-icon",3,"ngClass"],["mat-icon-button","","aria-label","Filtrer par publications",1,"small-icon-btn",3,"click","matTooltip"],[1,"items-list-inner"],[2,"display","flex","align-items","center","gap","12px","margin-bottom","8px"],["appearance","outline",1,"filter-field"],["matInput","",3,"formControl"],[1,"item-count"],[1,"item-row"],[1,"item-main"],[1,"item-label"],[1,"item-description"],[1,"item-actions",2,"margin-left","auto"],["mat-icon-button","","aria-label","Voir l'item",1,"internalLink",3,"routerLink"],["color","primary",3,"inline"],[1,"search-center"],[3,"routerLink"],["href","https://database.factgrid.de/query/#%23model%0A%0ASELECT%20%3Fitem%20%3Fviewer%20%3FitemLabel%20%20WHERE%20%7B%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22%5BAUTO_LANGUAGE%5D%2Cen%22.%20%7D%0A%20%20%3Fitem%20wdt%3AP2%20wd%3AQ7%3B%0A%20%20%20%20%20%20%20%20wdt%3AP247%20wd%3AQ24708.%0A%20%20BIND%28STRAFTER%28STR%28%3Fitem%29%2C%20STR%28wd%3A%29%29%20AS%20%3FitemId%29%0A%20%20BIND%28IRI%28CONCAT%28%22https%3A%2F%2Fdatabase.factgrid.de%2Fviewer%2Fitem%2F%22%2C%20%3FitemId%29%29%20AS%20%3Fviewer%29%0A%7D%0A"],[1,"search-itemSelected"],["appearance","outlined",1,"search-itemSelected-mat-card"],[1,"selectedListTitle2"],[1,"selectedItemSize"],[1,"labelTitlePadding"],[1,"selectedItemText"],[1,"internalLink",3,"routerLink"],[1,"whiteButton",3,"inline"]],template:function(o,h){if(o&1&&(I(0,"div",0)(1,"div",1),$(2," FactGrid "),N(),I(3,"div",2),$(4),N(),eo(5),Vt(6,"async"),I(7,"div",3),it(8,Dp,4,1),N()(),I(9,"div",4)(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),$(13),N(),_e(14,"input",7),wt(15,Cp,3,0,"button",8),it(16,Tp,7,10,"div",9),Vt(17,"async"),Vt(18,"async"),Vt(19,"async"),Vt(20,"async"),N()()(),eo(21),Vt(22,"async"),it(23,Pp,14,8,"div",10),eo(24),Vt(25,"async"),it(26,Op,20,4,"div")),o&2){let f;A(),je("with-researchfield-input",h.showResearchField),A(3),Xe(h.subtitle),A();let y=Td(Bt(6,10,h.selectedResearchField$));A(3),nt((y==null?null:y.name)!=="-"&&(y==null?null:y.name)!==""&&(y==null?null:y.name)!=="all"?8:-1),A(5),Xe(h.itemsInput),A(),q("formControl",h.searchInput),A(),q("ngIf",h.searchInput.value),A(),nt((f=Bt(17,13,h.selectedResearchField$))!=null&&f.id&&((f=Bt(18,15,h.selectedResearchField$))==null?null:f.id)!=="all"&&((f=Bt(19,17,h.selectedResearchField$))==null?null:f.id)!=="-"&&((f=Bt(20,19,h.selectedResearchField$))==null?null:f.id)!=="Q0"?16:-1);let w=Bt(22,21,h.searchResults$);A(7),nt(w&&w.length>0?23:-1);let x=Bt(25,23,h.filteredItems$);A(3),nt(h.isArray(x)&&x.length===0?26:-1)}},dependencies:[ao,to,io,no,_i,Wd,za,ro,so,oo,lo,Wa,bo,vo,yo,th,Ha,oh,ja,ih,Ba,uo,dn,Qn,xo,lh,ch,wo,dh,ko],styles:['@charset "UTF-8";.search-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.FactGrid-div[_ngcontent-%COMP%]{height:150px;display:flex;align-items:center;justify-content:center}.FactGridTitle-div[_ngcontent-%COMP%]{padding-left:10px;color:#ad1457;font-weight:600;font-size:60px}.search-label[_ngcontent-%COMP%]{font-weight:700}.search-itemSelected[_ngcontent-%COMP%]{margin-top:50px}.selected-project-label[_ngcontent-%COMP%]{font-size:.95em;color:#283593;margin-top:4px;margin-left:0;width:300px;box-sizing:border-box}[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100%}.selectedItemSize[_ngcontent-%COMP%]{font-size:14px}mat-form-field[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;line-height:.5!important;padding:0!important}mat-hint[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]   .mat-checkbox-layout[_ngcontent-%COMP%]   .mat-checkbox-label[_ngcontent-%COMP%]{font-size:.75rem!important;font-weight:400!important;line-height:.5!important;padding:0!important;margin:0!important}.search-inputs-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:24px;width:100%;justify-content:center;align-items:flex-start}.search-field-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:300px}.selected-project-label[_ngcontent-%COMP%]{font-size:.95em;color:#283593;margin-top:.25em;margin-left:0;width:100%;box-sizing:border-box;line-height:1.2;opacity:.8;font-style:italic}.icon-active[_ngcontent-%COMP%]{color:#ad1457!important}.icon-inactive[_ngcontent-%COMP%]{color:#3f51b5!important}.no-results[_ngcontent-%COMP%]{text-align:center;margin-top:24px;color:#ad1457;font-size:1.1em}'],changeDetection:0});let c=r;return c})();var pn=ql(Ah());var Eh=(()=>{let r=class r{constructor(){this.changeDetector=P(ut),this.route=P(Bd)}ngOnInit(){this.route.params.subscribe(a=>{let o=a.lat,h=a.lng,f=a.z;this.lat=Number(o),this.lng=Number(h),this.zoom=Number(f);let y={coords:new pn.LatLng(this.lat,this.lng),zoom:this.zoom},w=pn.map("map");pn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(w),pn.marker([this.lat,this.lng]).addTo(w),w.setView(y.coords,y.zoom)})}ngOnDestroy(){}};r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=Oe({type:r,selectors:[["app-map"]],decls:4,vars:0,consts:[["map",""],["map2",""],["id","map",1,"mapPadding"],["id","map2",1,"mapPadding"]],template:function(o,h){o&1&&_e(0,"div",2,0)(2,"div",3,1)},styles:["[_nghost-%COMP%]{height:100%}#map[_ngcontent-%COMP%]{width:100%;height:400px}"]});let c=r;return c})();var Fp={paramsInheritanceStrategy:"always"},Ph=[{path:"",component:Ch},{path:"item/:id",loadComponent:()=>import("./chunk-BFRXS6EO.js").then(c=>c.DisplayComponent),children:[{path:":lat/:lng/:z",component:Eh}]},{path:"paris",loadComponent:()=>import("./chunk-HWDZ5LH3.js").then(c=>c.ParisSearchComponent)},{path:"harmonia_universalis",loadComponent:()=>import("./chunk-ZGNIJBHM.js").then(c=>c.HarmoniaUniversalisComponent)},{path:"advanced_search",loadComponent:()=>import("./chunk-RV4HYDJG.js").then(c=>c.AdvancedSearchComponent)}],Iy=_i.forRoot(Ph,Fp),Lh=(()=>{let r=class r{};r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=bt({type:r}),r.\u0275inj=vt({imports:[_i.forRoot(Ph,{scrollPositionRestoration:"enabled"}),_i]});let c=r;return c})();var Ih=(()=>{class c{static \u0275fac=function(a){return new(a||c)};static \u0275mod=bt({type:c});static \u0275inj=vt({imports:[cc,Yt,cc,Yt]})}return c})();var Np=ql(fc(),1),Oh=ql(fc(),1),ea=Oh.default||Np,_c=new mi("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:zp});function zp(){return{useUtc:!1}}function Vp(c,r){let t=Array(c);for(let a=0;a<c;a++)t[a]=r(a);return t}var Bp=(()=>{class c extends Jt{_options=P(_c,{optional:!0});_localeData;constructor(){super();let t=P(lc,{optional:!0});this.setLocale(t||ea.locale())}setLocale(t){super.setLocale(t);let a=ea.localeData(t);this._localeData={firstDayOfWeek:a.firstDayOfWeek(),longMonths:a.months(),shortMonths:a.monthsShort(),dates:Vp(31,o=>this.createDate(2017,0,o+1).format("D")),longDaysOfWeek:a.weekdays(),shortDaysOfWeek:a.weekdaysShort(),narrowDaysOfWeek:a.weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return t=="long"?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(t){return t=="long"?this._localeData.longDaysOfWeek:t=="short"?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return t.clone().locale(this.locale)}createDate(t,a,o){let h=this._createMoment({year:t,month:a,date:o}).locale(this.locale);return h.isValid(),h}today(){return this._createMoment().locale(this.locale)}parse(t,a){return t&&typeof t=="string"?this._createMoment(t,a,this.locale):t?this._createMoment(t).locale(this.locale):null}format(t,a){return t=this.clone(t),this.isValid(t),t.format(a)}addCalendarYears(t,a){return this.clone(t).add({years:a})}addCalendarMonths(t,a){return this.clone(t).add({months:a})}addCalendarDays(t,a){return this.clone(t).add({days:a})}toIso8601(t){return this.clone(t).format()}deserialize(t){let a;if(t instanceof Date)a=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if(typeof t=="string"){if(!t)return null;a=this._createMoment(t,ea.ISO_8601).locale(this.locale)}return a&&this.isValid(a)?this._createMoment(a).locale(this.locale):super.deserialize(t)}isDateInstance(t){return ea.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return ea.invalid()}setTime(t,a,o,h){return this.clone(t).set({hours:a,minutes:o,seconds:h,milliseconds:0})}getHours(t){return t.hours()}getMinutes(t){return t.minutes()}getSeconds(t){return t.seconds()}parseTime(t,a){return this.parse(t,a)}addSeconds(t,a){return this.clone(t).add({seconds:a})}_createMoment(t,a,o){let{strict:h,useUtc:f}=this._options||{};return f?ea.utc(t,a,o,h):ea(t,a,o,h)}static \u0275fac=function(a){return new(a||c)};static \u0275prov=Ze({token:c,factory:c.\u0275fac})}return c})(),Yp={parse:{dateInput:"l",timeInput:"LT"},display:{dateInput:"l",timeInput:"LT",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY",timeOptionLabel:"LT"}};var Rh=(()=>{class c{static \u0275fac=function(a){return new(a||c)};static \u0275mod=bt({type:c});static \u0275inj=vt({providers:[Hp()]})}return c})();function Hp(c=Yp,r){let t=[{provide:Jt,useClass:Bp,deps:[lc,_c]},{provide:Wi,useValue:c}];return r&&t.push({provide:_c,useValue:r}),t}var jp=["mat-calendar-body",""];function Up(c,r){return this._trackRow(r)}var Yh=(c,r)=>r.id;function Gp(c,r){if(c&1&&(I(0,"tr",0)(1,"td",3),$(2),N()()),c&2){let t=X();A(),Ks("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),tt("colspan",t.numCols),A(),lt(" ",t.label," ")}}function qp(c,r){if(c&1&&(I(0,"td",3),$(1),N()),c&2){let t=X(2);Ks("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),tt("colspan",t._firstRowOffset),A(),lt(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function $p(c,r){if(c&1){let t=ot();I(0,"td",6)(1,"button",7),we("click",function(o){let h=ve(t).$implicit,f=X(2);return be(f._cellClicked(h,o))})("focus",function(o){let h=ve(t).$implicit,f=X(2);return be(f._emitActiveDateChange(h,o))}),I(2,"span",8),$(3),N(),_e(4,"span",9),N()()}if(c&2){let t=r.$implicit,a=r.$index,o=X().$index,h=X();Ks("width",h._cellWidth)("padding-top",h._cellPadding)("padding-bottom",h._cellPadding),tt("data-mat-row",o)("data-mat-col",a),A(),je("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",h._isActiveCell(o,a))("mat-calendar-body-range-start",h._isRangeStart(t.compareValue))("mat-calendar-body-range-end",h._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",h._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",h._isComparisonBridgeStart(t.compareValue,o,a))("mat-calendar-body-comparison-bridge-end",h._isComparisonBridgeEnd(t.compareValue,o,a))("mat-calendar-body-comparison-start",h._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",h._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",h._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",h._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",h._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",h._isInPreview(t.compareValue)),q("ngClass",t.cssClasses)("tabindex",h._isActiveCell(o,a)?0:-1),tt("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",h._isSelected(t.compareValue))("aria-current",h.todayValue===t.compareValue?"date":null)("aria-describedby",h._getDescribedby(t.compareValue)),A(),je("mat-calendar-body-selected",h._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",h._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",h.todayValue===t.compareValue),A(),lt(" ",t.displayValue," ")}}function Kp(c,r){if(c&1&&(I(0,"tr",1),it(1,qp,2,6,"td",4),Yi(2,$p,5,48,"td",5,Yh),N()),c&2){let t=r.$implicit,a=r.$index,o=X();A(),nt(a===0&&o._firstRowOffset?1:-1),A(),Hi(t)}}function Qp(c,r){if(c&1&&(I(0,"th",2)(1,"span",6),$(2),N(),I(3,"span",3),$(4),N()()),c&2){let t=r.$implicit;A(2),Xe(t.long),A(2),Xe(t.narrow)}}var Xp=["*"];function Jp(c,r){}function ef(c,r){if(c&1){let t=ot();I(0,"mat-month-view",4),Js("activeDateChange",function(o){ve(t);let h=X();return Xs(h.activeDate,o)||(h.activeDate=o),be(o)}),we("_userSelection",function(o){ve(t);let h=X();return be(h._dateSelected(o))})("dragStarted",function(o){ve(t);let h=X();return be(h._dragStarted(o))})("dragEnded",function(o){ve(t);let h=X();return be(h._dragEnded(o))}),N()}if(c&2){let t=X();Qs("activeDate",t.activeDate),q("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName)("activeDrag",t._activeDrag)}}function tf(c,r){if(c&1){let t=ot();I(0,"mat-year-view",5),Js("activeDateChange",function(o){ve(t);let h=X();return Xs(h.activeDate,o)||(h.activeDate=o),be(o)}),we("monthSelected",function(o){ve(t);let h=X();return be(h._monthSelectedInYearView(o))})("selectedChange",function(o){ve(t);let h=X();return be(h._goToDateInView(o,"month"))}),N()}if(c&2){let t=X();Qs("activeDate",t.activeDate),q("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function nf(c,r){if(c&1){let t=ot();I(0,"mat-multi-year-view",6),Js("activeDateChange",function(o){ve(t);let h=X();return Xs(h.activeDate,o)||(h.activeDate=o),be(o)}),we("yearSelected",function(o){ve(t);let h=X();return be(h._yearSelectedInMultiYearView(o))})("selectedChange",function(o){ve(t);let h=X();return be(h._goToDateInView(o,"year"))}),N()}if(c&2){let t=X();Qs("activeDate",t.activeDate),q("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function af(c,r){}var rf=["button"],sf=[[["","matDatepickerToggleIcon",""]]],of=["[matDatepickerToggleIcon]"];function lf(c,r){c&1&&(ln(),I(0,"svg",2),_e(1,"path",3),N())}var er=(()=>{class c{changes=new Ni;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(t,a){return`${t} \u2013 ${a}`}formatYearRangeLabel(t,a){return`${t} to ${a}`}static \u0275fac=function(a){return new(a||c)};static \u0275prov=Ze({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),cf=0,Gr=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=cf++;constructor(r,t,a,o,h={},f=r,y){this.value=r,this.displayValue=t,this.ariaLabel=a,this.enabled=o,this.cssClasses=h,this.compareValue=f,this.rawValue=y}},df={passive:!1,capture:!0},Lo={passive:!0,capture:!0},Fh={passive:!0},Ja=(()=>{class c{_elementRef=P(ui);_ngZone=P(Un);_platform=P(co);_intl=P(er);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new De;previewChange=new De;activeDateChange=new De;dragStarted=new De;dragEnded=new De;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=P(Bi);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=t=>t;constructor(){let t=P(Nr),a=P(Br);this._startDateLabelId=a.getId("mat-calendar-body-start-"),this._endDateLabelId=a.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=a.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=a.getId("mat-calendar-body-comparison-end-"),P(Kn).load(po),this._ngZone.runOutsideAngular(()=>{let o=this._elementRef.nativeElement,h=[t.listen(o,"touchmove",this._touchmoveHandler,df),t.listen(o,"mouseenter",this._enterHandler,Lo),t.listen(o,"focus",this._enterHandler,Lo),t.listen(o,"mouseleave",this._leaveHandler,Lo),t.listen(o,"blur",this._leaveHandler,Lo),t.listen(o,"mousedown",this._mousedownHandler,Fh),t.listen(o,"touchstart",this._mousedownHandler,Fh)];this._platform.isBrowser&&h.push(t.listen("window","mouseup",this._mouseupHandler),t.listen("window","touchend",this._touchendHandler)),this._eventCleanups=h})}_cellClicked(t,a){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:a})}_emitActiveDateChange(t,a){t.enabled&&this.activeDateChange.emit({value:t.value,event:a})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){let a=t.numCols,{rows:o,numCols:h}=this;(t.rows||a)&&(this._firstRowOffset=o&&o.length&&o[0].length?h-o[0].length:0),(t.cellAspectRatio||a||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/h}%`),(a||!this._cellWidth)&&(this._cellWidth=`${100/h}%`)}ngOnDestroy(){this._eventCleanups.forEach(t=>t())}_isActiveCell(t,a){let o=t*this.numCols+a;return t&&(o-=this._firstRowOffset),o==this.activeCell}_focusActiveCell(t=!0){qs(()=>{setTimeout(()=>{let a=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");a&&(t||(this._skipNextFocus=!0),a.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return vc(t,this.startValue,this.endValue)}_isRangeEnd(t){return bc(t,this.startValue,this.endValue)}_isInRange(t){return wc(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return vc(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,a,o){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let h=this.rows[a][o-1];if(!h){let f=this.rows[a-1];h=f&&f[f.length-1]}return h&&!this._isRangeEnd(h.compareValue)}_isComparisonBridgeEnd(t,a,o){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let h=this.rows[a][o+1];if(!h){let f=this.rows[a+1];h=f&&f[0]}return h&&!this._isRangeStart(h.compareValue)}_isComparisonEnd(t){return bc(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return wc(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return vc(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return bc(t,this.previewStart,this.previewEnd)}_isInPreview(t){return wc(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){if(!this.isRange)return null;if(this.startValue===t&&this.endValue===t)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===t)return this._startDateLabelId;if(this.endValue===t)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(t===this.comparisonStart&&t===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(t===this.comparisonStart)return this._comparisonStartDateLabelId;if(t===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=t=>{if(this._skipNextFocus&&t.type==="focus"){this._skipNextFocus=!1;return}if(t.target&&this.isRange){let a=this._getCellFromElement(t.target);a&&this._ngZone.run(()=>this.previewChange.emit({value:a.enabled?a:null,event:t}))}};_touchmoveHandler=t=>{if(!this.isRange)return;let a=Nh(t),o=a?this._getCellFromElement(a):null;a!==t.target&&(this._didDragSinceMouseDown=!0),yc(t.target)&&t.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:o?.enabled?o:null,event:t}))};_leaveHandler=t=>{this.previewEnd!==null&&this.isRange&&(t.type!=="blur"&&(this._didDragSinceMouseDown=!0),t.target&&this._getCellFromElement(t.target)&&!(t.relatedTarget&&this._getCellFromElement(t.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:t})))};_mousedownHandler=t=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let a=t.target&&this._getCellFromElement(t.target);!a||!this._isInRange(a.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:a.rawValue,event:t})})};_mouseupHandler=t=>{if(!this.isRange)return;let a=yc(t.target);if(!a){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:t})});return}a.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let o=this._getCellFromElement(a);this.dragEnded.emit({value:o?.rawValue??null,event:t})})};_touchendHandler=t=>{let a=Nh(t);a&&this._mouseupHandler({target:a})};_getCellFromElement(t){let a=yc(t);if(a){let o=a.getAttribute("data-mat-row"),h=a.getAttribute("data-mat-col");if(o&&h)return this.rows[parseInt(o)][parseInt(h)]}return null}static \u0275fac=function(a){return new(a||c)};static \u0275cmp=Oe({type:c,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[Fa],attrs:jp,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(a,o){a&1&&(it(0,Gp,3,6,"tr",0),Yi(1,Kp,4,1,"tr",1,Up,!0),I(3,"span",2),$(4),N(),I(5,"span",2),$(6),N(),I(7,"span",2),$(8),N(),I(9,"span",2),$(10),N()),a&2&&(nt(o._firstRowOffset<o.labelMinRequiredCells?0:-1),A(),Hi(o.rows),A(2),q("id",o._startDateLabelId),A(),lt(" ",o.startDateAccessibleName,`
`),A(),q("id",o._endDateLabelId),A(),lt(" ",o.endDateAccessibleName,`
`),A(),q("id",o._comparisonStartDateLabelId),A(),Vr(" ",o.comparisonDateAccessibleName," ",o.startDateAccessibleName,`
`),A(),q("id",o._comparisonEndDateLabelId),A(),Vr(" ",o.comparisonDateAccessibleName," ",o.endDateAccessibleName,`
`))},dependencies:[to],styles:[`.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}
`],encapsulation:2,changeDetection:0})}return c})();function gc(c){return c?.nodeName==="TD"}function yc(c){let r;return gc(c)?r=c:gc(c.parentNode)?r=c.parentNode:gc(c.parentNode?.parentNode)&&(r=c.parentNode.parentNode),r?.getAttribute("data-mat-row")!=null?r:null}function vc(c,r,t){return t!==null&&r!==t&&c<t&&c===r}function bc(c,r,t){return r!==null&&r!==t&&c>=r&&c===t}function wc(c,r,t,a){return a&&r!==null&&t!==null&&r!==t&&c>=r&&c<=t}function Nh(c){let r=c.changedTouches[0];return document.elementFromPoint(r.clientX,r.clientY)}var ti=class{start;end;_disableStructuralEquivalency;constructor(r,t){this.start=r,this.end=t}},Io=(()=>{class c{selection;_adapter;_selectionChanged=new Ni;selectionChanged=this._selectionChanged;constructor(t,a){this.selection=t,this._adapter=a,this.selection=t}updateSelection(t,a){let o=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:a,oldValue:o})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}static \u0275fac=function(a){Dd()};static \u0275prov=Ze({token:c,factory:c.\u0275fac})}return c})(),hf=(()=>{class c extends Io{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let t=new c(this._adapter);return t.updateSelection(this.selection,this),t}static \u0275fac=function(a){return new(a||c)(Vi(Jt))};static \u0275prov=Ze({token:c,factory:c.\u0275fac})}return c})();function mf(c,r){return c||new hf(r)}var uf={provide:Io,deps:[[new bd,new wd,Io],Jt],useFactory:mf};var Hh=new mi("MAT_DATE_RANGE_SELECTION_STRATEGY");var xc=7,pf=0,zh=(()=>{class c{_changeDetectorRef=P(ut);_dateFormats=P(Wi,{optional:!0});_dateAdapter=P(Jt,{optional:!0});_dir=P(Va,{optional:!0});_rangeStrategy=P(Hh,{optional:!0});_rerenderSubscription=Fi.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(t){let a=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._hasSameMonthAndYear(a,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(t){t instanceof ti?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_minDate;get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new De;_userSelection=new De;dragStarted=new De;dragEnded=new De;activeDateChange=new De;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){P(Kn).load(ho),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Et(null)).subscribe(()=>this._init())}ngOnChanges(t){let a=t.comparisonStart||t.comparisonEnd;a&&!a.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){let a=t.value,o=this._getDateFromDayOfMonth(a),h,f;this._selected instanceof ti?(h=this._getDateInCurrentMonth(this._selected.start),f=this._getDateInCurrentMonth(this._selected.end)):h=f=this._getDateInCurrentMonth(this._selected),(h!==a||f!==a)&&this.selectedChange.emit(o),this._userSelection.emit({value:o,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(t){let a=t.value,o=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(a),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){let a=this._activeDate,o=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&t.preventDefault();return;case 27:this._previewEnd!=null&&!mo(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation());return;default:return}this._dateAdapter.compareDate(a,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===32||t.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(xc+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%xc,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:a}){if(this._rangeStrategy){let o=a?a.rawValue:null,h=this._rangeStrategy.createPreview(o,this.selected,t);if(this._previewStart=this._getCellCompareValue(h.start),this._previewEnd=this._getCellCompareValue(h.end),this.activeDrag&&o){let f=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,o,t);f&&(this._previewStart=this._getCellCompareValue(f.start),this._previewEnd=this._getCellCompareValue(f.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(t){if(this.activeDrag)if(t.value){let a=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:a??null,event:t.event})}else this.dragEnded.emit({value:null,event:t.event})}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){let t=this._dateAdapter.getFirstDayOfWeek(),a=this._dateAdapter.getDayOfWeekNames("narrow"),h=this._dateAdapter.getDayOfWeekNames("long").map((f,y)=>({long:f,narrow:a[y],id:pf++}));this._weekdays=h.slice(t).concat(h.slice(0,t))}_createWeekCells(){let t=this._dateAdapter.getNumDaysInMonth(this.activeDate),a=this._dateAdapter.getDateNames();this._weeks=[[]];for(let o=0,h=this._firstWeekOffset;o<t;o++,h++){h==xc&&(this._weeks.push([]),h=0);let f=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),y=this._shouldEnableDate(f),w=this._dateAdapter.format(f,this._dateFormats.display.dateA11yLabel),x=this.dateClass?this.dateClass(f,"month"):void 0;this._weeks[this._weeks.length-1].push(new Gr(o+1,a[o],w,y,x,this._getCellCompareValue(f),f))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,a){return!!(t&&a&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(a)&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(a))}_getCellCompareValue(t){if(t){let a=this._dateAdapter.getYear(t),o=this._dateAdapter.getMonth(t),h=this._dateAdapter.getDate(t);return new Date(a,o,h).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(t){t instanceof ti?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(a){return new(a||c)};static \u0275cmp=Oe({type:c,selectors:[["mat-month-view"]],viewQuery:function(a,o){if(a&1&&Xt(Ja,5),a&2){let h;Ke(h=Qe())&&(o._matCalendarBody=h.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Fa],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(a,o){a&1&&(I(0,"table",0)(1,"thead",1)(2,"tr"),Yi(3,Qp,5,2,"th",2,Yh),N(),I(5,"tr",3),_e(6,"th",4),N()(),I(7,"tbody",5),we("selectedValueChange",function(f){return o._dateSelected(f)})("activeDateChange",function(f){return o._updateActiveDate(f)})("previewChange",function(f){return o._previewChanged(f)})("dragStarted",function(f){return o.dragStarted.emit(f)})("dragEnded",function(f){return o._dragEnded(f)})("keyup",function(f){return o._handleCalendarBodyKeyup(f)})("keydown",function(f){return o._handleCalendarBodyKeydown(f)}),N()()),a&2&&(A(3),Hi(o._weekdays),A(4),q("label",o._monthLabel)("rows",o._weeks)("todayValue",o._todayDate)("startValue",o._rangeStart)("endValue",o._rangeEnd)("comparisonStart",o._comparisonRangeStart)("comparisonEnd",o._comparisonRangeEnd)("previewStart",o._previewStart)("previewEnd",o._previewEnd)("isRange",o._isRange)("labelMinRequiredCells",3)("activeCell",o._dateAdapter.getDate(o.activeDate)-1)("startDateAccessibleName",o.startDateAccessibleName)("endDateAccessibleName",o.endDateAccessibleName))},dependencies:[Ja],encapsulation:2,changeDetection:0})}return c})(),Wt=24,kc=4,Vh=(()=>{class c{_changeDetectorRef=P(ut);_dateAdapter=P(Jt,{optional:!0});_dir=P(Va,{optional:!0});_rerenderSubscription=Fi.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(t){let a=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),Wh(this._dateAdapter,a,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(t){t instanceof ti?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}_selected;get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_minDate;get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_maxDate;dateFilter;dateClass;selectedChange=new De;yearSelected=new De;activeDateChange=new De;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Et(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let a=this._dateAdapter.getYear(this._activeDate)-Ur(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let o=0,h=[];o<Wt;o++)h.push(a+o),h.length==kc&&(this._years.push(h.map(f=>this._createCellForYear(f))),h=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){let a=t.value,o=this._dateAdapter.createDate(a,0,1),h=this._getDateFromYear(a);this.yearSelected.emit(o),this.selectedChange.emit(h)}_updateActiveDate(t){let a=t.value,o=this._activeDate;this.activeDate=this._getDateFromYear(a),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){let a=this._activeDate,o=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-kc);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,kc);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Ur(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Wt-Ur(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-Wt*10:-Wt);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?Wt*10:Wt);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===32||t.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return Ur(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){let a=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,a,1));return this._dateAdapter.createDate(t,a,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForYear(t){let a=this._dateAdapter.createDate(t,0,1),o=this._dateAdapter.getYearName(a),h=this.dateClass?this.dateClass(a,"multi-year"):void 0;return new Gr(t,o,o,this._shouldEnableYear(t),h)}_shouldEnableYear(t){if(t==null||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let a=this._dateAdapter.createDate(t,0,1);for(let o=a;this._dateAdapter.getYear(o)==t;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(t){if(this._selectedYear=null,t instanceof ti){let a=t.start||t.end;a&&(this._selectedYear=this._dateAdapter.getYear(a))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}static \u0275fac=function(a){return new(a||c)};static \u0275cmp=Oe({type:c,selectors:[["mat-multi-year-view"]],viewQuery:function(a,o){if(a&1&&Xt(Ja,5),a&2){let h;Ke(h=Qe())&&(o._matCalendarBody=h.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(a,o){a&1&&(I(0,"table",0)(1,"thead",1)(2,"tr"),_e(3,"th",2),N()(),I(4,"tbody",3),we("selectedValueChange",function(f){return o._yearSelected(f)})("activeDateChange",function(f){return o._updateActiveDate(f)})("keyup",function(f){return o._handleCalendarBodyKeyup(f)})("keydown",function(f){return o._handleCalendarBodyKeydown(f)}),N()()),a&2&&(A(4),q("rows",o._years)("todayValue",o._todayYear)("startValue",o._selectedYear)("endValue",o._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",o._getActiveCell()))},dependencies:[Ja],encapsulation:2,changeDetection:0})}return c})();function Wh(c,r,t,a,o){let h=c.getYear(r),f=c.getYear(t),y=Zh(c,a,o);return Math.floor((h-y)/Wt)===Math.floor((f-y)/Wt)}function Ur(c,r,t,a){let o=c.getYear(r);return ff(o-Zh(c,t,a),Wt)}function Zh(c,r,t){let a=0;return t?a=c.getYear(t)-Wt+1:r&&(a=c.getYear(r)),a}function ff(c,r){return(c%r+r)%r}var Bh=(()=>{class c{_changeDetectorRef=P(ut);_dateFormats=P(Wi,{optional:!0});_dateAdapter=P(Jt,{optional:!0});_dir=P(Va,{optional:!0});_rerenderSubscription=Fi.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(t){let a=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._dateAdapter.getYear(a)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(t){t instanceof ti?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}_selected;get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_minDate;get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_maxDate;dateFilter;dateClass;selectedChange=new De;monthSelected=new De;activeDateChange=new De;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Et(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){let a=t.value,o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),a,1);this.monthSelected.emit(o);let h=this._getDateFromMonth(a);this.selectedChange.emit(h)}_updateActiveDate(t){let a=t.value,o=this._activeDate;this.activeDate=this._getDateFromMonth(a),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){let a=this._activeDate,o=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(a,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===32||t.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(a=>a.map(o=>this._createCellForMonth(o,t[o]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){let a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),o=this._dateAdapter.getNumDaysInMonth(a);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForMonth(t,a){let o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),h=this._dateAdapter.format(o,this._dateFormats.display.monthYearA11yLabel),f=this.dateClass?this.dateClass(o,"year"):void 0;return new Gr(t,a.toLocaleUpperCase(),h,this._shouldEnableMonth(t),f)}_shouldEnableMonth(t){let a=this._dateAdapter.getYear(this.activeDate);if(t==null||this._isYearAndMonthAfterMaxDate(a,t)||this._isYearAndMonthBeforeMinDate(a,t))return!1;if(!this.dateFilter)return!0;let o=this._dateAdapter.createDate(a,t,1);for(let h=o;this._dateAdapter.getMonth(h)==t;h=this._dateAdapter.addCalendarDays(h,1))if(this.dateFilter(h))return!0;return!1}_isYearAndMonthAfterMaxDate(t,a){if(this.maxDate){let o=this._dateAdapter.getYear(this.maxDate),h=this._dateAdapter.getMonth(this.maxDate);return t>o||t===o&&a>h}return!1}_isYearAndMonthBeforeMinDate(t,a){if(this.minDate){let o=this._dateAdapter.getYear(this.minDate),h=this._dateAdapter.getMonth(this.minDate);return t<o||t===o&&a<h}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(t){t instanceof ti?this._selectedMonth=this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._selectedMonth=this._getMonthInCurrentYear(t)}static \u0275fac=function(a){return new(a||c)};static \u0275cmp=Oe({type:c,selectors:[["mat-year-view"]],viewQuery:function(a,o){if(a&1&&Xt(Ja,5),a&2){let h;Ke(h=Qe())&&(o._matCalendarBody=h.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(a,o){a&1&&(I(0,"table",0)(1,"thead",1)(2,"tr"),_e(3,"th",2),N()(),I(4,"tbody",3),we("selectedValueChange",function(f){return o._monthSelected(f)})("activeDateChange",function(f){return o._updateActiveDate(f)})("keyup",function(f){return o._handleCalendarBodyKeyup(f)})("keydown",function(f){return o._handleCalendarBodyKeydown(f)}),N()()),a&2&&(A(4),q("label",o._yearLabel)("rows",o._months)("todayValue",o._todayMonth)("startValue",o._selectedMonth)("endValue",o._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",o._dateAdapter.getMonth(o.activeDate)))},dependencies:[Ja],encapsulation:2,changeDetection:0})}return c})(),jh=(()=>{class c{_intl=P(er);calendar=P(Sc);_dateAdapter=P(Jt,{optional:!0});_dateFormats=P(Wi,{optional:!0});_periodButtonText;_periodButtonDescription;_periodButtonLabel;_prevButtonLabel;_nextButtonLabel;constructor(){P(Kn).load(ho);let t=P(ut);this._updateLabels(),this.calendar.stateChanges.subscribe(()=>{this._updateLabels(),t.markForCheck()})}get periodButtonText(){return this._periodButtonText}get periodButtonDescription(){return this._periodButtonDescription}get periodButtonLabel(){return this._periodButtonLabel}get prevButtonLabel(){return this._prevButtonLabel}get nextButtonLabel(){return this._nextButtonLabel}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Wt)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Wt)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_updateLabels(){let t=this.calendar,a=this._intl,o=this._dateAdapter;t.currentView==="month"?(this._periodButtonText=o.format(t.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonDescription=o.format(t.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonLabel=a.switchToMultiYearViewLabel,this._prevButtonLabel=a.prevMonthLabel,this._nextButtonLabel=a.nextMonthLabel):t.currentView==="year"?(this._periodButtonText=o.getYearName(t.activeDate),this._periodButtonDescription=o.getYearName(t.activeDate),this._periodButtonLabel=a.switchToMonthViewLabel,this._prevButtonLabel=a.prevYearLabel,this._nextButtonLabel=a.nextYearLabel):(this._periodButtonText=a.formatYearRange(...this._formatMinAndMaxYearLabels()),this._periodButtonDescription=a.formatYearRangeLabel(...this._formatMinAndMaxYearLabels()),this._periodButtonLabel=a.switchToMonthViewLabel,this._prevButtonLabel=a.prevMultiYearLabel,this._nextButtonLabel=a.nextMultiYearLabel)}_isSameView(t,a){return this.calendar.currentView=="month"?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(a)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(a):this.calendar.currentView=="year"?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(a):Wh(this._dateAdapter,t,a,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let a=this._dateAdapter.getYear(this.calendar.activeDate)-Ur(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),o=a+Wt-1,h=this._dateAdapter.getYearName(this._dateAdapter.createDate(a,0,1)),f=this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1));return[h,f]}_periodButtonLabelId=P(Br).getId("mat-calendar-period-label-");static \u0275fac=function(a){return new(a||c)};static \u0275cmp=Oe({type:c,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Xp,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["matButton","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["matIconButton","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["matIconButton","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(a,o){a&1&&(pi(),I(0,"div",0)(1,"div",1)(2,"span",2),$(3),N(),I(4,"button",3),we("click",function(){return o.currentPeriodClicked()}),I(5,"span",4),$(6),N(),ln(),I(7,"svg",5),_e(8,"polygon",6),N()(),Gs(),_e(9,"div",7),Qt(10),I(11,"button",8),we("click",function(){return o.previousClicked()}),ln(),I(12,"svg",9),_e(13,"path",10),N()(),Gs(),I(14,"button",11),we("click",function(){return o.nextClicked()}),ln(),I(15,"svg",9),_e(16,"path",12),N()()()()),a&2&&(A(2),q("id",o._periodButtonLabelId),A(),Xe(o.periodButtonDescription),A(),tt("aria-label",o.periodButtonLabel)("aria-describedby",o._periodButtonLabelId),A(2),Xe(o.periodButtonText),A(),je("mat-calendar-invert",o.calendar.currentView!=="month"),A(4),q("disabled",!o.previousEnabled()),tt("aria-label",o.prevButtonLabel),A(3),q("disabled",!o.nextEnabled()),tt("aria-label",o.nextButtonLabel))},dependencies:[oc,Qn],encapsulation:2,changeDetection:0})}return c})(),Sc=(()=>{class c{_dateAdapter=P(Jt,{optional:!0});_dateFormats=P(Wi,{optional:!0});_changeDetectorRef=P(ut);_elementRef=P(ui);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_startAt;startView="month";get selected(){return this._selected}set selected(t){t instanceof ti?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_selected;get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_minDate;get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new De;yearSelected=new De;monthSelected=new De;viewChanged=new De(!0);_userSelection=new De;_userDragDrop=new De;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(t){let a=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),a&&(this.stateChanges.next(),this.viewChanged.emit(a))}_currentView;_activeDrag=null;stateChanges=new Ni;constructor(){this._intlChanges=P(er).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Jd(this.headerComponent||jh),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){let a=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,o=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,h=a||o||t.dateFilter;if(h&&!h.firstChange){let f=this._getCurrentViewComponent();f&&(this._elementRef.nativeElement.contains(Ud())&&(this._moveFocusOnNextTick=!0),this._changeDetectorRef.detectChanges(),f._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){let a=t.value;(this.selected instanceof ti||a&&!this._dateAdapter.sameDate(a,this.selected))&&this.selectedChange.emit(a),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,a){this.activeDate=t,this.currentView=a}_dragStarted(t){this._activeDrag=t}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(a){return new(a||c)};static \u0275cmp=Oe({type:c,selectors:[["mat-calendar"]],viewQuery:function(a,o){if(a&1&&(Xt(zh,5),Xt(Bh,5),Xt(Vh,5)),a&2){let h;Ke(h=Qe())&&(o.monthView=h.first),Ke(h=Qe())&&(o.yearView=h.first),Ke(h=Qe())&&(o.multiYearView=h.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Na([uf]),Fa],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(a,o){if(a&1&&(wt(0,Jp,0,0,"ng-template",0),I(1,"div",1),it(2,ef,1,11,"mat-month-view",2)(3,tf,1,6,"mat-year-view",3)(4,nf,1,6,"mat-multi-year-view",3),N()),a&2){let h;q("cdkPortalOutlet",o._calendarHeaderPortal),A(2),nt((h=o.currentView)==="month"?2:h==="year"?3:h==="multi-year"?4:-1)}},dependencies:[nc,Gd,zh,Bh,Vh],styles:[`.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mat-button-text-label-text-color: var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return c})(),_f=new mi("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let c=P(Bi);return()=>Ya(c)}});function gf(c){let r=P(Bi);return()=>Ya(r)}var yf={provide:_f,deps:[],useFactory:gf},vf=(()=>{class c{_elementRef=P(ui);_animationsDisabled=Yr();_changeDetectorRef=P(ut);_globalModel=P(Io);_dateAdapter=P(Jt);_ngZone=P(Un);_rangeSelectionStrategy=P(Hh,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new Ni;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if(P(Kn).load(ho),this._closeButtonText=P(er).closeCalendarLabel,!this._animationsDisabled){let t=this._elementRef.nativeElement,a=P(Nr);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[a.listen(t,"animationstart",this._handleAnimationEvent),a.listen(t,"animationend",this._handleAnimationEvent),a.listen(t,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(t=>t()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){let a=this._model.selection,o=t.value,h=a instanceof ti;if(h&&this._rangeSelectionStrategy){let f=this._rangeSelectionStrategy.selectionFinished(o,a,t.event);this._model.updateSelection(f,this)}else o&&(h||!this._dateAdapter.sameDate(o,a))&&this._model.add(o);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(t){this._model.updateSelection(t.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=t=>{let a=this._elementRef.nativeElement;t.target!==a||!t.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=t.type==="animationstart",a.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,a){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,a&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(a){return new(a||c)};static \u0275cmp=Oe({type:c,selectors:[["mat-datepicker-content"]],viewQuery:function(a,o){if(a&1&&Xt(Sc,5),a&2){let h;Ke(h=Qe())&&(o._calendar=h.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(a,o){a&2&&(Gn(o.color?"mat-"+o.color:""),je("mat-datepicker-content-touch",o.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!o._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","matButton","elevated",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(a,o){a&1&&(I(0,"div",0)(1,"mat-calendar",1),we("yearSelected",function(f){return o.datepicker._selectYear(f)})("monthSelected",function(f){return o.datepicker._selectMonth(f)})("viewChanged",function(f){return o.datepicker._viewChanged(f)})("_userSelection",function(f){return o._handleUserSelection(f)})("_userDragDrop",function(f){return o._handleUserDragDrop(f)}),N(),wt(2,af,0,0,"ng-template",2),I(3,"button",3),we("focus",function(){return o._closeButtonFocused=!0})("blur",function(){return o._closeButtonFocused=!1})("click",function(){return o.datepicker.close()}),$(4),N()()),a&2&&(je("mat-datepicker-content-container-with-custom-header",o.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",o._actionsPortal),tt("aria-modal",!0)("aria-labelledby",o._dialogLabelId??void 0),A(),Gn(o.datepicker.panelClass),q("id",o.datepicker.id)("startAt",o.datepicker.startAt)("startView",o.datepicker.startView)("minDate",o.datepicker._getMinDate())("maxDate",o.datepicker._getMaxDate())("dateFilter",o.datepicker._getDateFilter())("headerComponent",o.datepicker.calendarHeaderComponent)("selected",o._getSelected())("dateClass",o.datepicker.dateClass)("comparisonStart",o.comparisonStart)("comparisonEnd",o.comparisonEnd)("startDateAccessibleName",o.startDateAccessibleName)("endDateAccessibleName",o.endDateAccessibleName),A(),q("cdkPortalOutlet",o._actionsPortal),A(),je("cdk-visually-hidden",!o._closeButtonFocused),q("color",o.color||"primary"),A(),Xe(o._closeButtonText))},dependencies:[$d,Sc,nc,oc],styles:[`@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}
`],encapsulation:2,changeDetection:0})}return c})();var bf=(()=>{class c{static \u0275fac=function(a){return new(a||c)};static \u0275dir=cn({type:c,selectors:[["","matDatepickerToggleIcon",""]]})}return c})(),wf=(()=>{class c{_intl=P(er);_changeDetectorRef=P(ut);_stateChanges=Fi.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=t}_disabled;disableRipple;_customIcon;_button;constructor(){let t=P(new Pd("tabindex"),{optional:!0}),a=Number(t);this.tabIndex=a||a===0?a:null}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){let t=this.datepicker?this.datepicker.stateChanges:$e(),a=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:$e(),o=this.datepicker?Wn(this.datepicker.openedStream,this.datepicker.closedStream):$e();this._stateChanges.unsubscribe(),this._stateChanges=Wn(this._intl.changes,t,a,o).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(a){return new(a||c)};static \u0275cmp=Oe({type:c,selectors:[["mat-datepicker-toggle"]],contentQueries:function(a,o,h){if(a&1&&fi(h,bf,5),a&2){let f;Ke(f=Qe())&&(o._customIcon=f.first)}},viewQuery:function(a,o){if(a&1&&Xt(rf,5),a&2){let h;Ke(h=Qe())&&(o._button=h.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(a,o){a&1&&we("click",function(f){return o._open(f)}),a&2&&(tt("tabindex",null)("data-mat-calendar",o.datepicker?o.datepicker.id:null),je("mat-datepicker-toggle-active",o.datepicker&&o.datepicker.opened)("mat-accent",o.datepicker&&o.datepicker.color==="accent")("mat-warn",o.datepicker&&o.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",qn],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Fa],ngContentSelectors:of,decls:4,vars:7,consts:[["button",""],["matIconButton","","type","button",3,"tabIndex","disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(a,o){a&1&&(pi(sf),I(0,"button",1,0),it(2,lf,2,0,":svg:svg",2),Qt(3),N()),a&2&&(q("tabIndex",o.disabled?-1:o.tabIndex)("disabled",o.disabled)("disableRipple",o.disableRipple),tt("aria-haspopup",o.datepicker?"dialog":null)("aria-label",o.ariaLabel||o._intl.openCalendarLabel)("aria-expanded",o.datepicker?o.datepicker.opened:null),A(2),nt(o._customIcon?-1:2))},dependencies:[Qn],styles:[`.mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}
`],encapsulation:2,changeDetection:0})}return c})();var Uh=(()=>{class c{static \u0275fac=function(a){return new(a||c)};static \u0275mod=bt({type:c});static \u0275inj=vt({providers:[er,yf],imports:[dn,_o,Kd,eh,Yt,vf,wf,jh,fo]})}return c})();var Gh=(()=>{class c{static \u0275fac=function(a){return new(a||c)};static \u0275mod=bt({type:c});static \u0275inj=vt({imports:[qd,Yt,go,ah,Za]})}return c})();function qh(c){return new ue(3e3,!1)}function xf(){return new ue(3100,!1)}function kf(){return new ue(3101,!1)}function Sf(c){return new ue(3001,!1)}function Mf(c){return new ue(3003,!1)}function Df(c){return new ue(3004,!1)}function Kh(c,r){return new ue(3005,!1)}function Qh(){return new ue(3006,!1)}function Xh(){return new ue(3007,!1)}function Jh(c,r){return new ue(3008,!1)}function em(c){return new ue(3002,!1)}function tm(c,r,t,a,o){return new ue(3010,!1)}function im(){return new ue(3011,!1)}function nm(){return new ue(3012,!1)}function am(){return new ue(3200,!1)}function rm(){return new ue(3202,!1)}function sm(){return new ue(3013,!1)}function om(c){return new ue(3014,!1)}function lm(c){return new ue(3015,!1)}function cm(c){return new ue(3016,!1)}function dm(c,r){return new ue(3404,!1)}function Cf(c){return new ue(3502,!1)}function hm(c){return new ue(3503,!1)}function mm(){return new ue(3300,!1)}function um(c){return new ue(3504,!1)}function pm(c){return new ue(3301,!1)}function fm(c,r){return new ue(3302,!1)}function _m(c){return new ue(3303,!1)}function gm(c,r){return new ue(3400,!1)}function ym(c){return new ue(3401,!1)}function vm(c){return new ue(3402,!1)}function bm(c,r){return new ue(3505,!1)}function Zi(c){switch(c.length){case 0:return new gi;case 1:return c[0];default:return new Xn(c)}}function Lc(c,r,t=new Map,a=new Map){let o=[],h=[],f=-1,y=null;if(r.forEach(w=>{let x=w.get("offset"),O=x==f,z=O&&y||new Map;w.forEach((B,V)=>{let E=V,K=B;if(V!=="offset")switch(E=c.normalizePropertyName(E,o),K){case qa:K=t.get(V);break;case ei:K=a.get(V);break;default:K=c.normalizeStyleValue(V,E,K,o);break}z.set(E,K)}),O||h.push(z),y=z,f=x}),o.length)throw Cf(o);return h}function Oo(c,r,t,a){switch(r){case"start":c.onStart(()=>a(t&&Ac(t,"start",c)));break;case"done":c.onDone(()=>a(t&&Ac(t,"done",c)));break;case"destroy":c.onDestroy(()=>a(t&&Ac(t,"destroy",c)));break}}function Ac(c,r,t){let a=t.totalTime,o=!!t.disabled,h=Ro(c.element,c.triggerName,c.fromState,c.toState,r||c.phaseName,a??c.totalTime,o),f=c._data;return f!=null&&(h._data=f),h}function Ro(c,r,t,a,o="",h=0,f){return{element:c,triggerName:r,fromState:t,toState:a,phaseName:o,totalTime:h,disabled:!!f}}function Pt(c,r,t){let a=c.get(r);return a||c.set(r,a=t),a}function Ic(c){let r=c.indexOf(":"),t=c.substring(1,r),a=c.slice(r+1);return[t,a]}var Tf=typeof document>"u"?null:document.documentElement;function Fo(c){let r=c.parentNode||c.host||null;return r===Tf?null:r}function Af(c){return c.substring(1,6)=="ebkit"}var ta=null,$h=!1;function wm(c){ta||(ta=Ef()||{},$h=ta.style?"WebkitAppearance"in ta.style:!1);let r=!0;return ta.style&&!Af(c)&&(r=c in ta.style,!r&&$h&&(r="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in ta.style)),r}function Ef(){return typeof document<"u"?document.body:null}function Oc(c,r){for(;r;){if(r===c)return!0;r=Fo(r)}return!1}function Rc(c,r,t){if(t)return Array.from(c.querySelectorAll(r));let a=c.querySelector(r);return a?[a]:[]}var Pf=1e3,Fc="{{",Lf="}}",Nc="ng-enter",No="ng-leave",qr="ng-trigger",$r=".ng-trigger",zc="ng-animating",zo=".ng-animating";function yi(c){if(typeof c=="number")return c;let r=c.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:Ec(parseFloat(r[1]),r[2])}function Ec(c,r){switch(r){case"s":return c*Pf;default:return c}}function Kr(c,r,t){return c.hasOwnProperty("duration")?c:If(c,r,t)}function If(c,r,t){let a=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,o,h=0,f="";if(typeof c=="string"){let y=c.match(a);if(y===null)return r.push(qh(c)),{duration:0,delay:0,easing:""};o=Ec(parseFloat(y[1]),y[2]);let w=y[3];w!=null&&(h=Ec(parseFloat(w),y[4]));let x=y[5];x&&(f=x)}else o=c;if(!t){let y=!1,w=r.length;o<0&&(r.push(xf()),y=!0),h<0&&(r.push(kf()),y=!0),y&&r.splice(w,0,qh(c))}return{duration:o,delay:h,easing:f}}function xm(c){return c.length?c[0]instanceof Map?c:c.map(r=>new Map(Object.entries(r))):[]}function ri(c,r,t){r.forEach((a,o)=>{let h=Vo(o);t&&!t.has(o)&&t.set(o,c.style[h]),c.style[h]=a})}function fn(c,r){r.forEach((t,a)=>{let o=Vo(a);c.style[o]=""})}function tr(c){return Array.isArray(c)?c.length==1?c[0]:fh(c):c}function km(c,r,t){let a=r.params||{},o=Vc(c);o.length&&o.forEach(h=>{a.hasOwnProperty(h)||t.push(Sf(h))})}var Pc=new RegExp(`${Fc}\\s*(.+?)\\s*${Lf}`,"g");function Vc(c){let r=[];if(typeof c=="string"){let t;for(;t=Pc.exec(c);)r.push(t[1]);Pc.lastIndex=0}return r}function ir(c,r,t){let a=`${c}`,o=a.replace(Pc,(h,f)=>{let y=r[f];return y==null&&(t.push(Mf(f)),y=""),y.toString()});return o==a?c:o}var Of=/-+([a-z0-9])/g;function Vo(c){return c.replace(Of,(...r)=>r[1].toUpperCase())}function Sm(c,r){return c===0||r===0}function Mm(c,r,t){if(t.size&&r.length){let a=r[0],o=[];if(t.forEach((h,f)=>{a.has(f)||o.push(f),a.set(f,h)}),o.length)for(let h=1;h<r.length;h++){let f=r[h];o.forEach(y=>f.set(y,Bo(c,y)))}}return r}function Lt(c,r,t){switch(r.type){case ee.Trigger:return c.visitTrigger(r,t);case ee.State:return c.visitState(r,t);case ee.Transition:return c.visitTransition(r,t);case ee.Sequence:return c.visitSequence(r,t);case ee.Group:return c.visitGroup(r,t);case ee.Animate:return c.visitAnimate(r,t);case ee.Keyframes:return c.visitKeyframes(r,t);case ee.Style:return c.visitStyle(r,t);case ee.Reference:return c.visitReference(r,t);case ee.AnimateChild:return c.visitAnimateChild(r,t);case ee.AnimateRef:return c.visitAnimateRef(r,t);case ee.Query:return c.visitQuery(r,t);case ee.Stagger:return c.visitStagger(r,t);default:throw Df(r.type)}}function Bo(c,r){return window.getComputedStyle(c)[r]}var id=(()=>{class c{validateStyleProperty(t){return wm(t)}containsElement(t,a){return Oc(t,a)}getParentElement(t){return Fo(t)}query(t,a,o){return Rc(t,a,o)}computeStyle(t,a,o){return o||""}animate(t,a,o,h,f,y=[],w){return new gi(o,h)}static \u0275fac=function(a){return new(a||c)};static \u0275prov=Ze({token:c,factory:c.\u0275fac})}return c})(),na=class{static NOOP=new id},aa=class{};var Rf=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),jo=class extends aa{normalizePropertyName(r,t){return Vo(r)}normalizeStyleValue(r,t,a,o){let h="",f=a.toString().trim();if(Rf.has(t)&&a!==0&&a!=="0")if(typeof a=="number")h="px";else{let y=a.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&y[1].length==0&&o.push(Kh(r,a))}return f+h}};var Uo="*";function Ff(c,r){let t=[];return typeof c=="string"?c.split(/\s*,\s*/).forEach(a=>Nf(a,t,r)):t.push(c),t}function Nf(c,r,t){if(c[0]==":"){let w=zf(c,t);if(typeof w=="function"){r.push(w);return}c=w}let a=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(a==null||a.length<4)return t.push(lm(c)),r;let o=a[1],h=a[2],f=a[3];r.push(Dm(o,f));let y=o==Uo&&f==Uo;h[0]=="<"&&!y&&r.push(Dm(f,o))}function zf(c,r){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,a)=>parseFloat(a)>parseFloat(t);case":decrement":return(t,a)=>parseFloat(a)<parseFloat(t);default:return r.push(cm(c)),"* => *"}}var Yo=new Set(["true","1"]),Ho=new Set(["false","0"]);function Dm(c,r){let t=Yo.has(c)||Ho.has(c),a=Yo.has(r)||Ho.has(r);return(o,h)=>{let f=c==Uo||c==o,y=r==Uo||r==h;return!f&&t&&typeof o=="boolean"&&(f=o?Yo.has(c):Ho.has(c)),!y&&a&&typeof h=="boolean"&&(y=h?Yo.has(r):Ho.has(r)),f&&y}}var Fm=":self",Vf=new RegExp(`s*${Fm}s*,?`,"g");function Nm(c,r,t,a){return new jc(c).build(r,t,a)}var Cm="",jc=class{_driver;constructor(r){this._driver=r}build(r,t,a){let o=new Uc(t);return this._resetContextStyleTimingState(o),Lt(this,tr(r),o)}_resetContextStyleTimingState(r){r.currentQuerySelector=Cm,r.collectedStyles=new Map,r.collectedStyles.set(Cm,new Map),r.currentTime=0}visitTrigger(r,t){let a=t.queryCount=0,o=t.depCount=0,h=[],f=[];return r.name.charAt(0)=="@"&&t.errors.push(Qh()),r.definitions.forEach(y=>{if(this._resetContextStyleTimingState(t),y.type==ee.State){let w=y,x=w.name;x.toString().split(/\s*,\s*/).forEach(O=>{w.name=O,h.push(this.visitState(w,t))}),w.name=x}else if(y.type==ee.Transition){let w=this.visitTransition(y,t);a+=w.queryCount,o+=w.depCount,f.push(w)}else t.errors.push(Xh())}),{type:ee.Trigger,name:r.name,states:h,transitions:f,queryCount:a,depCount:o,options:null}}visitState(r,t){let a=this.visitStyle(r.styles,t),o=r.options&&r.options.params||null;if(a.containsDynamicStyles){let h=new Set,f=o||{};a.styles.forEach(y=>{y instanceof Map&&y.forEach(w=>{Vc(w).forEach(x=>{f.hasOwnProperty(x)||h.add(x)})})}),h.size&&t.errors.push(Jh(r.name,[...h.values()]))}return{type:ee.State,name:r.name,style:a,options:o?{params:o}:null}}visitTransition(r,t){t.queryCount=0,t.depCount=0;let a=Lt(this,tr(r.animation),t),o=Ff(r.expr,t.errors);return{type:ee.Transition,matchers:o,animation:a,queryCount:t.queryCount,depCount:t.depCount,options:ia(r.options)}}visitSequence(r,t){return{type:ee.Sequence,steps:r.steps.map(a=>Lt(this,a,t)),options:ia(r.options)}}visitGroup(r,t){let a=t.currentTime,o=0,h=r.steps.map(f=>{t.currentTime=a;let y=Lt(this,f,t);return o=Math.max(o,t.currentTime),y});return t.currentTime=o,{type:ee.Group,steps:h,options:ia(r.options)}}visitAnimate(r,t){let a=Wf(r.timings,t.errors);t.currentAnimateTimings=a;let o,h=r.styles?r.styles:Ht({});if(h.type==ee.Keyframes)o=this.visitKeyframes(h,t);else{let f=r.styles,y=!1;if(!f){y=!0;let x={};a.easing&&(x.easing=a.easing),f=Ht(x)}t.currentTime+=a.duration+a.delay;let w=this.visitStyle(f,t);w.isEmptyStep=y,o=w}return t.currentAnimateTimings=null,{type:ee.Animate,timings:a,style:o,options:null}}visitStyle(r,t){let a=this._makeStyleAst(r,t);return this._validateStyleAst(a,t),a}_makeStyleAst(r,t){let a=[],o=Array.isArray(r.styles)?r.styles:[r.styles];for(let y of o)typeof y=="string"?y===ei?a.push(y):t.errors.push(em(y)):a.push(new Map(Object.entries(y)));let h=!1,f=null;return a.forEach(y=>{if(y instanceof Map&&(y.has("easing")&&(f=y.get("easing"),y.delete("easing")),!h)){for(let w of y.values())if(w.toString().indexOf(Fc)>=0){h=!0;break}}}),{type:ee.Style,styles:a,easing:f,offset:r.offset,containsDynamicStyles:h,options:null}}_validateStyleAst(r,t){let a=t.currentAnimateTimings,o=t.currentTime,h=t.currentTime;a&&h>0&&(h-=a.duration+a.delay),r.styles.forEach(f=>{typeof f!="string"&&f.forEach((y,w)=>{let x=t.collectedStyles.get(t.currentQuerySelector),O=x.get(w),z=!0;O&&(h!=o&&h>=O.startTime&&o<=O.endTime&&(t.errors.push(tm(w,O.startTime,O.endTime,h,o)),z=!1),h=O.startTime),z&&x.set(w,{startTime:h,endTime:o}),t.options&&km(y,t.options,t.errors)})})}visitKeyframes(r,t){let a={type:ee.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(im()),a;let o=1,h=0,f=[],y=!1,w=!1,x=0,O=r.steps.map(oe=>{let Te=this._makeStyleAst(oe,t),Ie=Te.offset!=null?Te.offset:Hf(Te.styles),Ae=0;return Ie!=null&&(h++,Ae=Te.offset=Ie),w=w||Ae<0||Ae>1,y=y||Ae<x,x=Ae,f.push(Ae),Te});w&&t.errors.push(nm()),y&&t.errors.push(am());let z=r.steps.length,B=0;h>0&&h<z?t.errors.push(rm()):h==0&&(B=o/(z-1));let V=z-1,E=t.currentTime,K=t.currentAnimateTimings,fe=K.duration;return O.forEach((oe,Te)=>{let Ie=B>0?Te==V?1:B*Te:f[Te],Ae=Ie*fe;t.currentTime=E+K.delay+Ae,K.duration=Ae,this._validateStyleAst(oe,t),oe.offset=Ie,a.styles.push(oe)}),a}visitReference(r,t){return{type:ee.Reference,animation:Lt(this,tr(r.animation),t),options:ia(r.options)}}visitAnimateChild(r,t){return t.depCount++,{type:ee.AnimateChild,options:ia(r.options)}}visitAnimateRef(r,t){return{type:ee.AnimateRef,animation:this.visitReference(r.animation,t),options:ia(r.options)}}visitQuery(r,t){let a=t.currentQuerySelector,o=r.options||{};t.queryCount++,t.currentQuery=r;let[h,f]=Bf(r.selector);t.currentQuerySelector=a.length?a+" "+h:h,Pt(t.collectedStyles,t.currentQuerySelector,new Map);let y=Lt(this,tr(r.animation),t);return t.currentQuery=null,t.currentQuerySelector=a,{type:ee.Query,selector:h,limit:o.limit||0,optional:!!o.optional,includeSelf:f,animation:y,originalSelector:r.selector,options:ia(r.options)}}visitStagger(r,t){t.currentQuery||t.errors.push(sm());let a=r.timings==="full"?{duration:0,delay:0,easing:"full"}:Kr(r.timings,t.errors,!0);return{type:ee.Stagger,animation:Lt(this,tr(r.animation),t),timings:a,options:null}}};function Bf(c){let r=!!c.split(/\s*,\s*/).find(t=>t==Fm);return r&&(c=c.replace(Vf,"")),c=c.replace(/@\*/g,$r).replace(/@\w+/g,t=>$r+"-"+t.slice(1)).replace(/:animating/g,zo),[c,r]}function Yf(c){return c?Hn({},c):null}var Uc=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(r){this.errors=r}};function Hf(c){if(typeof c=="string")return null;let r=null;if(Array.isArray(c))c.forEach(t=>{if(t instanceof Map&&t.has("offset")){let a=t;r=parseFloat(a.get("offset")),a.delete("offset")}});else if(c instanceof Map&&c.has("offset")){let t=c;r=parseFloat(t.get("offset")),t.delete("offset")}return r}function Wf(c,r){if(c.hasOwnProperty("duration"))return c;if(typeof c=="number"){let h=Kr(c,r).duration;return Bc(h,0,"")}let t=c;if(t.split(/\s+/).some(h=>h.charAt(0)=="{"&&h.charAt(1)=="{")){let h=Bc(0,0,"");return h.dynamic=!0,h.strValue=t,h}let o=Kr(t,r);return Bc(o.duration,o.delay,o.easing)}function ia(c){return c?(c=Hn({},c),c.params&&(c.params=Yf(c.params))):c={},c}function Bc(c,r,t){return{duration:c,delay:r,easing:t}}function nd(c,r,t,a,o,h,f=null,y=!1){return{type:1,element:c,keyframes:r,preStyleProps:t,postStyleProps:a,duration:o,delay:h,totalTime:o+h,easing:f,subTimeline:y}}var Xr=class{_map=new Map;get(r){return this._map.get(r)||[]}append(r,t){let a=this._map.get(r);a||this._map.set(r,a=[]),a.push(...t)}has(r){return this._map.has(r)}clear(){this._map.clear()}},Zf=1,jf=":enter",Uf=new RegExp(jf,"g"),Gf=":leave",qf=new RegExp(Gf,"g");function zm(c,r,t,a,o,h=new Map,f=new Map,y,w,x=[]){return new Gc().buildKeyframes(c,r,t,a,o,h,f,y,w,x)}var Gc=class{buildKeyframes(r,t,a,o,h,f,y,w,x,O=[]){x=x||new Xr;let z=new qc(r,t,x,o,h,O,[]);z.options=w;let B=w.delay?yi(w.delay):0;z.currentTimeline.delayNextStep(B),z.currentTimeline.setStyles([f],null,z.errors,w),Lt(this,a,z);let V=z.timelines.filter(E=>E.containsAnimation());if(V.length&&y.size){let E;for(let K=V.length-1;K>=0;K--){let fe=V[K];if(fe.element===t){E=fe;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([y],null,z.errors,w)}return V.length?V.map(E=>E.buildKeyframes()):[nd(t,[],[],[],0,B,"",!1)]}visitTrigger(r,t){}visitState(r,t){}visitTransition(r,t){}visitAnimateChild(r,t){let a=t.subInstructions.get(t.element);if(a){let o=t.createSubContext(r.options),h=t.currentTimeline.currentTime,f=this._visitSubInstructions(a,o,o.options);h!=f&&t.transformIntoNewTimeline(f)}t.previousNode=r}visitAnimateRef(r,t){let a=t.createSubContext(r.options);a.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],t,a),this.visitReference(r.animation,a),t.transformIntoNewTimeline(a.currentTimeline.currentTime),t.previousNode=r}_applyAnimationRefDelays(r,t,a){for(let o of r){let h=o?.delay;if(h){let f=typeof h=="number"?h:yi(ir(h,o?.params??{},t.errors));a.delayNextStep(f)}}}_visitSubInstructions(r,t,a){let h=t.currentTimeline.currentTime,f=a.duration!=null?yi(a.duration):null,y=a.delay!=null?yi(a.delay):null;return f!==0&&r.forEach(w=>{let x=t.appendInstructionToTimeline(w,f,y);h=Math.max(h,x.duration+x.delay)}),h}visitReference(r,t){t.updateOptions(r.options,!0),Lt(this,r.animation,t),t.previousNode=r}visitSequence(r,t){let a=t.subContextCount,o=t,h=r.options;if(h&&(h.params||h.delay)&&(o=t.createSubContext(h),o.transformIntoNewTimeline(),h.delay!=null)){o.previousNode.type==ee.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Go);let f=yi(h.delay);o.delayNextStep(f)}r.steps.length&&(r.steps.forEach(f=>Lt(this,f,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>a&&o.transformIntoNewTimeline()),t.previousNode=r}visitGroup(r,t){let a=[],o=t.currentTimeline.currentTime,h=r.options&&r.options.delay?yi(r.options.delay):0;r.steps.forEach(f=>{let y=t.createSubContext(r.options);h&&y.delayNextStep(h),Lt(this,f,y),o=Math.max(o,y.currentTimeline.currentTime),a.push(y.currentTimeline)}),a.forEach(f=>t.currentTimeline.mergeTimelineCollectedStyles(f)),t.transformIntoNewTimeline(o),t.previousNode=r}_visitTiming(r,t){if(r.dynamic){let a=r.strValue,o=t.params?ir(a,t.params,t.errors):a;return Kr(o,t.errors)}else return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,t){let a=t.currentAnimateTimings=this._visitTiming(r.timings,t),o=t.currentTimeline;a.delay&&(t.incrementTime(a.delay),o.snapshotCurrentStyles());let h=r.style;h.type==ee.Keyframes?this.visitKeyframes(h,t):(t.incrementTime(a.duration),this.visitStyle(h,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=r}visitStyle(r,t){let a=t.currentTimeline,o=t.currentAnimateTimings;!o&&a.hasCurrentStyleProperties()&&a.forwardFrame();let h=o&&o.easing||r.easing;r.isEmptyStep?a.applyEmptyStep(h):a.setStyles(r.styles,h,t.errors,t.options),t.previousNode=r}visitKeyframes(r,t){let a=t.currentAnimateTimings,o=t.currentTimeline.duration,h=a.duration,y=t.createSubContext().currentTimeline;y.easing=a.easing,r.styles.forEach(w=>{let x=w.offset||0;y.forwardTime(x*h),y.setStyles(w.styles,w.easing,t.errors,t.options),y.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(y),t.transformIntoNewTimeline(o+h),t.previousNode=r}visitQuery(r,t){let a=t.currentTimeline.currentTime,o=r.options||{},h=o.delay?yi(o.delay):0;h&&(t.previousNode.type===ee.Style||a==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Go);let f=a,y=t.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=y.length;let w=null;y.forEach((x,O)=>{t.currentQueryIndex=O;let z=t.createSubContext(r.options,x);h&&z.delayNextStep(h),x===t.element&&(w=z.currentTimeline),Lt(this,r.animation,z),z.currentTimeline.applyStylesToKeyframe();let B=z.currentTimeline.currentTime;f=Math.max(f,B)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(f),w&&(t.currentTimeline.mergeTimelineCollectedStyles(w),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=r}visitStagger(r,t){let a=t.parentContext,o=t.currentTimeline,h=r.timings,f=Math.abs(h.duration),y=f*(t.currentQueryTotal-1),w=f*t.currentQueryIndex;switch(h.duration<0?"reverse":h.easing){case"reverse":w=y-w;break;case"full":w=a.currentStaggerTime;break}let O=t.currentTimeline;w&&O.delayNextStep(w);let z=O.currentTime;Lt(this,r.animation,t),t.previousNode=r,a.currentStaggerTime=o.currentTime-z+(o.startTime-a.currentTimeline.startTime)}},Go={},qc=class c{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Go;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(r,t,a,o,h,f,y,w){this._driver=r,this.element=t,this.subInstructions=a,this._enterClassName=o,this._leaveClassName=h,this.errors=f,this.timelines=y,this.currentTimeline=w||new qo(this._driver,t,0),y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,t){if(!r)return;let a=r,o=this.options;a.duration!=null&&(o.duration=yi(a.duration)),a.delay!=null&&(o.delay=yi(a.delay));let h=a.params;if(h){let f=o.params;f||(f=this.options.params={}),Object.keys(h).forEach(y=>{(!t||!f.hasOwnProperty(y))&&(f[y]=ir(h[y],f,this.errors))})}}_copyOptions(){let r={};if(this.options){let t=this.options.params;if(t){let a=r.params={};Object.keys(t).forEach(o=>{a[o]=t[o]})}}return r}createSubContext(r=null,t,a){let o=t||this.element,h=new c(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,a||0));return h.previousNode=this.previousNode,h.currentAnimateTimings=this.currentAnimateTimings,h.options=this._copyOptions(),h.updateOptions(r),h.currentQueryIndex=this.currentQueryIndex,h.currentQueryTotal=this.currentQueryTotal,h.parentContext=this,this.subContextCount++,h}transformIntoNewTimeline(r){return this.previousNode=Go,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,t,a){let o={duration:t??r.duration,delay:this.currentTimeline.currentTime+(a??0)+r.delay,easing:""},h=new $c(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,o,r.stretchStartingKeyframe);return this.timelines.push(h),o}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,t,a,o,h,f){let y=[];if(o&&y.push(this.element),r.length>0){r=r.replace(Uf,"."+this._enterClassName),r=r.replace(qf,"."+this._leaveClassName);let w=a!=1,x=this._driver.query(this.element,r,w);a!==0&&(x=a<0?x.slice(x.length+a,x.length):x.slice(0,a)),y.push(...x)}return!h&&y.length==0&&f.push(om(t)),y}},qo=class c{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(r,t,a,o){this._driver=r,this.element=t,this.startTime=a,this._elementTimelineStylesLookup=o,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+r),t&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,t){return this.applyStylesToKeyframe(),new c(this._driver,r,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Zf,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,t){this._localTimelineStyles.set(r,t),this._globalTimelineStyles.set(r,t),this._styleSummary.set(r,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[t,a]of this._globalTimelineStyles)this._backFill.set(t,a||ei),this._currentKeyframe.set(t,ei);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,t,a,o){t&&this._previousKeyframe.set("easing",t);let h=o&&o.params||{},f=$f(r,this._globalTimelineStyles);for(let[y,w]of f){let x=ir(w,h,a);this._pendingStyles.set(y,x),this._localTimelineStyles.has(y)||this._backFill.set(y,this._globalTimelineStyles.get(y)??ei),this._updateStyle(y,x)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((r,t)=>{this._currentKeyframe.set(t,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,r)}))}snapshotCurrentStyles(){for(let[r,t]of this._localTimelineStyles)this._pendingStyles.set(r,t),this._updateStyle(r,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let r=[];for(let t in this._currentKeyframe)r.push(t);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((t,a)=>{let o=this._styleSummary.get(a);(!o||t.time>o.time)&&this._updateStyle(a,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let r=new Set,t=new Set,a=this._keyframes.size===1&&this.duration===0,o=[];this._keyframes.forEach((y,w)=>{let x=new Map([...this._backFill,...y]);x.forEach((O,z)=>{O===qa?r.add(z):O===ei&&t.add(z)}),a||x.set("offset",w/this.duration),o.push(x)});let h=[...r.values()],f=[...t.values()];if(a){let y=o[0],w=new Map(y);y.set("offset",0),w.set("offset",1),o=[y,w]}return nd(this.element,o,h,f,this.duration,this.startTime,this.easing,!1)}},$c=class extends qo{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(r,t,a,o,h,f,y=!1){super(r,t,f.delay),this.keyframes=a,this.preStyleProps=o,this.postStyleProps=h,this._stretchStartingKeyframe=y,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:t,duration:a,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){let h=[],f=a+t,y=t/f,w=new Map(r[0]);w.set("offset",0),h.push(w);let x=new Map(r[0]);x.set("offset",Tm(y)),h.push(x);let O=r.length-1;for(let z=1;z<=O;z++){let B=new Map(r[z]),V=B.get("offset"),E=t+V*a;B.set("offset",Tm(E/f)),h.push(B)}a=f,t=0,o="",r=h}return nd(this.element,r,this.preStyleProps,this.postStyleProps,a,t,o,!0)}};function Tm(c,r=3){let t=Math.pow(10,r-1);return Math.round(c*t)/t}function $f(c,r){let t=new Map,a;return c.forEach(o=>{if(o==="*"){a??=r.keys();for(let h of a)t.set(h,ei)}else for(let[h,f]of o)t.set(h,f)}),t}function Am(c,r,t,a,o,h,f,y,w,x,O,z,B){return{type:0,element:c,triggerName:r,isRemovalTransition:o,fromState:t,fromStyles:h,toState:a,toStyles:f,timelines:y,queriedElements:w,preStyleProps:x,postStyleProps:O,totalTime:z,errors:B}}var Yc={},$o=class{_triggerName;ast;_stateStyles;constructor(r,t,a){this._triggerName=r,this.ast=t,this._stateStyles=a}match(r,t,a,o){return Kf(this.ast.matchers,r,t,a,o)}buildStyles(r,t,a){let o=this._stateStyles.get("*");return r!==void 0&&(o=this._stateStyles.get(r?.toString())||o),o?o.buildStyles(t,a):new Map}build(r,t,a,o,h,f,y,w,x,O){let z=[],B=this.ast.options&&this.ast.options.params||Yc,V=y&&y.params||Yc,E=this.buildStyles(a,V,z),K=w&&w.params||Yc,fe=this.buildStyles(o,K,z),oe=new Set,Te=new Map,Ie=new Map,Ae=o==="void",pt={params:Vm(K,B),delay:this.ast.options?.delay},Ee=O?[]:zm(r,t,this.ast.animation,h,f,E,fe,pt,x,z),Ne=0;return Ee.forEach(ge=>{Ne=Math.max(ge.duration+ge.delay,Ne)}),z.length?Am(t,this._triggerName,a,o,Ae,E,fe,[],[],Te,Ie,Ne,z):(Ee.forEach(ge=>{let Pe=ge.element,ze=Pt(Te,Pe,new Set);ge.preStyleProps.forEach(Ue=>ze.add(Ue));let ft=Pt(Ie,Pe,new Set);ge.postStyleProps.forEach(Ue=>ft.add(Ue)),Pe!==t&&oe.add(Pe)}),Am(t,this._triggerName,a,o,Ae,E,fe,Ee,[...oe.values()],Te,Ie,Ne))}};function Kf(c,r,t,a,o){return c.some(h=>h(r,t,a,o))}function Vm(c,r){let t=Hn({},r);return Object.entries(c).forEach(([a,o])=>{o!=null&&(t[a]=o)}),t}var Kc=class{styles;defaultParams;normalizer;constructor(r,t,a){this.styles=r,this.defaultParams=t,this.normalizer=a}buildStyles(r,t){let a=new Map,o=Vm(r,this.defaultParams);return this.styles.styles.forEach(h=>{typeof h!="string"&&h.forEach((f,y)=>{f&&(f=ir(f,o,t));let w=this.normalizer.normalizePropertyName(y,t);f=this.normalizer.normalizeStyleValue(y,w,f,t),a.set(y,f)})}),a}};function Qf(c,r,t){return new Qc(c,r,t)}var Qc=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(r,t,a){this.name=r,this.ast=t,this._normalizer=a,t.states.forEach(o=>{let h=o.options&&o.options.params||{};this.states.set(o.name,new Kc(o.style,h,a))}),Em(this.states,"true","1"),Em(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new $o(r,o,this.states))}),this.fallbackTransition=Xf(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,t,a,o){return this.transitionFactories.find(f=>f.match(r,t,a,o))||null}matchStyles(r,t,a){return this.fallbackTransition.buildStyles(r,t,a)}};function Xf(c,r,t){let a=[(f,y)=>!0],o={type:ee.Sequence,steps:[],options:null},h={type:ee.Transition,animation:o,matchers:a,options:null,queryCount:0,depCount:0};return new $o(c,h,r)}function Em(c,r,t){c.has(r)?c.has(t)||c.set(t,c.get(r)):c.has(t)&&c.set(r,c.get(t))}var Jf=new Xr,Xc=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(r,t,a){this.bodyNode=r,this._driver=t,this._normalizer=a}register(r,t){let a=[],o=[],h=Nm(this._driver,t,a,o);if(a.length)throw hm(a);this._animations.set(r,h)}_buildPlayer(r,t,a){let o=r.element,h=Lc(this._normalizer,r.keyframes,t,a);return this._driver.animate(o,h,r.duration,r.delay,r.easing,[],!0)}create(r,t,a={}){let o=[],h=this._animations.get(r),f,y=new Map;if(h?(f=zm(this._driver,t,h,Nc,No,new Map,new Map,a,Jf,o),f.forEach(O=>{let z=Pt(y,O.element,new Map);O.postStyleProps.forEach(B=>z.set(B,null))})):(o.push(mm()),f=[]),o.length)throw um(o);y.forEach((O,z)=>{O.forEach((B,V)=>{O.set(V,this._driver.computeStyle(z,V,ei))})});let w=f.map(O=>{let z=y.get(O.element);return this._buildPlayer(O,new Map,z)}),x=Zi(w);return this._playersById.set(r,x),x.onDestroy(()=>this.destroy(r)),this.players.push(x),x}destroy(r){let t=this._getPlayer(r);t.destroy(),this._playersById.delete(r);let a=this.players.indexOf(t);a>=0&&this.players.splice(a,1)}_getPlayer(r){let t=this._playersById.get(r);if(!t)throw pm(r);return t}listen(r,t,a,o){let h=Ro(t,"","","");return Oo(this._getPlayer(r),a,h,o),()=>{}}command(r,t,a,o){if(a=="register"){this.register(r,o[0]);return}if(a=="create"){let f=o[0]||{};this.create(r,t,f);return}let h=this._getPlayer(r);switch(a){case"play":h.play();break;case"pause":h.pause();break;case"reset":h.reset();break;case"restart":h.restart();break;case"finish":h.finish();break;case"init":h.init();break;case"setPosition":h.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(r);break}}},Pm="ng-animate-queued",e_=".ng-animate-queued",Hc="ng-animate-disabled",t_=".ng-animate-disabled",i_="ng-star-inserted",n_=".ng-star-inserted",a_=[],Bm={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},r_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},si="__ng_removed",Jr=class{namespaceId;value;options;get params(){return this.options.params}constructor(r,t=""){this.namespaceId=t;let a=r&&r.hasOwnProperty("value"),o=a?r.value:r;if(this.value=o_(o),a){let h=r,{value:f}=h,y=fd(h,["value"]);this.options=y}else this.options={};this.options.params||(this.options.params={})}absorbOptions(r){let t=r.params;if(t){let a=this.options.params;Object.keys(t).forEach(o=>{a[o]==null&&(a[o]=t[o])})}}},Qr="void",Wc=new Jr(Qr),Jc=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(r,t,a){this.id=r,this.hostElement=t,this._engine=a,this._hostClassName="ng-tns-"+r,ii(t,this._hostClassName)}listen(r,t,a,o){if(!this._triggers.has(t))throw fm(a,t);if(a==null||a.length==0)throw _m(t);if(!l_(a))throw gm(a,t);let h=Pt(this._elementListeners,r,[]),f={name:t,phase:a,callback:o};h.push(f);let y=Pt(this._engine.statesByElement,r,new Map);return y.has(t)||(ii(r,qr),ii(r,qr+"-"+t),y.set(t,Wc)),()=>{this._engine.afterFlush(()=>{let w=h.indexOf(f);w>=0&&h.splice(w,1),this._triggers.has(t)||y.delete(t)})}}register(r,t){return this._triggers.has(r)?!1:(this._triggers.set(r,t),!0)}_getTrigger(r){let t=this._triggers.get(r);if(!t)throw ym(r);return t}trigger(r,t,a,o=!0){let h=this._getTrigger(t),f=new es(this.id,t,r),y=this._engine.statesByElement.get(r);y||(ii(r,qr),ii(r,qr+"-"+t),this._engine.statesByElement.set(r,y=new Map));let w=y.get(t),x=new Jr(a,this.id);if(!(a&&a.hasOwnProperty("value"))&&w&&x.absorbOptions(w.options),y.set(t,x),w||(w=Wc),!(x.value===Qr)&&w.value===x.value){if(!h_(w.params,x.params)){let K=[],fe=h.matchStyles(w.value,w.params,K),oe=h.matchStyles(x.value,x.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{fn(r,fe),ri(r,oe)})}return}let B=Pt(this._engine.playersByElement,r,[]);B.forEach(K=>{K.namespaceId==this.id&&K.triggerName==t&&K.queued&&K.destroy()});let V=h.matchTransition(w.value,x.value,r,x.params),E=!1;if(!V){if(!o)return;V=h.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:t,transition:V,fromState:w,toState:x,player:f,isFallbackTransition:E}),E||(ii(r,Pm),f.onStart(()=>{nr(r,Pm)})),f.onDone(()=>{let K=this.players.indexOf(f);K>=0&&this.players.splice(K,1);let fe=this._engine.playersByElement.get(r);if(fe){let oe=fe.indexOf(f);oe>=0&&fe.splice(oe,1)}}),this.players.push(f),B.push(f),f}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(t=>t.delete(r)),this._elementListeners.forEach((t,a)=>{this._elementListeners.set(a,t.filter(o=>o.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);let t=this._engine.playersByElement.get(r);t&&(t.forEach(a=>a.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,t){let a=this._engine.driver.query(r,$r,!0);a.forEach(o=>{if(o[si])return;let h=this._engine.fetchNamespacesByElement(o);h.size?h.forEach(f=>f.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>a.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(r,t,a,o){let h=this._engine.statesByElement.get(r),f=new Map;if(h){let y=[];if(h.forEach((w,x)=>{if(f.set(x,w.value),this._triggers.has(x)){let O=this.trigger(r,x,Qr,o);O&&y.push(O)}}),y.length)return this._engine.markElementAsRemoved(this.id,r,!0,t,f),a&&Zi(y).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){let t=this._elementListeners.get(r),a=this._engine.statesByElement.get(r);if(t&&a){let o=new Set;t.forEach(h=>{let f=h.name;if(o.has(f))return;o.add(f);let w=this._triggers.get(f).fallbackTransition,x=a.get(f)||Wc,O=new Jr(Qr),z=new es(this.id,f,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:f,transition:w,fromState:x,toState:O,player:z,isFallbackTransition:!0})})}}removeNode(r,t){let a=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,t),this.triggerLeaveAnimation(r,t,!0))return;let o=!1;if(a.totalAnimations){let h=a.players.length?a.playersByQueriedElement.get(r):[];if(h&&h.length)o=!0;else{let f=r;for(;f=f.parentNode;)if(a.statesByElement.get(f)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(r),o)a.markElementAsRemoved(this.id,r,!1,t);else{let h=r[si];(!h||h===Bm)&&(a.afterFlush(()=>this.clearElementCache(r)),a.destroyInnerAnimations(r),a._onRemovalComplete(r,t))}}insertNode(r,t){ii(r,this._hostClassName)}drainQueuedTransitions(r){let t=[];return this._queue.forEach(a=>{let o=a.player;if(o.destroyed)return;let h=a.element,f=this._elementListeners.get(h);f&&f.forEach(y=>{if(y.name==a.triggerName){let w=Ro(h,a.triggerName,a.fromState.value,a.toState.value);w._data=r,Oo(a.player,y.phase,w,y.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(a)}),this._queue=[],t.sort((a,o)=>{let h=a.transition.ast.depCount,f=o.transition.ast.depCount;return h==0||f==0?h-f:this._engine.driver.containsElement(a.element,o.element)?1:-1})}destroy(r){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}},ed=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(r,t)=>{};_onRemovalComplete(r,t){this.onRemovalComplete(r,t)}constructor(r,t,a){this.bodyNode=r,this.driver=t,this._normalizer=a}get queuedPlayers(){let r=[];return this._namespaceList.forEach(t=>{t.players.forEach(a=>{a.queued&&r.push(a)})}),r}createNamespace(r,t){let a=new Jc(r,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(a,t):(this.newHostElements.set(t,a),this.collectEnterElement(t)),this._namespaceLookup[r]=a}_balanceNamespaceList(r,t){let a=this._namespaceList,o=this.namespacesByHostElement;if(a.length-1>=0){let f=!1,y=this.driver.getParentElement(t);for(;y;){let w=o.get(y);if(w){let x=a.indexOf(w);a.splice(x+1,0,r),f=!0;break}y=this.driver.getParentElement(y)}f||a.unshift(r)}else a.push(r);return o.set(t,r),r}register(r,t){let a=this._namespaceLookup[r];return a||(a=this.createNamespace(r,t)),a}registerTrigger(r,t,a){let o=this._namespaceLookup[r];o&&o.register(t,a)&&this.totalAnimations++}destroy(r,t){r&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let a=this._fetchNamespace(r);this.namespacesByHostElement.delete(a.hostElement);let o=this._namespaceList.indexOf(a);o>=0&&this._namespaceList.splice(o,1),a.destroy(t),delete this._namespaceLookup[r]}))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){let t=new Set,a=this.statesByElement.get(r);if(a){for(let o of a.values())if(o.namespaceId){let h=this._fetchNamespace(o.namespaceId);h&&t.add(h)}}return t}trigger(r,t,a,o){if(Wo(t)){let h=this._fetchNamespace(r);if(h)return h.trigger(t,a,o),!0}return!1}insertNode(r,t,a,o){if(!Wo(t))return;let h=t[si];if(h&&h.setForRemoval){h.setForRemoval=!1,h.setForMove=!0;let f=this.collectedLeaveElements.indexOf(t);f>=0&&this.collectedLeaveElements.splice(f,1)}if(r){let f=this._fetchNamespace(r);f&&f.insertNode(t,a)}o&&this.collectEnterElement(t)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,t){t?this.disabledNodes.has(r)||(this.disabledNodes.add(r),ii(r,Hc)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),nr(r,Hc))}removeNode(r,t,a){if(Wo(t)){let o=r?this._fetchNamespace(r):null;o?o.removeNode(t,a):this.markElementAsRemoved(r,t,!1,a);let h=this.namespacesByHostElement.get(t);h&&h.id!==r&&h.removeNode(t,a)}else this._onRemovalComplete(t,a)}markElementAsRemoved(r,t,a,o,h){this.collectedLeaveElements.push(t),t[si]={namespaceId:r,setForRemoval:o,hasAnimation:a,removedBeforeQueried:!1,previousTriggersValues:h}}listen(r,t,a,o,h){return Wo(t)?this._fetchNamespace(r).listen(t,a,o,h):()=>{}}_buildInstruction(r,t,a,o,h){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,a,o,r.fromState.options,r.toState.options,t,h)}destroyInnerAnimations(r){let t=this.driver.query(r,$r,!0);t.forEach(a=>this.destroyActiveAnimationsForElement(a)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(r,zo,!0),t.forEach(a=>this.finishActiveQueriedAnimationOnElement(a)))}destroyActiveAnimationsForElement(r){let t=this.playersByElement.get(r);t&&t.forEach(a=>{a.queued?a.markedForDestroy=!0:a.destroy()})}finishActiveQueriedAnimationOnElement(r){let t=this.playersByQueriedElement.get(r);t&&t.forEach(a=>a.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return Zi(this.players).onDone(()=>r());r()})}processLeaveNode(r){let t=r[si];if(t&&t.setForRemoval){if(r[si]=Bm,t.namespaceId){this.destroyInnerAnimations(r);let a=this._fetchNamespace(t.namespaceId);a&&a.clearElementCache(r)}this._onRemovalComplete(r,t.setForRemoval)}r.classList?.contains(Hc)&&this.markElementAsDisabled(r,!1),this.driver.query(r,t_,!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(r=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((a,o)=>this._balanceNamespaceList(a,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let a=0;a<this.collectedEnterElements.length;a++){let o=this.collectedEnterElements[a];ii(o,i_)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let a=[];try{t=this._flushAnimations(a,r)}finally{for(let o=0;o<a.length;o++)a[o]()}}else for(let a=0;a<this.collectedLeaveElements.length;a++){let o=this.collectedLeaveElements[a];this.processLeaveNode(o)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(a=>a()),this._flushFns=[],this._whenQuietFns.length){let a=this._whenQuietFns;this._whenQuietFns=[],t.length?Zi(t).onDone(()=>{a.forEach(o=>o())}):a.forEach(o=>o())}}reportError(r){throw vm(r)}_flushAnimations(r,t){let a=new Xr,o=[],h=new Map,f=[],y=new Map,w=new Map,x=new Map,O=new Set;this.disabledNodes.forEach(D=>{O.add(D);let G=this.driver.query(D,e_,!0);for(let T=0;T<G.length;T++)O.add(G[T])});let z=this.bodyNode,B=Array.from(this.statesByElement.keys()),V=Om(B,this.collectedEnterElements),E=new Map,K=0;V.forEach((D,G)=>{let T=Nc+K++;E.set(G,T),D.forEach(Z=>ii(Z,T))});let fe=[],oe=new Set,Te=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){let G=this.collectedLeaveElements[D],T=G[si];T&&T.setForRemoval&&(fe.push(G),oe.add(G),T.hasAnimation?this.driver.query(G,n_,!0).forEach(Z=>oe.add(Z)):Te.add(G))}let Ie=new Map,Ae=Om(B,Array.from(oe));Ae.forEach((D,G)=>{let T=No+K++;Ie.set(G,T),D.forEach(Z=>ii(Z,T))}),r.push(()=>{V.forEach((D,G)=>{let T=E.get(G);D.forEach(Z=>nr(Z,T))}),Ae.forEach((D,G)=>{let T=Ie.get(G);D.forEach(Z=>nr(Z,T))}),fe.forEach(D=>{this.processLeaveNode(D)})});let pt=[],Ee=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(t).forEach(T=>{let Z=T.player,re=T.element;if(pt.push(Z),this.collectedEnterElements.length){let Ve=re[si];if(Ve&&Ve.setForMove){if(Ve.previousTriggersValues&&Ve.previousTriggersValues.has(T.triggerName)){let It=Ve.previousTriggersValues.get(T.triggerName),Je=this.statesByElement.get(T.element);if(Je&&Je.has(T.triggerName)){let jt=Je.get(T.triggerName);jt.value=It,Je.set(T.triggerName,jt)}}Z.destroy();return}}let xe=!z||!this.driver.containsElement(z,re),ne=Ie.get(re),R=E.get(re),U=this._buildInstruction(T,a,R,ne,xe);if(U.errors&&U.errors.length){Ee.push(U);return}if(xe){Z.onStart(()=>fn(re,U.fromStyles)),Z.onDestroy(()=>ri(re,U.toStyles)),o.push(Z);return}if(T.isFallbackTransition){Z.onStart(()=>fn(re,U.fromStyles)),Z.onDestroy(()=>ri(re,U.toStyles)),o.push(Z);return}let xt=[];U.timelines.forEach(Ve=>{Ve.stretchStartingKeyframe=!0,this.disabledNodes.has(Ve.element)||xt.push(Ve)}),U.timelines=xt,a.append(re,U.timelines);let _t={instruction:U,player:Z,element:re};f.push(_t),U.queriedElements.forEach(Ve=>Pt(y,Ve,[]).push(Z)),U.preStyleProps.forEach((Ve,It)=>{if(Ve.size){let Je=w.get(It);Je||w.set(It,Je=new Set),Ve.forEach((jt,bi)=>Je.add(bi))}}),U.postStyleProps.forEach((Ve,It)=>{let Je=x.get(It);Je||x.set(It,Je=new Set),Ve.forEach((jt,bi)=>Je.add(bi))})});if(Ee.length){let D=[];Ee.forEach(G=>{D.push(bm(G.triggerName,G.errors))}),pt.forEach(G=>G.destroy()),this.reportError(D)}let Ne=new Map,ge=new Map;f.forEach(D=>{let G=D.element;a.has(G)&&(ge.set(G,G),this._beforeAnimationBuild(D.player.namespaceId,D.instruction,Ne))}),o.forEach(D=>{let G=D.element;this._getPreviousPlayers(G,!1,D.namespaceId,D.triggerName,null).forEach(Z=>{Pt(Ne,G,[]).push(Z),Z.destroy()})});let Pe=fe.filter(D=>Rm(D,w,x)),ze=new Map;Im(ze,this.driver,Te,x,ei).forEach(D=>{Rm(D,w,x)&&Pe.push(D)});let Ue=new Map;V.forEach((D,G)=>{Im(Ue,this.driver,new Set(D),w,qa)}),Pe.forEach(D=>{let G=ze.get(D),T=Ue.get(D);ze.set(D,new Map([...G?.entries()??[],...T?.entries()??[]]))});let vi=[],He=[],Zt={};f.forEach(D=>{let{element:G,player:T,instruction:Z}=D;if(a.has(G)){if(O.has(G)){T.onDestroy(()=>ri(G,Z.toStyles)),T.disabled=!0,T.overrideTotalTime(Z.totalTime),o.push(T);return}let re=Zt;if(ge.size>1){let ne=G,R=[];for(;ne=ne.parentNode;){let U=ge.get(ne);if(U){re=U;break}R.push(ne)}R.forEach(U=>ge.set(U,re))}let xe=this._buildAnimation(T.namespaceId,Z,Ne,h,Ue,ze);if(T.setRealPlayer(xe),re===Zt)vi.push(T);else{let ne=this.playersByElement.get(re);ne&&ne.length&&(T.parentPlayer=Zi(ne)),o.push(T)}}else fn(G,Z.fromStyles),T.onDestroy(()=>ri(G,Z.toStyles)),He.push(T),O.has(G)&&o.push(T)}),He.forEach(D=>{let G=h.get(D.element);if(G&&G.length){let T=Zi(G);D.setRealPlayer(T)}}),o.forEach(D=>{D.parentPlayer?D.syncPlayerEvents(D.parentPlayer):D.destroy()});for(let D=0;D<fe.length;D++){let G=fe[D],T=G[si];if(nr(G,No),T&&T.hasAnimation)continue;let Z=[];if(y.size){let xe=y.get(G);xe&&xe.length&&Z.push(...xe);let ne=this.driver.query(G,zo,!0);for(let R=0;R<ne.length;R++){let U=y.get(ne[R]);U&&U.length&&Z.push(...U)}}let re=Z.filter(xe=>!xe.destroyed);re.length?c_(this,G,re):this.processLeaveNode(G)}return fe.length=0,vi.forEach(D=>{this.players.push(D),D.onDone(()=>{D.destroy();let G=this.players.indexOf(D);this.players.splice(G,1)}),D.play()}),vi}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,t,a,o,h){let f=[];if(t){let y=this.playersByQueriedElement.get(r);y&&(f=y)}else{let y=this.playersByElement.get(r);if(y){let w=!h||h==Qr;y.forEach(x=>{x.queued||!w&&x.triggerName!=o||f.push(x)})}}return(a||o)&&(f=f.filter(y=>!(a&&a!=y.namespaceId||o&&o!=y.triggerName))),f}_beforeAnimationBuild(r,t,a){let o=t.triggerName,h=t.element,f=t.isRemovalTransition?void 0:r,y=t.isRemovalTransition?void 0:o;for(let w of t.timelines){let x=w.element,O=x!==h,z=Pt(a,x,[]);this._getPreviousPlayers(x,O,f,y,t.toState).forEach(V=>{let E=V.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),V.destroy(),z.push(V)})}fn(h,t.fromStyles)}_buildAnimation(r,t,a,o,h,f){let y=t.triggerName,w=t.element,x=[],O=new Set,z=new Set,B=t.timelines.map(E=>{let K=E.element;O.add(K);let fe=K[si];if(fe&&fe.removedBeforeQueried)return new gi(E.duration,E.delay);let oe=K!==w,Te=d_((a.get(K)||a_).map(Ne=>Ne.getRealPlayer())).filter(Ne=>{let ge=Ne;return ge.element?ge.element===K:!1}),Ie=h.get(K),Ae=f.get(K),pt=Lc(this._normalizer,E.keyframes,Ie,Ae),Ee=this._buildPlayer(E,pt,Te);if(E.subTimeline&&o&&z.add(K),oe){let Ne=new es(r,y,K);Ne.setRealPlayer(Ee),x.push(Ne)}return Ee});x.forEach(E=>{Pt(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>s_(this.playersByQueriedElement,E.element,E))}),O.forEach(E=>ii(E,zc));let V=Zi(B);return V.onDestroy(()=>{O.forEach(E=>nr(E,zc)),ri(w,t.toStyles)}),z.forEach(E=>{Pt(o,E,[]).push(V)}),V}_buildPlayer(r,t,a){return t.length>0?this.driver.animate(r.element,t,r.duration,r.delay,r.easing,a):new gi(r.duration,r.delay)}},es=class{namespaceId;triggerName;element;_player=new gi;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(r,t,a){this.namespaceId=r,this.triggerName=t,this.element=a}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((t,a)=>{t.forEach(o=>Oo(r,a,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){let t=this._player;t.triggerCallback&&r.onStart(()=>t.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,t){Pt(this._queuedCallbacks,r,[]).push(t)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){let t=this._player;t.triggerCallback&&t.triggerCallback(r)}};function s_(c,r,t){let a=c.get(r);if(a){if(a.length){let o=a.indexOf(t);a.splice(o,1)}a.length==0&&c.delete(r)}return a}function o_(c){return c??null}function Wo(c){return c&&c.nodeType===1}function l_(c){return c=="start"||c=="done"}function Lm(c,r){let t=c.style.display;return c.style.display=r??"none",t}function Im(c,r,t,a,o){let h=[];t.forEach(w=>h.push(Lm(w)));let f=[];a.forEach((w,x)=>{let O=new Map;w.forEach(z=>{let B=r.computeStyle(x,z,o);O.set(z,B),(!B||B.length==0)&&(x[si]=r_,f.push(x))}),c.set(x,O)});let y=0;return t.forEach(w=>Lm(w,h[y++])),f}function Om(c,r){let t=new Map;if(c.forEach(y=>t.set(y,[])),r.length==0)return t;let a=1,o=new Set(r),h=new Map;function f(y){if(!y)return a;let w=h.get(y);if(w)return w;let x=y.parentNode;return t.has(x)?w=x:o.has(x)?w=a:w=f(x),h.set(y,w),w}return r.forEach(y=>{let w=f(y);w!==a&&t.get(w).push(y)}),t}function ii(c,r){c.classList?.add(r)}function nr(c,r){c.classList?.remove(r)}function c_(c,r,t){Zi(t).onDone(()=>c.processLeaveNode(r))}function d_(c){let r=[];return Ym(c,r),r}function Ym(c,r){for(let t=0;t<c.length;t++){let a=c[t];a instanceof Xn?Ym(a.players,r):r.push(a)}}function h_(c,r){let t=Object.keys(c),a=Object.keys(r);if(t.length!=a.length)return!1;for(let o=0;o<t.length;o++){let h=t[o];if(!r.hasOwnProperty(h)||c[h]!==r[h])return!1}return!0}function Rm(c,r,t){let a=t.get(c);if(!a)return!1;let o=r.get(c);return o?a.forEach(h=>o.add(h)):r.set(c,a),t.delete(c),!0}var ar=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(r,t)=>{};constructor(r,t,a){this._driver=t,this._normalizer=a,this._transitionEngine=new ed(r.body,t,a),this._timelineEngine=new Xc(r.body,t,a),this._transitionEngine.onRemovalComplete=(o,h)=>this.onRemovalComplete(o,h)}registerTrigger(r,t,a,o,h){let f=r+"-"+o,y=this._triggerCache[f];if(!y){let w=[],x=[],O=Nm(this._driver,h,w,x);if(w.length)throw dm(o,w);y=Qf(o,O,this._normalizer),this._triggerCache[f]=y}this._transitionEngine.registerTrigger(t,o,y)}register(r,t){this._transitionEngine.register(r,t)}destroy(r,t){this._transitionEngine.destroy(r,t)}onInsert(r,t,a,o){this._transitionEngine.insertNode(r,t,a,o)}onRemove(r,t,a){this._transitionEngine.removeNode(r,t,a)}disableAnimations(r,t){this._transitionEngine.markElementAsDisabled(r,t)}process(r,t,a,o){if(a.charAt(0)=="@"){let[h,f]=Ic(a),y=o;this._timelineEngine.command(h,t,f,y)}else this._transitionEngine.trigger(r,t,a,o)}listen(r,t,a,o,h){if(a.charAt(0)=="@"){let[f,y]=Ic(a);return this._timelineEngine.listen(f,t,y,h)}return this._transitionEngine.listen(r,t,a,o,h)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(r){this._transitionEngine.afterFlushAnimationsDone(r)}};function m_(c,r){let t=null,a=null;return Array.isArray(r)&&r.length?(t=Zc(r[0]),r.length>1&&(a=Zc(r[r.length-1]))):r instanceof Map&&(t=Zc(r)),t||a?new u_(c,t,a):null}var u_=(()=>{class c{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,a,o){this._element=t,this._startStyles=a,this._endStyles=o;let h=c.initialStylesByElement.get(t);h||c.initialStylesByElement.set(t,h=new Map),this._initialStyles=h}start(){this._state<1&&(this._startStyles&&ri(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ri(this._element,this._initialStyles),this._endStyles&&(ri(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(fn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fn(this._element,this._endStyles),this._endStyles=null),ri(this._element,this._initialStyles),this._state=3)}}return c})();function Zc(c){let r=null;return c.forEach((t,a)=>{p_(a)&&(r=r||new Map,r.set(a,t))}),r}function p_(c){return c==="display"||c==="position"}var Ko=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(r,t,a,o){this.element=r,this.keyframes=t,this.options=a,this._specialStyles=o,this._duration=a.duration,this._delay=a.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){let t=[];return r.forEach(a=>{t.push(Object.fromEntries(a))}),t}_triggerWebAnimation(r,t,a){return r.animate(this._convertKeyframesToObject(t),a)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((a,o)=>{o!=="offset"&&r.set(o,this._finished?a:Bo(this.element,o))}),this.currentSnapshot=r}triggerCallback(r){let t=r==="start"?this._onStartFns:this._onDoneFns;t.forEach(a=>a()),t.length=0}},Qo=class{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}containsElement(r,t){return Oc(r,t)}getParentElement(r){return Fo(r)}query(r,t,a){return Rc(r,t,a)}computeStyle(r,t,a){return Bo(r,t)}animate(r,t,a,o,h,f=[]){let y=o==0?"both":"forwards",w={duration:a,delay:o,fill:y};h&&(w.easing=h);let x=new Map,O=f.filter(V=>V instanceof Ko);Sm(a,o)&&O.forEach(V=>{V.currentSnapshot.forEach((E,K)=>x.set(K,E))});let z=xm(t).map(V=>new Map(V));z=Mm(r,z,x);let B=m_(r,z);return new Ko(r,z,w,B)}};var Zo="@",Hm="@.disabled",Xo=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(r,t,a,o){this.namespaceId=r,this.delegate=t,this.engine=a,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(r){this.delegate.destroyNode?.(r)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(r,t){return this.delegate.createElement(r,t)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,t){this.delegate.appendChild(r,t),this.engine.onInsert(this.namespaceId,t,r,!1)}insertBefore(r,t,a,o=!0){this.delegate.insertBefore(r,t,a),this.engine.onInsert(this.namespaceId,t,r,o)}removeChild(r,t,a){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(r,t){return this.delegate.selectRootElement(r,t)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,t,a,o){this.delegate.setAttribute(r,t,a,o)}removeAttribute(r,t,a){this.delegate.removeAttribute(r,t,a)}addClass(r,t){this.delegate.addClass(r,t)}removeClass(r,t){this.delegate.removeClass(r,t)}setStyle(r,t,a,o){this.delegate.setStyle(r,t,a,o)}removeStyle(r,t,a){this.delegate.removeStyle(r,t,a)}setProperty(r,t,a){t.charAt(0)==Zo&&t==Hm?this.disableAnimations(r,!!a):this.delegate.setProperty(r,t,a)}setValue(r,t){this.delegate.setValue(r,t)}listen(r,t,a,o){return this.delegate.listen(r,t,a,o)}disableAnimations(r,t){this.engine.disableAnimations(r,t)}},td=class extends Xo{factory;constructor(r,t,a,o,h){super(t,a,o,h),this.factory=r,this.namespaceId=t}setProperty(r,t,a){t.charAt(0)==Zo?t.charAt(1)=="."&&t==Hm?(a=a===void 0?!0:!!a,this.disableAnimations(r,a)):this.engine.process(this.namespaceId,r,t.slice(1),a):this.delegate.setProperty(r,t,a)}listen(r,t,a,o){if(t.charAt(0)==Zo){let h=f_(r),f=t.slice(1),y="";return f.charAt(0)!=Zo&&([f,y]=__(f)),this.engine.listen(this.namespaceId,h,f,y,w=>{let x=w._data||-1;this.factory.scheduleListenerCallback(x,a,w)})}return this.delegate.listen(r,t,a,o)}};function f_(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}function __(c){let r=c.indexOf("."),t=c.substring(0,r),a=c.slice(r+1);return[t,a]}var Jo=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(r,t,a){this.delegate=r,this.engine=t,this._zone=a,t.onRemovalComplete=(o,h)=>{h?.removeChild(null,o)}}createRenderer(r,t){let a="",o=this.delegate.createRenderer(r,t);if(!r||!t?.data?.animation){let x=this._rendererCache,O=x.get(o);if(!O){let z=()=>x.delete(o);O=new Xo(a,o,this.engine,z),x.set(o,O)}return O}let h=t.id,f=t.id+"-"+this._currentId;this._currentId++,this.engine.register(f,r);let y=x=>{Array.isArray(x)?x.forEach(y):this.engine.registerTrigger(h,f,r,x.name,x)};return t.data.animation.forEach(y),new td(this,f,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,t,a){if(r>=0&&r<this._microtaskId){this._zone.run(()=>t(a));return}let o=this._animationCallbacksBuffer;o.length==0&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(h=>{let[f,y]=h;f(y)}),this._animationCallbacksBuffer=[]})}),o.push([t,a])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(r){this.engine.flush(),this.delegate.componentReplaced?.(r)}};var y_=(()=>{class c extends ar{constructor(t,a,o){super(t,a,o)}ngOnDestroy(){this.flush()}static \u0275fac=function(a){return new(a||c)(Vi(jn),Vi(na),Vi(aa))};static \u0275prov=Ze({token:c,factory:c.\u0275fac})}return c})();function v_(){return new jo}function b_(c,r,t){return new Jo(c,r,t)}var Wm=[{provide:aa,useFactory:v_},{provide:ar,useClass:y_},{provide:Md,useFactory:b_,deps:[Id,ar,Un]}],eb=[{provide:na,useClass:id},{provide:Ql,useValue:"NoopAnimations"},...Wm],w_=[{provide:na,useFactory:()=>new Qo},{provide:Ql,useFactory:()=>"BrowserAnimations"},...Wm];function Zm(){return Cd("NgEagerAnimations"),[...w_]}var jm=(()=>{let r=class r{constructor(){this.cache=new Map}intercept(a,o){if(a.url.includes("biblio")===!0||a.url.includes("statistics")===!0){console.log(a.url);let h=this.cache.get(a.url);return h?$e(h):o.handle(a).pipe(Zn(f=>{f instanceof Fd&&this.cache.set(a.url,f)}))}return o.handle(a)}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ze({token:r,factory:r.\u0275fac,providedIn:"root"});let c=r;return c})();ph.production&&void 0;Od(xh,{providers:[vd(Rd,lo,za,Ao,ko,Wa,dn,xo,Gh,Uh,Rh,Ih,Ba,To,Ha,ja,Za,mh,uh,Lh,_i),{provide:Nd,useClass:jm,multi:!0},{provide:Wi,useValue:{display:{dateInput:"YYYY-MM-DD"}}},zd(Vd()),Zm()]}).catch(c=>console.error(c));
